(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{980:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var r=n(5155);n(2115);var a=n(2388);let o={SETTINGS:"/settings",PROFILE:"/profile",LEADERBOARD:"/leaderboard"};var s=n(592),l=n(9642),c=n(8076);let i=()=>{let e=(0,a.a8)()===o.SETTINGS,t=(0,a.rd)();return(0,r.jsx)(s.P.img,{className:"size-12 ml-auto cursor-pointer drop-shadow-volume",src:c.Ze.SETTINGS,alt:"settings-icon",animate:{rotate:360*!!e},transition:{duration:.5},onTap:()=>{e?(t.back(),l.Gvj.isVisible()&&l.Gvj.hide()):t.push(o.SETTINGS)}})};var u=n(6766),d=n(2596);let p=e=>{let{user:t}=e,n=(0,d.A)("size-16 rounded-2xl",(null==t?void 0:t.rank)==="NEWBIE"&&"shadow-rank-newbie",(null==t?void 0:t.rank)==="STALKER"&&"shadow-rank-stalker",(null==t?void 0:t.rank)==="LEGEND"&&"shadow-rank-legend",(null==t?void 0:t.rank)==="PROFESSIONAL"&&"shadow-rank-professional");return(0,r.jsx)(u.default,{width:64,height:64,className:n,src:(null==t?void 0:t.avatar)||(null==t?void 0:t.photo_url)||c.Gz.USER,alt:c.vJ.USER_AVATAR})};var h=n(1198);let m=()=>{let{user:e}=(0,h.A)();return(0,r.jsxs)("div",{className:"bg-foreground shadow-volume p-2 mx-4 rounded-b-2xl flex flex-row items-center",children:[(0,r.jsx)(a.N_,{href:o.PROFILE,children:(0,r.jsx)(p,{user:e})}),(0,r.jsxs)("div",{className:"pl-2",children:[(0,r.jsxs)("h1",{className:"text-lg font-bold font-primary",children:["@",(null==e?void 0:e.nickname)||(null==e?void 0:e.username)||"username"]}),(0,r.jsx)(a.N_,{href:o.LEADERBOARD,children:(0,r.jsx)("p",{className:"text-text font-primary text-sm",children:(null==e?void 0:e.rank)||"NEWBIE"})})]}),(0,r.jsx)(i,{})]})}},1198:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(5453).v)((e,t)=>({user:void 0,setUser:t=>{e({user:t})},updateUserSettings:n=>{let r=t().user;r&&e({user:{...r,settings:n}})}}))},1281:()=>{},1922:(e,t,n)=>{Promise.resolve().then(n.bind(n,5626)),Promise.resolve().then(n.bind(n,8882)),Promise.resolve().then(n.bind(n,8830)),Promise.resolve().then(n.t.bind(n,2252,23)),Promise.resolve().then(n.bind(n,6455)),Promise.resolve().then(n.bind(n,6735)),Promise.resolve().then(n.bind(n,980)),Promise.resolve().then(n.t.bind(n,5786,23))},2388:(e,t,n)=>{"use strict";n.d(t,{N_:()=>s,a8:()=>c,rd:()=>i});var r=n(7830),a=n(3089);let o=(0,r.o)({locales:["en","uk"],defaultLocale:"en"}),{Link:s,redirect:l,usePathname:c,useRouter:i,getPathname:u}=(0,a.xp)(o)},5201:(e,t,n)=>{"use strict";n.d(t,{Nl:()=>c,Lg:()=>d,c5:()=>p});var r=n(5155),a=n(2115),o=n(9335);let s=(0,a.createContext)(null),l=null,c=(0,a.memo)(e=>{let{children:t,...n}=e;return l||(l=new o.i$(n)),(0,r.jsx)(s.Provider,{value:l,children:t})});class i extends o.WG{constructor(...e){super(...e),Object.setPrototypeOf(this,i.prototype)}}class u extends i{constructor(...e){super(...e),Object.setPrototypeOf(this,u.prototype)}}function d(){let e=(0,a.useContext)(s),t=(0,a.useCallback)(t=>{e&&(e.uiOptions=t)},[e]);return!function(e){if(!e)throw new u("You should add <TonConnectUIProvider> on the top of the app to use TonConnect")}(e),[e,t]}function p(){let[e]=d(),[t,n]=(0,a.useState)((null==e?void 0:e.wallet)||null);return(0,a.useEffect)(()=>{if(e)return n(e.wallet),e.onStatusChange(e=>{n(e)})},[e]),t}},5786:()=>{},6443:()=>{},6455:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(5155),a=n(7650),o=n(2115),s=n(760),l=n(592),c=n(2388),i=n(5695);let u=e=>{let{visible:t,children:n,onClose:u,query:d}=e,[p,h]=(0,o.useState)(null),m=(0,i.useSearchParams)(),f=(0,c.a8)(),E=(0,c.rd)(),[g,v]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{t?v(t):d?v("true"===m.get(d)):v(!1)},[d,t,m]),(0,o.useEffect)(()=>{h(document.getElementById("modal-container"))},[]),p&&g)?(0,a.createPortal)((0,r.jsx)(s.N,{children:(0,r.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},onClick:e=>{if(d){let e=new URLSearchParams(m.toString());e.delete(d),E.push("".concat(f,"?").concat(e.toString()))}u&&u(e)},children:n})}),p):null}},6735:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(5155),a=n(2115),o=n(5201),s=n(9642),l=n(1198);n(9509).env.TELEGRAM_BOT_TOKEN;let c=()=>{let{setUser:e}=(0,l.A)();return(0,a.useEffect)(()=>{let t;try{t=(0,s.t1V)()}catch(e){console.error("Failed to retrieve init data. Check your environment"),t="query_id=AAGBipYvAAAAAIGKli_1WXSx&user=%7B%22id%22%3A798395009%2C%22first_name%22%3A%22Nikolay%22%2C%22last_name%22%3A%22Hetman%22%2C%22username%22%3A%22crazyproger1%22%2C%22language_code%22%3A%22ru%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FlPc5Wj2Du4A7oGsBpeyxMPXVWI-WJCntsNjLMSXoR1A.svg%22%7D&auth_date=1745439370&signature=7WOPaKmDWZulT9fomWuci6nlhd9w_4ZDfEpwrR1mWzG2ep_TTEdavkQV9QzfkNIzHLxzOjc-k1GaE5TJwGj2Aw&hash=0d2cd5ed3fcaf38175ea525458979ae1709b1c62b2d0a67d59ae24e7a0f2a831"}fetch("".concat("http://localhost:3000/","/api/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initData:t})}).then(t=>t.json().then(t=>{e(t.user)}))},[e]),(0,r.jsx)(r.Fragment,{})};try{(0,s.TsN)()}catch(e){console.error("Failed to init Telegram Mini App. Check your environment")}let i=e=>{let{children:t,manifestUrl:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(o.Nl,{manifestUrl:n,children:t})]})}},8076:(e,t,n)=>{"use strict";n.d(t,{Gz:()=>l,Ze:()=>o,vJ:()=>c});let r="/icons",a="/images",o={SETTINGS:"".concat(r,"/settings.png"),STAR:"".concat(r,"/star.png"),PROFILE:"".concat(r,"/profile.png"),SEARCH:"".concat(r,"/search.png"),FRIENDS:"".concat(r,"/friends.png"),CLOCK:"".concat(r,"/clock.png"),NOTFOUND:"".concat(r,"/404.png"),LOCK:"".concat(r,"/padlock.png"),BELL:"".concat(r,"/bell.png"),INFO:"".concat(r,"/information.png"),CANCEL:"".concat(r,"/cancel.png"),CHECKED:"".concat(r,"/checked.png"),GIFT:"".concat(r,"/gift.png"),WARNING:"".concat(r,"/warning.png"),SUPPORT:"".concat(r,"/support.png"),REPORT:"".concat(r,"/report.png"),COMMUNITY:"".concat(r,"/community.png"),WALLET:"".concat(r,"/wallet.png")},s={USER:"".concat(a,"/user.png"),OBJECT:"".concat(a,"/object.png")},l={USER:s.USER,OBJECT:s.OBJECT},c={USER_AVATAR:"User photo",BLOCK_ICON:"Block icon"}}},e=>{var t=t=>e(e.s=t);e.O(0,[87,99,882,922,24,441,684,358],()=>t(1922)),_N_E=e.O()}]);