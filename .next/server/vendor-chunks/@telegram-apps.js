"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@telegram-apps";
exports.ids = ["vendor-chunks/@telegram-apps"];
exports.modules = {

/***/ "(rsc)/./node_modules/@telegram-apps/init-data-node/dist/entries/node.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@telegram-apps/init-data-node/dist/entries/node.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthDateInvalidError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.A),\n/* harmony export */   ExpiredError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.E),\n/* harmony export */   SignatureInvalidError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.d),\n/* harmony export */   SignatureMissingError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.S),\n/* harmony export */   hashToken: () => (/* binding */ hashToken),\n/* harmony export */   isAuthDateInvalidError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.f),\n/* harmony export */   isExpiredError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   isSignatureInvalidError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.j),\n/* harmony export */   isSignatureMissingError: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.e),\n/* harmony export */   isValid: () => (/* binding */ isValid),\n/* harmony export */   isValid3rd: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.c),\n/* harmony export */   parse: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.p),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   signData: () => (/* binding */ signData),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   validate3rd: () => (/* reexport safe */ _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.b)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var _shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared-cWQiAT7_.js */ \"(rsc)/./node_modules/@telegram-apps/init-data-node/dist/entries/shared-cWQiAT7_.js\");\n\n\n\nfunction textToBuffer(text) {\n  return Buffer.from(typeof text === \"string\" ? text : new Uint8Array(text));\n}\nconst createHmac = (data, key) => {\n  return (0,node_crypto__WEBPACK_IMPORTED_MODULE_0__.createHmac)(\"sha256\", textToBuffer(key)).update(textToBuffer(data)).digest();\n};\nfunction hashToken(token) {\n  return Buffer.from((0,_shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.h)(token, createHmac));\n}\nfunction isValid(value, token, options) {\n  return (0,_shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.i)(value, token, validate, options);\n}\nfunction sign(data, key, authDate, options) {\n  return (0,_shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.s)(data, key, authDate, signData, options);\n}\nfunction signData(data, key, options) {\n  return (0,_shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.a)(data, key, createHmac, options);\n}\nfunction validate(value, token, options) {\n  return (0,_shared_cWQiAT7_js__WEBPACK_IMPORTED_MODULE_1__.v)(value, token, signData, options);\n}\n\n//# sourceMappingURL=node.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlbGVncmFtLWFwcHMvaW5pdC1kYXRhLW5vZGUvZGlzdC9lbnRyaWVzL25vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQzhEO0FBQ2hEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1REFBWTtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCLHFEQUFXO0FBQ2hDO0FBQ0E7QUFDQSxTQUFTLHFEQUFTO0FBQ2xCO0FBQ0E7QUFDQSxTQUFTLHFEQUFNO0FBQ2Y7QUFDQTtBQUNBLFNBQVMscURBQVU7QUFDbkI7QUFDQTtBQUNBLFNBQVMscURBQVU7QUFDbkI7QUFrQkU7QUFDRiIsInNvdXJjZXMiOlsiRDpcXFByb2dyYW1taW5nXFxCdXNpbmVzc1xcVXJiYW5hdXRcXHdlYlxcbm9kZV9tb2R1bGVzXFxAdGVsZWdyYW0tYXBwc1xcaW5pdC1kYXRhLW5vZGVcXGRpc3RcXGVudHJpZXNcXG5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSG1hYyBhcyBjcmVhdGVIbWFjJDEgfSBmcm9tIFwibm9kZTpjcnlwdG9cIjtcbmltcG9ydCB7IGggYXMgaGFzaFRva2VuJDEsIGkgYXMgaXNWYWxpZCQxLCBzIGFzIHNpZ24kMSwgYSBhcyBzaWduRGF0YSQxLCB2IGFzIHZhbGlkYXRlJDEgfSBmcm9tIFwiLi9zaGFyZWQtY1dRaUFUN18uanNcIjtcbmltcG9ydCB7IEEsIEUsIGQsIFMsIGYsIGcsIGosIGUsIGMsIHAsIGIgfSBmcm9tIFwiLi9zaGFyZWQtY1dRaUFUN18uanNcIjtcbmZ1bmN0aW9uIHRleHRUb0J1ZmZlcih0ZXh0KSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbSh0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIiA/IHRleHQgOiBuZXcgVWludDhBcnJheSh0ZXh0KSk7XG59XG5jb25zdCBjcmVhdGVIbWFjID0gKGRhdGEsIGtleSkgPT4ge1xuICByZXR1cm4gY3JlYXRlSG1hYyQxKFwic2hhMjU2XCIsIHRleHRUb0J1ZmZlcihrZXkpKS51cGRhdGUodGV4dFRvQnVmZmVyKGRhdGEpKS5kaWdlc3QoKTtcbn07XG5mdW5jdGlvbiBoYXNoVG9rZW4odG9rZW4pIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGhhc2hUb2tlbiQxKHRva2VuLCBjcmVhdGVIbWFjKSk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkKHZhbHVlLCB0b2tlbiwgb3B0aW9ucykge1xuICByZXR1cm4gaXNWYWxpZCQxKHZhbHVlLCB0b2tlbiwgdmFsaWRhdGUsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gc2lnbihkYXRhLCBrZXksIGF1dGhEYXRlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzaWduJDEoZGF0YSwga2V5LCBhdXRoRGF0ZSwgc2lnbkRhdGEsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gc2lnbkRhdGEoZGF0YSwga2V5LCBvcHRpb25zKSB7XG4gIHJldHVybiBzaWduRGF0YSQxKGRhdGEsIGtleSwgY3JlYXRlSG1hYywgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSwgdG9rZW4sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHZhbGlkYXRlJDEodmFsdWUsIHRva2VuLCBzaWduRGF0YSwgb3B0aW9ucyk7XG59XG5leHBvcnQge1xuICBBIGFzIEF1dGhEYXRlSW52YWxpZEVycm9yLFxuICBFIGFzIEV4cGlyZWRFcnJvcixcbiAgZCBhcyBTaWduYXR1cmVJbnZhbGlkRXJyb3IsXG4gIFMgYXMgU2lnbmF0dXJlTWlzc2luZ0Vycm9yLFxuICBoYXNoVG9rZW4sXG4gIGYgYXMgaXNBdXRoRGF0ZUludmFsaWRFcnJvcixcbiAgZyBhcyBpc0V4cGlyZWRFcnJvcixcbiAgaiBhcyBpc1NpZ25hdHVyZUludmFsaWRFcnJvcixcbiAgZSBhcyBpc1NpZ25hdHVyZU1pc3NpbmdFcnJvcixcbiAgaXNWYWxpZCxcbiAgYyBhcyBpc1ZhbGlkM3JkLFxuICBwIGFzIHBhcnNlLFxuICBzaWduLFxuICBzaWduRGF0YSxcbiAgdmFsaWRhdGUsXG4gIGIgYXMgdmFsaWRhdGUzcmRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@telegram-apps/init-data-node/dist/entries/node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@telegram-apps/init-data-node/dist/entries/shared-cWQiAT7_.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@telegram-apps/init-data-node/dist/entries/shared-cWQiAT7_.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ AuthDateInvalidError),\n/* harmony export */   E: () => (/* binding */ ExpiredError),\n/* harmony export */   S: () => (/* binding */ SignatureMissingError),\n/* harmony export */   a: () => (/* binding */ signData),\n/* harmony export */   b: () => (/* binding */ validate3rd),\n/* harmony export */   c: () => (/* binding */ isValid3rd),\n/* harmony export */   d: () => (/* binding */ SignatureInvalidError),\n/* harmony export */   e: () => (/* binding */ isSignatureMissingError),\n/* harmony export */   f: () => (/* binding */ isAuthDateInvalidError),\n/* harmony export */   g: () => (/* binding */ isExpiredError),\n/* harmony export */   h: () => (/* binding */ hashToken),\n/* harmony export */   i: () => (/* binding */ isValid),\n/* harmony export */   j: () => (/* binding */ isSignatureInvalidError),\n/* harmony export */   p: () => (/* binding */ parse),\n/* harmony export */   s: () => (/* binding */ sign),\n/* harmony export */   v: () => (/* binding */ validate)\n/* harmony export */ });\n/* harmony import */ var error_kid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! error-kid */ \"(rsc)/./node_modules/error-kid/dist/index.js\");\n\nfunction hashToken(token, createHmac) {\n  return createHmac(token, \"WebAppData\");\n}\n// @__NO_SIDE_EFFECTS__\nfunction N(e) {\n  return {\n    lang: (e == null ? void 0 : e.lang) ?? void 0,\n    message: e == null ? void 0 : e.message,\n    abortEarly: (e == null ? void 0 : e.abortEarly) ?? void 0,\n    abortPipeEarly: (e == null ? void 0 : e.abortPipeEarly) ?? void 0\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Z(e) {\n  return void 0;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ee(e) {\n  return void 0;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ne(e, n) {\n  var r;\n  return (r = void 0) == null ? void 0 : r.get(n);\n}\n// @__NO_SIDE_EFFECTS__\nfunction re(e) {\n  var r, t;\n  const n = typeof e;\n  return n === \"string\" ? `\"${e}\"` : n === \"number\" || n === \"bigint\" || n === \"boolean\" ? `${e}` : n === \"object\" || n === \"function\" ? (e && ((t = (r = Object.getPrototypeOf(e)) == null ? void 0 : r.constructor) == null ? void 0 : t.name)) ?? \"null\" : n;\n}\nfunction f(e, n, r, t, s) {\n  const u = s && \"input\" in s ? s.input : r.value, i = (s == null ? void 0 : s.expected) ?? e.expects ?? null, l = (s == null ? void 0 : s.received) ?? /* @__PURE__ */ re(u), o = {\n    kind: e.kind,\n    type: e.type,\n    input: u,\n    expected: i,\n    received: l,\n    message: `Invalid ${n}: ${i ? `Expected ${i} but r` : \"R\"}eceived ${l}`,\n    requirement: e.requirement,\n    path: s == null ? void 0 : s.path,\n    issues: s == null ? void 0 : s.issues,\n    lang: t.lang,\n    abortEarly: t.abortEarly,\n    abortPipeEarly: t.abortPipeEarly\n  }, y = e.kind === \"schema\", p = (s == null ? void 0 : s.message) ?? e.message ?? /* @__PURE__ */ ne(e.reference, o.lang) ?? (y ? /* @__PURE__ */ ee(o.lang) : null) ?? t.message ?? /* @__PURE__ */ Z(o.lang);\n  p && (o.message = typeof p == \"function\" ? (\n    // @ts-expect-error\n    p(o)\n  ) : p), y && (r.typed = false), r.issues ? r.issues.push(o) : r.issues = [o];\n}\n// @__NO_SIDE_EFFECTS__\nfunction h(e) {\n  return {\n    version: 1,\n    vendor: \"valibot\",\n    validate(n) {\n      return e[\"~run\"]({ value: n }, /* @__PURE__ */ N());\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction W(e, n) {\n  return Object.hasOwn(e, n) && n !== \"__proto__\" && n !== \"prototype\" && n !== \"constructor\";\n}\n// @__NO_SIDE_EFFECTS__\nfunction te(e, n) {\n  const r = [...new Set(e)];\n  return r.length > 1 ? `(${r.join(` ${n} `)})` : r[0] ?? \"never\";\n}\nvar se = class extends Error {\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(e) {\n    super(e[0].message), this.name = \"ValiError\", this.issues = e;\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction R(e) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: R,\n    async: false,\n    expects: null,\n    requirement: Number.isInteger,\n    message: e,\n    \"~run\"(n, r) {\n      return n.typed && !this.requirement(n.value) && f(this, \"integer\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction d(e) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: d,\n    async: false,\n    operation: e,\n    \"~run\"(n) {\n      return n.value = this.operation(n.value), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction U(e, n, r) {\n  return typeof e.default == \"function\" ? (\n    // @ts-expect-error\n    e.default(n, r)\n  ) : (\n    // @ts-expect-error\n    e.default\n  );\n}\n// @__NO_SIDE_EFFECTS__\nfunction _(e) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: _,\n    expects: \"boolean\",\n    async: false,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      return typeof n.value == \"boolean\" ? n.typed = true : f(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction z(e) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: z,\n    expects: \"Date\",\n    async: false,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      return n.value instanceof Date ? isNaN(n.value) ? f(this, \"type\", n, r, {\n        received: '\"Invalid Date\"'\n      }) : n.typed = true : f(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction J(e, n) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: J,\n    expects: e.name,\n    async: false,\n    class: e,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(r, t) {\n      return r.value instanceof this.class ? r.typed = true : f(this, \"type\", r, t), r;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction A(e) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: A,\n    expects: \"unknown\",\n    async: false,\n    getter: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      return this.getter(n.value)[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction k(e, n) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: k,\n    expects: \"Object\",\n    async: false,\n    entries: e,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(r, t) {\n      var u;\n      const s = r.value;\n      if (s && typeof s == \"object\") {\n        r.typed = true, r.value = {};\n        for (const i in this.entries) {\n          const l = this.entries[i];\n          if (i in s || (l.type === \"exact_optional\" || l.type === \"optional\" || l.type === \"nullish\") && // @ts-expect-error\n          l.default !== void 0) {\n            const o = i in s ? (\n              // @ts-expect-error\n              s[i]\n            ) : /* @__PURE__ */ U(l), y = l[\"~run\"]({ value: o }, t);\n            if (y.issues) {\n              const p = {\n                type: \"object\",\n                origin: \"value\",\n                input: s,\n                key: i,\n                value: o\n              };\n              for (const m of y.issues)\n                m.path ? m.path.unshift(p) : m.path = [p], (u = r.issues) == null || u.push(m);\n              if (r.issues || (r.issues = y.issues), t.abortEarly) {\n                r.typed = false;\n                break;\n              }\n            }\n            y.typed || (r.typed = false), r.value[i] = y.value;\n          } else if (l.type !== \"exact_optional\" && l.type !== \"optional\" && l.type !== \"nullish\" && (f(this, \"key\", r, t, {\n            input: void 0,\n            expected: `\"${i}\"`,\n            path: [\n              {\n                type: \"object\",\n                origin: \"key\",\n                input: s,\n                key: i,\n                // @ts-expect-error\n                value: s[i]\n              }\n            ]\n          }), t.abortEarly))\n            break;\n        }\n        if (!r.issues || !t.abortEarly)\n          for (const i in s)\n            /* @__PURE__ */ W(s, i) && !(i in this.entries) && (r.value[i] = s[i]);\n      } else\n        f(this, \"type\", r, t);\n      return r;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction E(e) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: E,\n    expects: \"number\",\n    async: false,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      return typeof n.value == \"number\" && !isNaN(n.value) ? n.typed = true : f(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction c(e, n) {\n  return {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: c,\n    expects: `(${e.expects} | undefined)`,\n    async: false,\n    wrapped: e,\n    default: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(r, t) {\n      return r.value === void 0 && (this.default !== void 0 && (r.value = /* @__PURE__ */ U(this, r, t)), r.value === void 0) ? (r.typed = true, r) : this.wrapped[\"~run\"](r, t);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction a(e) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: a,\n    expects: \"string\",\n    async: false,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      return typeof n.value == \"string\" ? n.typed = true : f(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction O(e) {\n  let n;\n  if (e)\n    for (const r of e)\n      n ? n.push(...r.issues) : n = r.issues;\n  return n;\n}\n// @__NO_SIDE_EFFECTS__\nfunction $(e, n) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: $,\n    expects: /* @__PURE__ */ te(\n      e.map((r) => r.expects),\n      \"|\"\n    ),\n    async: false,\n    options: e,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(r, t) {\n      let s, u, i;\n      for (const l of this.options) {\n        const o = l[\"~run\"]({ value: r.value }, t);\n        if (o.typed)\n          if (o.issues)\n            u ? u.push(o) : u = [o];\n          else {\n            s = o;\n            break;\n          }\n        else\n          i ? i.push(o) : i = [o];\n      }\n      if (s)\n        return s;\n      if (u) {\n        if (u.length === 1)\n          return u[0];\n        f(this, \"type\", r, t, {\n          issues: /* @__PURE__ */ O(u)\n        }), r.typed = true;\n      } else {\n        if ((i == null ? void 0 : i.length) === 1)\n          return i[0];\n        f(this, \"type\", r, t, {\n          issues: /* @__PURE__ */ O(i)\n        });\n      }\n      return r;\n    }\n  };\n}\nfunction B(e, n, r) {\n  const t = e[\"~run\"]({ value: n }, /* @__PURE__ */ N(r));\n  if (t.issues)\n    throw new se(t.issues);\n  return t.value;\n}\n// @__NO_SIDE_EFFECTS__\nfunction v(...e) {\n  return {\n    ...e[0],\n    pipe: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ h(this);\n    },\n    \"~run\"(n, r) {\n      for (const t of e)\n        if (t.kind !== \"metadata\") {\n          if (n.issues && (t.kind === \"schema\" || t.kind === \"transformation\")) {\n            n.typed = false;\n            break;\n          }\n          (!n.issues || !r.abortEarly && !r.abortPipeEarly) && (n = t[\"~run\"](n, r));\n        }\n      return n;\n    }\n  };\n}\nfunction ue(e) {\n  return e.replace(/_[a-z]/g, (n) => n[1].toUpperCase());\n}\nfunction ae(e) {\n  return Object.entries(e).reduce((n, [r, t]) => (n[ue(r)] = t, n), {});\n}\nfunction w(e) {\n  const n = ae(e);\n  for (const r in n) {\n    const t = n[r];\n    t && typeof t == \"object\" && !(t instanceof Date) && (n[r] = Array.isArray(t) ? t.map(w) : w(t));\n  }\n  return n;\n}\nfunction I(e) {\n  return /* @__PURE__ */ d((n) => e ? w(n) : n);\n}\nfunction M(e) {\n  return (n) => /* @__PURE__ */ v(\n    e,\n    I(n)\n  );\n}\nfunction T(e) {\n  return (n, r) => B(\n    /* @__PURE__ */ v(e, I(r)),\n    n\n  );\n}\nfunction oe() {\n  return /* @__PURE__ */ d(JSON.parse);\n}\nfunction C(e) {\n  const n = M(e);\n  return (r) => /* @__PURE__ */ v(\n    /* @__PURE__ */ a(),\n    oe(),\n    n(r)\n  );\n}\nfunction ce(e) {\n  return /* @__PURE__ */ d((n) => {\n    const r = {};\n    return new URLSearchParams(n).forEach((t, s) => {\n      const u = r[s];\n      Array.isArray(u) ? u.push(t) : u === void 0 ? r[s] = t : r[s] = [u, t];\n    }), B(e, r);\n  });\n}\nfunction K(e) {\n  return (n) => /* @__PURE__ */ v(\n    /* @__PURE__ */ $([/* @__PURE__ */ a(), /* @__PURE__ */ J(URLSearchParams)]),\n    ce(e),\n    I(n)\n  );\n}\nconst Q = /* @__PURE__ */ c(/* @__PURE__ */ A(() => he())), le = /* @__PURE__ */ k({\n  id: /* @__PURE__ */ E(),\n  photo_url: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  type: /* @__PURE__ */ a(),\n  title: /* @__PURE__ */ a(),\n  username: /* @__PURE__ */ c(/* @__PURE__ */ a())\n}), pe = /* @__PURE__ */ k({\n  added_to_attachment_menu: /* @__PURE__ */ c(/* @__PURE__ */ _()),\n  allows_write_to_pm: /* @__PURE__ */ c(/* @__PURE__ */ _()),\n  first_name: /* @__PURE__ */ a(),\n  id: /* @__PURE__ */ E(),\n  is_bot: /* @__PURE__ */ c(/* @__PURE__ */ _()),\n  is_premium: /* @__PURE__ */ c(/* @__PURE__ */ _()),\n  last_name: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  language_code: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  photo_url: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  username: /* @__PURE__ */ c(/* @__PURE__ */ a())\n}), fe = /* @__PURE__ */ k({\n  auth_date: /* @__PURE__ */ v(\n    /* @__PURE__ */ a(),\n    /* @__PURE__ */ d((e) => new Date(Number(e) * 1e3)),\n    /* @__PURE__ */ z()\n  ),\n  can_send_after: /* @__PURE__ */ c(/* @__PURE__ */ v(/* @__PURE__ */ a(), /* @__PURE__ */ d(Number), /* @__PURE__ */ R())),\n  chat: /* @__PURE__ */ c(/* @__PURE__ */ A(() => ye())),\n  chat_type: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  chat_instance: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  hash: /* @__PURE__ */ a(),\n  query_id: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  receiver: Q,\n  start_param: /* @__PURE__ */ c(/* @__PURE__ */ a()),\n  signature: /* @__PURE__ */ a(),\n  user: Q\n}), ye = C(le), he = C(pe), F = K(fe);\nconst ke = T(F());\nfunction Y(e, n) {\n  return n || (n = (r, t) => JSON.stringify(t)), new URLSearchParams(\n    Object.entries(e).reduce((r, [t, s]) => (Array.isArray(s) ? r.push(...s.map((u) => [t, String(u)])) : s != null && r.push([\n      t,\n      s instanceof Date ? (s.getTime() / 1e3 | 0).toString() : typeof s == \"string\" || typeof s == \"number\" ? String(s) : typeof s == \"boolean\" ? s ? \"1\" : \"0\" : n(t, s)\n    ]), r), [])\n  ).toString();\n}\nfunction ve(e) {\n  return Y(e);\n}\nfunction sign(data, key, authDate, signData2, options) {\n  const searchParams = new URLSearchParams(\n    ve({\n      ...data,\n      auth_date: authDate,\n      hash: \"\",\n      signature: data.signature || \"\"\n    })\n  );\n  searchParams.delete(\"hash\");\n  const pairs = [...searchParams.entries()].map(([name, value]) => `${name}=${value}`).sort();\n  function processSign2(s) {\n    searchParams.append(\"hash\", s);\n    return searchParams.toString();\n  }\n  const sign2 = signData2(pairs.join(\"\\n\"), key, options);\n  return typeof sign2 === \"string\" ? processSign2(sign2) : sign2.then(processSign2);\n}\nfunction arrayBufferToHex(buffer) {\n  return new Uint8Array(buffer).reduce((acc, byte) => {\n    return acc + byte.toString(16).padStart(2, \"0\");\n  }, \"\");\n}\nfunction hexToArrayBuffer(hexString) {\n  if (hexString.length % 2 !== 0) {\n    throw new Error(\"Hex string must have an even number of characters\");\n  }\n  const buffer = new ArrayBuffer(hexString.length / 2);\n  const uint8Array = new Uint8Array(buffer);\n  for (let i = 0; i < hexString.length; i += 2) {\n    uint8Array[i / 2] = parseInt(hexString.substring(i, i + 2), 16);\n  }\n  return buffer;\n}\nfunction signData(data, key, createHmac, options = {}) {\n  const keyHmac = options.tokenHashed ? typeof key === \"string\" ? hexToArrayBuffer(key) : key : hashToken(key, createHmac);\n  if (keyHmac instanceof Promise) {\n    return keyHmac.then((v2) => createHmac(data, v2)).then(arrayBufferToHex);\n  }\n  const hmac = createHmac(data, keyHmac);\n  return hmac instanceof Promise ? hmac.then(arrayBufferToHex) : arrayBufferToHex(hmac);\n}\nconst [\n  AuthDateInvalidError,\n  isAuthDateInvalidError\n] = (0,error_kid__WEBPACK_IMPORTED_MODULE_0__.errorClassWithData)(\n  \"AuthDateInvalidError\",\n  (value) => ({ value }),\n  (value) => [`\"auth_date\" is invalid: ${value || \"value is missing\"}`]\n);\nconst [\n  SignatureInvalidError,\n  isSignatureInvalidError\n] = (0,error_kid__WEBPACK_IMPORTED_MODULE_0__.errorClass)(\"SignatureInvalidError\");\nconst [\n  SignatureMissingError,\n  isSignatureMissingError\n] = (0,error_kid__WEBPACK_IMPORTED_MODULE_0__.errorClass)(\"SignatureMissingError\", (thirdParty) => [\n  `\"${thirdParty ? \"signature\" : \"hash\"}\" parameter is missing`\n]);\nconst [\n  ExpiredError,\n  isExpiredError\n] = (0,error_kid__WEBPACK_IMPORTED_MODULE_0__.errorClassWithData)(\n  \"ExpiredError\",\n  (issuedAt, expiresAt) => ({ issuedAt, expiresAt }),\n  (issuedAt, expiresAt, now) => [\n    `Init data expired. Issued at ${issuedAt.toISOString()}, expires at ${expiresAt.toISOString()}, now is ${now.toISOString()}`\n  ]\n);\nfunction processSign(actual, expected) {\n  if (actual !== expected) {\n    throw new SignatureInvalidError();\n  }\n  return;\n}\nfunction validate(value, token, signData2, options = {}) {\n  let authDate;\n  let authDateString;\n  let hash;\n  const pairs = [];\n  (typeof value === \"string\" ? new URLSearchParams(value) : value).forEach((value2, key) => {\n    if (key === \"hash\") {\n      hash = value2;\n      return;\n    }\n    if (key === \"auth_date\") {\n      authDateString = value2;\n      const authDateNum = parseInt(value2, 10);\n      if (!Number.isNaN(authDateNum)) {\n        authDate = new Date(authDateNum * 1e3);\n      }\n    }\n    pairs.push(`${key}=${value2}`);\n  });\n  if (!hash) {\n    throw new SignatureMissingError(false);\n  }\n  if (!authDate) {\n    throw new AuthDateInvalidError(authDateString);\n  }\n  const { expiresIn = 86400 } = options;\n  if (expiresIn > 0) {\n    const expiresAtTs = authDate.getTime() + expiresIn * 1e3;\n    const nowTs = Date.now();\n    if (expiresAtTs < nowTs) {\n      throw new ExpiredError(authDate, new Date(expiresAtTs), new Date(nowTs));\n    }\n  }\n  pairs.sort();\n  const sign2 = signData2(pairs.join(\"\\n\"), token, options);\n  return typeof sign2 === \"string\" ? processSign(sign2, hash) : sign2.then((v2) => processSign(v2, hash));\n}\nfunction isValid(value, token, validate2, options) {\n  try {\n    const maybePromise = validate2(value, token, options);\n    return maybePromise ? maybePromise.then(() => true, () => false) : true;\n  } catch {\n    return false;\n  }\n}\nfunction processResult(verified) {\n  if (!verified) {\n    throw new SignatureInvalidError();\n  }\n  return;\n}\nfunction validate3rd$1(value, botId, verify, options = {}) {\n  let authDate;\n  let authDateString;\n  let signature;\n  const pairs = [];\n  (typeof value === \"string\" ? new URLSearchParams(value) : value).forEach((value2, key) => {\n    if (key === \"hash\") {\n      return;\n    }\n    if (key === \"signature\") {\n      signature = value2;\n      return;\n    }\n    if (key === \"auth_date\") {\n      authDateString = value2;\n      const authDateNum = parseInt(value2, 10);\n      if (!Number.isNaN(authDateNum)) {\n        authDate = new Date(authDateNum * 1e3);\n      }\n    }\n    pairs.push(`${key}=${value2}`);\n  });\n  if (!signature) {\n    throw new SignatureMissingError(true);\n  }\n  if (!authDate) {\n    throw new AuthDateInvalidError(authDateString);\n  }\n  const { expiresIn = 86400 } = options;\n  if (expiresIn > 0) {\n    const expiresAtTs = authDate.getTime() + expiresIn * 1e3;\n    const nowTs = Date.now();\n    if (expiresAtTs < nowTs) {\n      throw new ExpiredError(authDate, new Date(expiresAtTs), new Date(nowTs));\n    }\n  }\n  const verified = verify(\n    `${botId}:WebAppData\n${pairs.sort().join(\"\\n\")}`,\n    options.test ? \"40055058a4ee38156a06562e52eece92a771bcd8346a8c4615cb7376eddf72ec\" : \"e7bf03a2fa4602af4580703d88dda5bb59f32ed8b02a56c187fe7d34caed242d\",\n    signature\n  );\n  return typeof verified === \"boolean\" ? processResult(verified) : verified.then(processResult);\n}\nfunction isValid3rd$1(value, botId, validate2, options) {\n  try {\n    const maybePromise = validate2(value, botId, options);\n    return maybePromise ? maybePromise.then(() => true, () => false) : true;\n  } catch {\n    return false;\n  }\n}\nconst parse = ke;\nconst verify3rd = async (data, key, signature) => {\n  return crypto.subtle.verify(\n    \"Ed25519\",\n    await crypto.subtle.importKey(\"raw\", Buffer.from(key, \"hex\"), \"Ed25519\", false, [\"verify\"]),\n    Buffer.from(signature, \"base64\"),\n    Buffer.from(data)\n  );\n};\nasync function validate3rd(value, botId, options) {\n  return validate3rd$1(value, botId, verify3rd, options);\n}\nfunction isValid3rd(value, botId, options) {\n  return isValid3rd$1(value, botId, validate3rd, options);\n}\n\n//# sourceMappingURL=shared-cWQiAT7_.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlbGVncmFtLWFwcHMvaW5pdC1kYXRhLW5vZGUvZGlzdC9lbnRyaWVzL3NoYXJlZC1jV1FpQVQ3Xy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLEVBQUUsOERBQThELEVBQUU7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixFQUFFLElBQUksZ0JBQWdCLEdBQUcsYUFBYSxVQUFVLEVBQUU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsVUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixXQUFXLEdBQUcsR0FBRztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxVQUFVO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsMEJBQTBCLEVBQUU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0JBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0VBQXNFLEtBQUssR0FBRyxNQUFNO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkRBQWtCO0FBQ3RCO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIseUNBQXlDLDRCQUE0QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFVO0FBQ2QsTUFBTSxrQ0FBa0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZEQUFrQjtBQUN0QjtBQUNBLDhCQUE4QixxQkFBcUI7QUFDbkQ7QUFDQSxvQ0FBb0MsdUJBQXVCLGVBQWUsd0JBQXdCLFdBQVcsa0JBQWtCO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsSUFBSSxHQUFHLE9BQU87QUFDaEMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsSUFBSSxHQUFHLE9BQU87QUFDaEMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE1BQU07QUFDYixFQUFFLHdCQUF3QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JFO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxQcm9ncmFtbWluZ1xcQnVzaW5lc3NcXFVyYmFuYXV0XFx3ZWJcXG5vZGVfbW9kdWxlc1xcQHRlbGVncmFtLWFwcHNcXGluaXQtZGF0YS1ub2RlXFxkaXN0XFxlbnRyaWVzXFxzaGFyZWQtY1dRaUFUN18uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3JDbGFzc1dpdGhEYXRhLCBlcnJvckNsYXNzIH0gZnJvbSBcImVycm9yLWtpZFwiO1xuZnVuY3Rpb24gaGFzaFRva2VuKHRva2VuLCBjcmVhdGVIbWFjKSB7XG4gIHJldHVybiBjcmVhdGVIbWFjKHRva2VuLCBcIldlYkFwcERhdGFcIik7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gTihlKSB7XG4gIHJldHVybiB7XG4gICAgbGFuZzogKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUubGFuZykgPz8gdm9pZCAwLFxuICAgIG1lc3NhZ2U6IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUubWVzc2FnZSxcbiAgICBhYm9ydEVhcmx5OiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5hYm9ydEVhcmx5KSA/PyB2b2lkIDAsXG4gICAgYWJvcnRQaXBlRWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0UGlwZUVhcmx5KSA/PyB2b2lkIDBcbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBaKGUpIHtcbiAgcmV0dXJuIHZvaWQgMDtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBlZShlKSB7XG4gIHJldHVybiB2b2lkIDA7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gbmUoZSwgbikge1xuICB2YXIgcjtcbiAgcmV0dXJuIChyID0gdm9pZCAwKSA9PSBudWxsID8gdm9pZCAwIDogci5nZXQobik7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gcmUoZSkge1xuICB2YXIgciwgdDtcbiAgY29uc3QgbiA9IHR5cGVvZiBlO1xuICByZXR1cm4gbiA9PT0gXCJzdHJpbmdcIiA/IGBcIiR7ZX1cImAgOiBuID09PSBcIm51bWJlclwiIHx8IG4gPT09IFwiYmlnaW50XCIgfHwgbiA9PT0gXCJib29sZWFuXCIgPyBgJHtlfWAgOiBuID09PSBcIm9iamVjdFwiIHx8IG4gPT09IFwiZnVuY3Rpb25cIiA/IChlICYmICgodCA9IChyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKSA9PSBudWxsID8gdm9pZCAwIDogci5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IHQubmFtZSkpID8/IFwibnVsbFwiIDogbjtcbn1cbmZ1bmN0aW9uIGYoZSwgbiwgciwgdCwgcykge1xuICBjb25zdCB1ID0gcyAmJiBcImlucHV0XCIgaW4gcyA/IHMuaW5wdXQgOiByLnZhbHVlLCBpID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuZXhwZWN0ZWQpID8/IGUuZXhwZWN0cyA/PyBudWxsLCBsID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMucmVjZWl2ZWQpID8/IC8qIEBfX1BVUkVfXyAqLyByZSh1KSwgbyA9IHtcbiAgICBraW5kOiBlLmtpbmQsXG4gICAgdHlwZTogZS50eXBlLFxuICAgIGlucHV0OiB1LFxuICAgIGV4cGVjdGVkOiBpLFxuICAgIHJlY2VpdmVkOiBsLFxuICAgIG1lc3NhZ2U6IGBJbnZhbGlkICR7bn06ICR7aSA/IGBFeHBlY3RlZCAke2l9IGJ1dCByYCA6IFwiUlwifWVjZWl2ZWQgJHtsfWAsXG4gICAgcmVxdWlyZW1lbnQ6IGUucmVxdWlyZW1lbnQsXG4gICAgcGF0aDogcyA9PSBudWxsID8gdm9pZCAwIDogcy5wYXRoLFxuICAgIGlzc3VlczogcyA9PSBudWxsID8gdm9pZCAwIDogcy5pc3N1ZXMsXG4gICAgbGFuZzogdC5sYW5nLFxuICAgIGFib3J0RWFybHk6IHQuYWJvcnRFYXJseSxcbiAgICBhYm9ydFBpcGVFYXJseTogdC5hYm9ydFBpcGVFYXJseVxuICB9LCB5ID0gZS5raW5kID09PSBcInNjaGVtYVwiLCBwID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMubWVzc2FnZSkgPz8gZS5tZXNzYWdlID8/IC8qIEBfX1BVUkVfXyAqLyBuZShlLnJlZmVyZW5jZSwgby5sYW5nKSA/PyAoeSA/IC8qIEBfX1BVUkVfXyAqLyBlZShvLmxhbmcpIDogbnVsbCkgPz8gdC5tZXNzYWdlID8/IC8qIEBfX1BVUkVfXyAqLyBaKG8ubGFuZyk7XG4gIHAgJiYgKG8ubWVzc2FnZSA9IHR5cGVvZiBwID09IFwiZnVuY3Rpb25cIiA/IChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgcChvKVxuICApIDogcCksIHkgJiYgKHIudHlwZWQgPSBmYWxzZSksIHIuaXNzdWVzID8gci5pc3N1ZXMucHVzaChvKSA6IHIuaXNzdWVzID0gW29dO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGgoZSkge1xuICByZXR1cm4ge1xuICAgIHZlcnNpb246IDEsXG4gICAgdmVuZG9yOiBcInZhbGlib3RcIixcbiAgICB2YWxpZGF0ZShuKSB7XG4gICAgICByZXR1cm4gZVtcIn5ydW5cIl0oeyB2YWx1ZTogbiB9LCAvKiBAX19QVVJFX18gKi8gTigpKTtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gVyhlLCBuKSB7XG4gIHJldHVybiBPYmplY3QuaGFzT3duKGUsIG4pICYmIG4gIT09IFwiX19wcm90b19fXCIgJiYgbiAhPT0gXCJwcm90b3R5cGVcIiAmJiBuICE9PSBcImNvbnN0cnVjdG9yXCI7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdGUoZSwgbikge1xuICBjb25zdCByID0gWy4uLm5ldyBTZXQoZSldO1xuICByZXR1cm4gci5sZW5ndGggPiAxID8gYCgke3Iuam9pbihgICR7bn0gYCl9KWAgOiByWzBdID8/IFwibmV2ZXJcIjtcbn1cbnZhciBzZSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFZhbGlib3QgZXJyb3Igd2l0aCB1c2VmdWwgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBpc3N1ZXMgVGhlIGVycm9yIGlzc3Vlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlWzBdLm1lc3NhZ2UpLCB0aGlzLm5hbWUgPSBcIlZhbGlFcnJvclwiLCB0aGlzLmlzc3VlcyA9IGU7XG4gIH1cbn07XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gUihlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJ2YWxpZGF0aW9uXCIsXG4gICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgcmVmZXJlbmNlOiBSLFxuICAgIGFzeW5jOiBmYWxzZSxcbiAgICBleHBlY3RzOiBudWxsLFxuICAgIHJlcXVpcmVtZW50OiBOdW1iZXIuaXNJbnRlZ2VyLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udHlwZWQgJiYgIXRoaXMucmVxdWlyZW1lbnQobi52YWx1ZSkgJiYgZih0aGlzLCBcImludGVnZXJcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGQoZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwidHJhbnNmb3JtYXRpb25cIixcbiAgICB0eXBlOiBcInRyYW5zZm9ybVwiLFxuICAgIHJlZmVyZW5jZTogZCxcbiAgICBhc3luYzogZmFsc2UsXG4gICAgb3BlcmF0aW9uOiBlLFxuICAgIFwifnJ1blwiKG4pIHtcbiAgICAgIHJldHVybiBuLnZhbHVlID0gdGhpcy5vcGVyYXRpb24obi52YWx1ZSksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIFUoZSwgbiwgcikge1xuICByZXR1cm4gdHlwZW9mIGUuZGVmYXVsdCA9PSBcImZ1bmN0aW9uXCIgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGUuZGVmYXVsdChuLCByKVxuICApIDogKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBlLmRlZmF1bHRcbiAgKTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBfKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHJlZmVyZW5jZTogXyxcbiAgICBleHBlY3RzOiBcImJvb2xlYW5cIixcbiAgICBhc3luYzogZmFsc2UsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygbi52YWx1ZSA9PSBcImJvb2xlYW5cIiA/IG4udHlwZWQgPSB0cnVlIDogZih0aGlzLCBcInR5cGVcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHooZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJkYXRlXCIsXG4gICAgcmVmZXJlbmNlOiB6LFxuICAgIGV4cGVjdHM6IFwiRGF0ZVwiLFxuICAgIGFzeW5jOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBoKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gaXNOYU4obi52YWx1ZSkgPyBmKHRoaXMsIFwidHlwZVwiLCBuLCByLCB7XG4gICAgICAgIHJlY2VpdmVkOiAnXCJJbnZhbGlkIERhdGVcIidcbiAgICAgIH0pIDogbi50eXBlZCA9IHRydWUgOiBmKHRoaXMsIFwidHlwZVwiLCBuLCByKSwgbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gSihlLCBuKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImluc3RhbmNlXCIsXG4gICAgcmVmZXJlbmNlOiBKLFxuICAgIGV4cGVjdHM6IGUubmFtZSxcbiAgICBhc3luYzogZmFsc2UsXG4gICAgY2xhc3M6IGUsXG4gICAgbWVzc2FnZTogbixcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHIsIHQpIHtcbiAgICAgIHJldHVybiByLnZhbHVlIGluc3RhbmNlb2YgdGhpcy5jbGFzcyA/IHIudHlwZWQgPSB0cnVlIDogZih0aGlzLCBcInR5cGVcIiwgciwgdCksIHI7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIEEoZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJsYXp5XCIsXG4gICAgcmVmZXJlbmNlOiBBLFxuICAgIGV4cGVjdHM6IFwidW5rbm93blwiLFxuICAgIGFzeW5jOiBmYWxzZSxcbiAgICBnZXR0ZXI6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihuLCByKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXR0ZXIobi52YWx1ZSlbXCJ+cnVuXCJdKG4sIHIpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBrKGUsIG4pIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwibG9vc2Vfb2JqZWN0XCIsXG4gICAgcmVmZXJlbmNlOiBrLFxuICAgIGV4cGVjdHM6IFwiT2JqZWN0XCIsXG4gICAgYXN5bmM6IGZhbHNlLFxuICAgIGVudHJpZXM6IGUsXG4gICAgbWVzc2FnZTogbixcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHIsIHQpIHtcbiAgICAgIHZhciB1O1xuICAgICAgY29uc3QgcyA9IHIudmFsdWU7XG4gICAgICBpZiAocyAmJiB0eXBlb2YgcyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHIudHlwZWQgPSB0cnVlLCByLnZhbHVlID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmVudHJpZXMpIHtcbiAgICAgICAgICBjb25zdCBsID0gdGhpcy5lbnRyaWVzW2ldO1xuICAgICAgICAgIGlmIChpIGluIHMgfHwgKGwudHlwZSA9PT0gXCJleGFjdF9vcHRpb25hbFwiIHx8IGwudHlwZSA9PT0gXCJvcHRpb25hbFwiIHx8IGwudHlwZSA9PT0gXCJudWxsaXNoXCIpICYmIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICBsLmRlZmF1bHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgbyA9IGkgaW4gcyA/IChcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICBzW2ldXG4gICAgICAgICAgICApIDogLyogQF9fUFVSRV9fICovIFUobCksIHkgPSBsW1wifnJ1blwiXSh7IHZhbHVlOiBvIH0sIHQpO1xuICAgICAgICAgICAgaWYgKHkuaXNzdWVzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcyxcbiAgICAgICAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG9cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBtIG9mIHkuaXNzdWVzKVxuICAgICAgICAgICAgICAgIG0ucGF0aCA/IG0ucGF0aC51bnNoaWZ0KHApIDogbS5wYXRoID0gW3BdLCAodSA9IHIuaXNzdWVzKSA9PSBudWxsIHx8IHUucHVzaChtKTtcbiAgICAgICAgICAgICAgaWYgKHIuaXNzdWVzIHx8IChyLmlzc3VlcyA9IHkuaXNzdWVzKSwgdC5hYm9ydEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgci50eXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5LnR5cGVkIHx8IChyLnR5cGVkID0gZmFsc2UpLCByLnZhbHVlW2ldID0geS52YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGwudHlwZSAhPT0gXCJleGFjdF9vcHRpb25hbFwiICYmIGwudHlwZSAhPT0gXCJvcHRpb25hbFwiICYmIGwudHlwZSAhPT0gXCJudWxsaXNoXCIgJiYgKGYodGhpcywgXCJrZXlcIiwgciwgdCwge1xuICAgICAgICAgICAgaW5wdXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBgXCIke2l9XCJgLFxuICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHMsXG4gICAgICAgICAgICAgICAga2V5OiBpLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICB2YWx1ZTogc1tpXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSksIHQuYWJvcnRFYXJseSkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXIuaXNzdWVzIHx8ICF0LmFib3J0RWFybHkpXG4gICAgICAgICAgZm9yIChjb25zdCBpIGluIHMpXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gVyhzLCBpKSAmJiAhKGkgaW4gdGhpcy5lbnRyaWVzKSAmJiAoci52YWx1ZVtpXSA9IHNbaV0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGYodGhpcywgXCJ0eXBlXCIsIHIsIHQpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIEUoZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICByZWZlcmVuY2U6IEUsXG4gICAgZXhwZWN0czogXCJudW1iZXJcIixcbiAgICBhc3luYzogZmFsc2UsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygbi52YWx1ZSA9PSBcIm51bWJlclwiICYmICFpc05hTihuLnZhbHVlKSA/IG4udHlwZWQgPSB0cnVlIDogZih0aGlzLCBcInR5cGVcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGMoZSwgbikge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgIHJlZmVyZW5jZTogYyxcbiAgICBleHBlY3RzOiBgKCR7ZS5leHBlY3RzfSB8IHVuZGVmaW5lZClgLFxuICAgIGFzeW5jOiBmYWxzZSxcbiAgICB3cmFwcGVkOiBlLFxuICAgIGRlZmF1bHQ6IG4sXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihyLCB0KSB7XG4gICAgICByZXR1cm4gci52YWx1ZSA9PT0gdm9pZCAwICYmICh0aGlzLmRlZmF1bHQgIT09IHZvaWQgMCAmJiAoci52YWx1ZSA9IC8qIEBfX1BVUkVfXyAqLyBVKHRoaXMsIHIsIHQpKSwgci52YWx1ZSA9PT0gdm9pZCAwKSA/IChyLnR5cGVkID0gdHJ1ZSwgcikgOiB0aGlzLndyYXBwZWRbXCJ+cnVuXCJdKHIsIHQpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBhKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgcmVmZXJlbmNlOiBhLFxuICAgIGV4cGVjdHM6IFwic3RyaW5nXCIsXG4gICAgYXN5bmM6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihuLCByKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG4udmFsdWUgPT0gXCJzdHJpbmdcIiA/IG4udHlwZWQgPSB0cnVlIDogZih0aGlzLCBcInR5cGVcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIE8oZSkge1xuICBsZXQgbjtcbiAgaWYgKGUpXG4gICAgZm9yIChjb25zdCByIG9mIGUpXG4gICAgICBuID8gbi5wdXNoKC4uLnIuaXNzdWVzKSA6IG4gPSByLmlzc3VlcztcbiAgcmV0dXJuIG47XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gJChlLCBuKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgcmVmZXJlbmNlOiAkLFxuICAgIGV4cGVjdHM6IC8qIEBfX1BVUkVfXyAqLyB0ZShcbiAgICAgIGUubWFwKChyKSA9PiByLmV4cGVjdHMpLFxuICAgICAgXCJ8XCJcbiAgICApLFxuICAgIGFzeW5jOiBmYWxzZSxcbiAgICBvcHRpb25zOiBlLFxuICAgIG1lc3NhZ2U6IG4sXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihyLCB0KSB7XG4gICAgICBsZXQgcywgdSwgaTtcbiAgICAgIGZvciAoY29uc3QgbCBvZiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbyA9IGxbXCJ+cnVuXCJdKHsgdmFsdWU6IHIudmFsdWUgfSwgdCk7XG4gICAgICAgIGlmIChvLnR5cGVkKVxuICAgICAgICAgIGlmIChvLmlzc3VlcylcbiAgICAgICAgICAgIHUgPyB1LnB1c2gobykgOiB1ID0gW29dO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcyA9IG87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpID8gaS5wdXNoKG8pIDogaSA9IFtvXTtcbiAgICAgIH1cbiAgICAgIGlmIChzKVxuICAgICAgICByZXR1cm4gcztcbiAgICAgIGlmICh1KSB7XG4gICAgICAgIGlmICh1Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gdVswXTtcbiAgICAgICAgZih0aGlzLCBcInR5cGVcIiwgciwgdCwge1xuICAgICAgICAgIGlzc3VlczogLyogQF9fUFVSRV9fICovIE8odSlcbiAgICAgICAgfSksIHIudHlwZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChpID09IG51bGwgPyB2b2lkIDAgOiBpLmxlbmd0aCkgPT09IDEpXG4gICAgICAgICAgcmV0dXJuIGlbMF07XG4gICAgICAgIGYodGhpcywgXCJ0eXBlXCIsIHIsIHQsIHtcbiAgICAgICAgICBpc3N1ZXM6IC8qIEBfX1BVUkVfXyAqLyBPKGkpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gQihlLCBuLCByKSB7XG4gIGNvbnN0IHQgPSBlW1wifnJ1blwiXSh7IHZhbHVlOiBuIH0sIC8qIEBfX1BVUkVfXyAqLyBOKHIpKTtcbiAgaWYgKHQuaXNzdWVzKVxuICAgIHRocm93IG5ldyBzZSh0Lmlzc3Vlcyk7XG4gIHJldHVybiB0LnZhbHVlO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHYoLi4uZSkge1xuICByZXR1cm4ge1xuICAgIC4uLmVbMF0sXG4gICAgcGlwZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIGZvciAoY29uc3QgdCBvZiBlKVxuICAgICAgICBpZiAodC5raW5kICE9PSBcIm1ldGFkYXRhXCIpIHtcbiAgICAgICAgICBpZiAobi5pc3N1ZXMgJiYgKHQua2luZCA9PT0gXCJzY2hlbWFcIiB8fCB0LmtpbmQgPT09IFwidHJhbnNmb3JtYXRpb25cIikpIHtcbiAgICAgICAgICAgIG4udHlwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAoIW4uaXNzdWVzIHx8ICFyLmFib3J0RWFybHkgJiYgIXIuYWJvcnRQaXBlRWFybHkpICYmIChuID0gdFtcIn5ydW5cIl0obiwgcikpO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB1ZShlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL19bYS16XS9nLCAobikgPT4gblsxXS50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGFlKGUpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLnJlZHVjZSgobiwgW3IsIHRdKSA9PiAoblt1ZShyKV0gPSB0LCBuKSwge30pO1xufVxuZnVuY3Rpb24gdyhlKSB7XG4gIGNvbnN0IG4gPSBhZShlKTtcbiAgZm9yIChjb25zdCByIGluIG4pIHtcbiAgICBjb25zdCB0ID0gbltyXTtcbiAgICB0ICYmIHR5cGVvZiB0ID09IFwib2JqZWN0XCIgJiYgISh0IGluc3RhbmNlb2YgRGF0ZSkgJiYgKG5bcl0gPSBBcnJheS5pc0FycmF5KHQpID8gdC5tYXAodykgOiB3KHQpKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIEkoZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGQoKG4pID0+IGUgPyB3KG4pIDogbik7XG59XG5mdW5jdGlvbiBNKGUpIHtcbiAgcmV0dXJuIChuKSA9PiAvKiBAX19QVVJFX18gKi8gdihcbiAgICBlLFxuICAgIEkobilcbiAgKTtcbn1cbmZ1bmN0aW9uIFQoZSkge1xuICByZXR1cm4gKG4sIHIpID0+IEIoXG4gICAgLyogQF9fUFVSRV9fICovIHYoZSwgSShyKSksXG4gICAgblxuICApO1xufVxuZnVuY3Rpb24gb2UoKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZChKU09OLnBhcnNlKTtcbn1cbmZ1bmN0aW9uIEMoZSkge1xuICBjb25zdCBuID0gTShlKTtcbiAgcmV0dXJuIChyKSA9PiAvKiBAX19QVVJFX18gKi8gdihcbiAgICAvKiBAX19QVVJFX18gKi8gYSgpLFxuICAgIG9lKCksXG4gICAgbihyKVxuICApO1xufVxuZnVuY3Rpb24gY2UoZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGQoKG4pID0+IHtcbiAgICBjb25zdCByID0ge307XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMobikuZm9yRWFjaCgodCwgcykgPT4ge1xuICAgICAgY29uc3QgdSA9IHJbc107XG4gICAgICBBcnJheS5pc0FycmF5KHUpID8gdS5wdXNoKHQpIDogdSA9PT0gdm9pZCAwID8gcltzXSA9IHQgOiByW3NdID0gW3UsIHRdO1xuICAgIH0pLCBCKGUsIHIpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIEsoZSkge1xuICByZXR1cm4gKG4pID0+IC8qIEBfX1BVUkVfXyAqLyB2KFxuICAgIC8qIEBfX1BVUkVfXyAqLyAkKFsvKiBAX19QVVJFX18gKi8gYSgpLCAvKiBAX19QVVJFX18gKi8gSihVUkxTZWFyY2hQYXJhbXMpXSksXG4gICAgY2UoZSksXG4gICAgSShuKVxuICApO1xufVxuY29uc3QgUSA9IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBBKCgpID0+IGhlKCkpKSwgbGUgPSAvKiBAX19QVVJFX18gKi8gayh7XG4gIGlkOiAvKiBAX19QVVJFX18gKi8gRSgpLFxuICBwaG90b191cmw6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBhKCkpLFxuICB0eXBlOiAvKiBAX19QVVJFX18gKi8gYSgpLFxuICB0aXRsZTogLyogQF9fUFVSRV9fICovIGEoKSxcbiAgdXNlcm5hbWU6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBhKCkpXG59KSwgcGUgPSAvKiBAX19QVVJFX18gKi8gayh7XG4gIGFkZGVkX3RvX2F0dGFjaG1lbnRfbWVudTogLyogQF9fUFVSRV9fICovIGMoLyogQF9fUFVSRV9fICovIF8oKSksXG4gIGFsbG93c193cml0ZV90b19wbTogLyogQF9fUFVSRV9fICovIGMoLyogQF9fUFVSRV9fICovIF8oKSksXG4gIGZpcnN0X25hbWU6IC8qIEBfX1BVUkVfXyAqLyBhKCksXG4gIGlkOiAvKiBAX19QVVJFX18gKi8gRSgpLFxuICBpc19ib3Q6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBfKCkpLFxuICBpc19wcmVtaXVtOiAvKiBAX19QVVJFX18gKi8gYygvKiBAX19QVVJFX18gKi8gXygpKSxcbiAgbGFzdF9uYW1lOiAvKiBAX19QVVJFX18gKi8gYygvKiBAX19QVVJFX18gKi8gYSgpKSxcbiAgbGFuZ3VhZ2VfY29kZTogLyogQF9fUFVSRV9fICovIGMoLyogQF9fUFVSRV9fICovIGEoKSksXG4gIHBob3RvX3VybDogLyogQF9fUFVSRV9fICovIGMoLyogQF9fUFVSRV9fICovIGEoKSksXG4gIHVzZXJuYW1lOiAvKiBAX19QVVJFX18gKi8gYygvKiBAX19QVVJFX18gKi8gYSgpKVxufSksIGZlID0gLyogQF9fUFVSRV9fICovIGsoe1xuICBhdXRoX2RhdGU6IC8qIEBfX1BVUkVfXyAqLyB2KFxuICAgIC8qIEBfX1BVUkVfXyAqLyBhKCksXG4gICAgLyogQF9fUFVSRV9fICovIGQoKGUpID0+IG5ldyBEYXRlKE51bWJlcihlKSAqIDFlMykpLFxuICAgIC8qIEBfX1BVUkVfXyAqLyB6KClcbiAgKSxcbiAgY2FuX3NlbmRfYWZ0ZXI6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyBhKCksIC8qIEBfX1BVUkVfXyAqLyBkKE51bWJlciksIC8qIEBfX1BVUkVfXyAqLyBSKCkpKSxcbiAgY2hhdDogLyogQF9fUFVSRV9fICovIGMoLyogQF9fUFVSRV9fICovIEEoKCkgPT4geWUoKSkpLFxuICBjaGF0X3R5cGU6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBhKCkpLFxuICBjaGF0X2luc3RhbmNlOiAvKiBAX19QVVJFX18gKi8gYygvKiBAX19QVVJFX18gKi8gYSgpKSxcbiAgaGFzaDogLyogQF9fUFVSRV9fICovIGEoKSxcbiAgcXVlcnlfaWQ6IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBhKCkpLFxuICByZWNlaXZlcjogUSxcbiAgc3RhcnRfcGFyYW06IC8qIEBfX1BVUkVfXyAqLyBjKC8qIEBfX1BVUkVfXyAqLyBhKCkpLFxuICBzaWduYXR1cmU6IC8qIEBfX1BVUkVfXyAqLyBhKCksXG4gIHVzZXI6IFFcbn0pLCB5ZSA9IEMobGUpLCBoZSA9IEMocGUpLCBGID0gSyhmZSk7XG5jb25zdCBrZSA9IFQoRigpKTtcbmZ1bmN0aW9uIFkoZSwgbikge1xuICByZXR1cm4gbiB8fCAobiA9IChyLCB0KSA9PiBKU09OLnN0cmluZ2lmeSh0KSksIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgT2JqZWN0LmVudHJpZXMoZSkucmVkdWNlKChyLCBbdCwgc10pID0+IChBcnJheS5pc0FycmF5KHMpID8gci5wdXNoKC4uLnMubWFwKCh1KSA9PiBbdCwgU3RyaW5nKHUpXSkpIDogcyAhPSBudWxsICYmIHIucHVzaChbXG4gICAgICB0LFxuICAgICAgcyBpbnN0YW5jZW9mIERhdGUgPyAocy5nZXRUaW1lKCkgLyAxZTMgfCAwKS50b1N0cmluZygpIDogdHlwZW9mIHMgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcyA9PSBcIm51bWJlclwiID8gU3RyaW5nKHMpIDogdHlwZW9mIHMgPT0gXCJib29sZWFuXCIgPyBzID8gXCIxXCIgOiBcIjBcIiA6IG4odCwgcylcbiAgICBdKSwgciksIFtdKVxuICApLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiB2ZShlKSB7XG4gIHJldHVybiBZKGUpO1xufVxuZnVuY3Rpb24gc2lnbihkYXRhLCBrZXksIGF1dGhEYXRlLCBzaWduRGF0YTIsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICB2ZSh7XG4gICAgICAuLi5kYXRhLFxuICAgICAgYXV0aF9kYXRlOiBhdXRoRGF0ZSxcbiAgICAgIGhhc2g6IFwiXCIsXG4gICAgICBzaWduYXR1cmU6IGRhdGEuc2lnbmF0dXJlIHx8IFwiXCJcbiAgICB9KVxuICApO1xuICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwiaGFzaFwiKTtcbiAgY29uc3QgcGFpcnMgPSBbLi4uc2VhcmNoUGFyYW1zLmVudHJpZXMoKV0ubWFwKChbbmFtZSwgdmFsdWVdKSA9PiBgJHtuYW1lfT0ke3ZhbHVlfWApLnNvcnQoKTtcbiAgZnVuY3Rpb24gcHJvY2Vzc1NpZ24yKHMpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiaGFzaFwiLCBzKTtcbiAgICByZXR1cm4gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gIH1cbiAgY29uc3Qgc2lnbjIgPSBzaWduRGF0YTIocGFpcnMuam9pbihcIlxcblwiKSwga2V5LCBvcHRpb25zKTtcbiAgcmV0dXJuIHR5cGVvZiBzaWduMiA9PT0gXCJzdHJpbmdcIiA/IHByb2Nlc3NTaWduMihzaWduMikgOiBzaWduMi50aGVuKHByb2Nlc3NTaWduMik7XG59XG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvSGV4KGJ1ZmZlcikge1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKS5yZWR1Y2UoKGFjYywgYnl0ZSkgPT4ge1xuICAgIHJldHVybiBhY2MgKyBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIik7XG4gIH0sIFwiXCIpO1xufVxuZnVuY3Rpb24gaGV4VG9BcnJheUJ1ZmZlcihoZXhTdHJpbmcpIHtcbiAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSGV4IHN0cmluZyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2YgY2hhcmFjdGVyc1wiKTtcbiAgfVxuICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoaGV4U3RyaW5nLmxlbmd0aCAvIDIpO1xuICBjb25zdCB1aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZXhTdHJpbmcubGVuZ3RoOyBpICs9IDIpIHtcbiAgICB1aW50OEFycmF5W2kgLyAyXSA9IHBhcnNlSW50KGhleFN0cmluZy5zdWJzdHJpbmcoaSwgaSArIDIpLCAxNik7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmZ1bmN0aW9uIHNpZ25EYXRhKGRhdGEsIGtleSwgY3JlYXRlSG1hYywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGtleUhtYWMgPSBvcHRpb25zLnRva2VuSGFzaGVkID8gdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiA/IGhleFRvQXJyYXlCdWZmZXIoa2V5KSA6IGtleSA6IGhhc2hUb2tlbihrZXksIGNyZWF0ZUhtYWMpO1xuICBpZiAoa2V5SG1hYyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICByZXR1cm4ga2V5SG1hYy50aGVuKCh2MikgPT4gY3JlYXRlSG1hYyhkYXRhLCB2MikpLnRoZW4oYXJyYXlCdWZmZXJUb0hleCk7XG4gIH1cbiAgY29uc3QgaG1hYyA9IGNyZWF0ZUhtYWMoZGF0YSwga2V5SG1hYyk7XG4gIHJldHVybiBobWFjIGluc3RhbmNlb2YgUHJvbWlzZSA/IGhtYWMudGhlbihhcnJheUJ1ZmZlclRvSGV4KSA6IGFycmF5QnVmZmVyVG9IZXgoaG1hYyk7XG59XG5jb25zdCBbXG4gIEF1dGhEYXRlSW52YWxpZEVycm9yLFxuICBpc0F1dGhEYXRlSW52YWxpZEVycm9yXG5dID0gZXJyb3JDbGFzc1dpdGhEYXRhKFxuICBcIkF1dGhEYXRlSW52YWxpZEVycm9yXCIsXG4gICh2YWx1ZSkgPT4gKHsgdmFsdWUgfSksXG4gICh2YWx1ZSkgPT4gW2BcImF1dGhfZGF0ZVwiIGlzIGludmFsaWQ6ICR7dmFsdWUgfHwgXCJ2YWx1ZSBpcyBtaXNzaW5nXCJ9YF1cbik7XG5jb25zdCBbXG4gIFNpZ25hdHVyZUludmFsaWRFcnJvcixcbiAgaXNTaWduYXR1cmVJbnZhbGlkRXJyb3Jcbl0gPSBlcnJvckNsYXNzKFwiU2lnbmF0dXJlSW52YWxpZEVycm9yXCIpO1xuY29uc3QgW1xuICBTaWduYXR1cmVNaXNzaW5nRXJyb3IsXG4gIGlzU2lnbmF0dXJlTWlzc2luZ0Vycm9yXG5dID0gZXJyb3JDbGFzcyhcIlNpZ25hdHVyZU1pc3NpbmdFcnJvclwiLCAodGhpcmRQYXJ0eSkgPT4gW1xuICBgXCIke3RoaXJkUGFydHkgPyBcInNpZ25hdHVyZVwiIDogXCJoYXNoXCJ9XCIgcGFyYW1ldGVyIGlzIG1pc3NpbmdgXG5dKTtcbmNvbnN0IFtcbiAgRXhwaXJlZEVycm9yLFxuICBpc0V4cGlyZWRFcnJvclxuXSA9IGVycm9yQ2xhc3NXaXRoRGF0YShcbiAgXCJFeHBpcmVkRXJyb3JcIixcbiAgKGlzc3VlZEF0LCBleHBpcmVzQXQpID0+ICh7IGlzc3VlZEF0LCBleHBpcmVzQXQgfSksXG4gIChpc3N1ZWRBdCwgZXhwaXJlc0F0LCBub3cpID0+IFtcbiAgICBgSW5pdCBkYXRhIGV4cGlyZWQuIElzc3VlZCBhdCAke2lzc3VlZEF0LnRvSVNPU3RyaW5nKCl9LCBleHBpcmVzIGF0ICR7ZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCl9LCBub3cgaXMgJHtub3cudG9JU09TdHJpbmcoKX1gXG4gIF1cbik7XG5mdW5jdGlvbiBwcm9jZXNzU2lnbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgdGhyb3cgbmV3IFNpZ25hdHVyZUludmFsaWRFcnJvcigpO1xuICB9XG4gIHJldHVybjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlLCB0b2tlbiwgc2lnbkRhdGEyLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGF1dGhEYXRlO1xuICBsZXQgYXV0aERhdGVTdHJpbmc7XG4gIGxldCBoYXNoO1xuICBjb25zdCBwYWlycyA9IFtdO1xuICAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gbmV3IFVSTFNlYXJjaFBhcmFtcyh2YWx1ZSkgOiB2YWx1ZSkuZm9yRWFjaCgodmFsdWUyLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5ID09PSBcImhhc2hcIikge1xuICAgICAgaGFzaCA9IHZhbHVlMjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCJhdXRoX2RhdGVcIikge1xuICAgICAgYXV0aERhdGVTdHJpbmcgPSB2YWx1ZTI7XG4gICAgICBjb25zdCBhdXRoRGF0ZU51bSA9IHBhcnNlSW50KHZhbHVlMiwgMTApO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oYXV0aERhdGVOdW0pKSB7XG4gICAgICAgIGF1dGhEYXRlID0gbmV3IERhdGUoYXV0aERhdGVOdW0gKiAxZTMpO1xuICAgICAgfVxuICAgIH1cbiAgICBwYWlycy5wdXNoKGAke2tleX09JHt2YWx1ZTJ9YCk7XG4gIH0pO1xuICBpZiAoIWhhc2gpIHtcbiAgICB0aHJvdyBuZXcgU2lnbmF0dXJlTWlzc2luZ0Vycm9yKGZhbHNlKTtcbiAgfVxuICBpZiAoIWF1dGhEYXRlKSB7XG4gICAgdGhyb3cgbmV3IEF1dGhEYXRlSW52YWxpZEVycm9yKGF1dGhEYXRlU3RyaW5nKTtcbiAgfVxuICBjb25zdCB7IGV4cGlyZXNJbiA9IDg2NDAwIH0gPSBvcHRpb25zO1xuICBpZiAoZXhwaXJlc0luID4gMCkge1xuICAgIGNvbnN0IGV4cGlyZXNBdFRzID0gYXV0aERhdGUuZ2V0VGltZSgpICsgZXhwaXJlc0luICogMWUzO1xuICAgIGNvbnN0IG5vd1RzID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoZXhwaXJlc0F0VHMgPCBub3dUcykge1xuICAgICAgdGhyb3cgbmV3IEV4cGlyZWRFcnJvcihhdXRoRGF0ZSwgbmV3IERhdGUoZXhwaXJlc0F0VHMpLCBuZXcgRGF0ZShub3dUcykpO1xuICAgIH1cbiAgfVxuICBwYWlycy5zb3J0KCk7XG4gIGNvbnN0IHNpZ24yID0gc2lnbkRhdGEyKHBhaXJzLmpvaW4oXCJcXG5cIiksIHRva2VuLCBvcHRpb25zKTtcbiAgcmV0dXJuIHR5cGVvZiBzaWduMiA9PT0gXCJzdHJpbmdcIiA/IHByb2Nlc3NTaWduKHNpZ24yLCBoYXNoKSA6IHNpZ24yLnRoZW4oKHYyKSA9PiBwcm9jZXNzU2lnbih2MiwgaGFzaCkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZCh2YWx1ZSwgdG9rZW4sIHZhbGlkYXRlMiwgb3B0aW9ucykge1xuICB0cnkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHZhbGlkYXRlMih2YWx1ZSwgdG9rZW4sIG9wdGlvbnMpO1xuICAgIHJldHVybiBtYXliZVByb21pc2UgPyBtYXliZVByb21pc2UudGhlbigoKSA9PiB0cnVlLCAoKSA9PiBmYWxzZSkgOiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NSZXN1bHQodmVyaWZpZWQpIHtcbiAgaWYgKCF2ZXJpZmllZCkge1xuICAgIHRocm93IG5ldyBTaWduYXR1cmVJbnZhbGlkRXJyb3IoKTtcbiAgfVxuICByZXR1cm47XG59XG5mdW5jdGlvbiB2YWxpZGF0ZTNyZCQxKHZhbHVlLCBib3RJZCwgdmVyaWZ5LCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGF1dGhEYXRlO1xuICBsZXQgYXV0aERhdGVTdHJpbmc7XG4gIGxldCBzaWduYXR1cmU7XG4gIGNvbnN0IHBhaXJzID0gW107XG4gICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKHZhbHVlKSA6IHZhbHVlKS5mb3JFYWNoKCh2YWx1ZTIsIGtleSkgPT4ge1xuICAgIGlmIChrZXkgPT09IFwiaGFzaFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwic2lnbmF0dXJlXCIpIHtcbiAgICAgIHNpZ25hdHVyZSA9IHZhbHVlMjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCJhdXRoX2RhdGVcIikge1xuICAgICAgYXV0aERhdGVTdHJpbmcgPSB2YWx1ZTI7XG4gICAgICBjb25zdCBhdXRoRGF0ZU51bSA9IHBhcnNlSW50KHZhbHVlMiwgMTApO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oYXV0aERhdGVOdW0pKSB7XG4gICAgICAgIGF1dGhEYXRlID0gbmV3IERhdGUoYXV0aERhdGVOdW0gKiAxZTMpO1xuICAgICAgfVxuICAgIH1cbiAgICBwYWlycy5wdXNoKGAke2tleX09JHt2YWx1ZTJ9YCk7XG4gIH0pO1xuICBpZiAoIXNpZ25hdHVyZSkge1xuICAgIHRocm93IG5ldyBTaWduYXR1cmVNaXNzaW5nRXJyb3IodHJ1ZSk7XG4gIH1cbiAgaWYgKCFhdXRoRGF0ZSkge1xuICAgIHRocm93IG5ldyBBdXRoRGF0ZUludmFsaWRFcnJvcihhdXRoRGF0ZVN0cmluZyk7XG4gIH1cbiAgY29uc3QgeyBleHBpcmVzSW4gPSA4NjQwMCB9ID0gb3B0aW9ucztcbiAgaWYgKGV4cGlyZXNJbiA+IDApIHtcbiAgICBjb25zdCBleHBpcmVzQXRUcyA9IGF1dGhEYXRlLmdldFRpbWUoKSArIGV4cGlyZXNJbiAqIDFlMztcbiAgICBjb25zdCBub3dUcyA9IERhdGUubm93KCk7XG4gICAgaWYgKGV4cGlyZXNBdFRzIDwgbm93VHMpIHtcbiAgICAgIHRocm93IG5ldyBFeHBpcmVkRXJyb3IoYXV0aERhdGUsIG5ldyBEYXRlKGV4cGlyZXNBdFRzKSwgbmV3IERhdGUobm93VHMpKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmVyaWZpZWQgPSB2ZXJpZnkoXG4gICAgYCR7Ym90SWR9OldlYkFwcERhdGFcbiR7cGFpcnMuc29ydCgpLmpvaW4oXCJcXG5cIil9YCxcbiAgICBvcHRpb25zLnRlc3QgPyBcIjQwMDU1MDU4YTRlZTM4MTU2YTA2NTYyZTUyZWVjZTkyYTc3MWJjZDgzNDZhOGM0NjE1Y2I3Mzc2ZWRkZjcyZWNcIiA6IFwiZTdiZjAzYTJmYTQ2MDJhZjQ1ODA3MDNkODhkZGE1YmI1OWYzMmVkOGIwMmE1NmMxODdmZTdkMzRjYWVkMjQyZFwiLFxuICAgIHNpZ25hdHVyZVxuICApO1xuICByZXR1cm4gdHlwZW9mIHZlcmlmaWVkID09PSBcImJvb2xlYW5cIiA/IHByb2Nlc3NSZXN1bHQodmVyaWZpZWQpIDogdmVyaWZpZWQudGhlbihwcm9jZXNzUmVzdWx0KTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWQzcmQkMSh2YWx1ZSwgYm90SWQsIHZhbGlkYXRlMiwgb3B0aW9ucykge1xuICB0cnkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHZhbGlkYXRlMih2YWx1ZSwgYm90SWQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBtYXliZVByb21pc2UgPyBtYXliZVByb21pc2UudGhlbigoKSA9PiB0cnVlLCAoKSA9PiBmYWxzZSkgOiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmNvbnN0IHBhcnNlID0ga2U7XG5jb25zdCB2ZXJpZnkzcmQgPSBhc3luYyAoZGF0YSwga2V5LCBzaWduYXR1cmUpID0+IHtcbiAgcmV0dXJuIGNyeXB0by5zdWJ0bGUudmVyaWZ5KFxuICAgIFwiRWQyNTUxOVwiLFxuICAgIGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsIEJ1ZmZlci5mcm9tKGtleSwgXCJoZXhcIiksIFwiRWQyNTUxOVwiLCBmYWxzZSwgW1widmVyaWZ5XCJdKSxcbiAgICBCdWZmZXIuZnJvbShzaWduYXR1cmUsIFwiYmFzZTY0XCIpLFxuICAgIEJ1ZmZlci5mcm9tKGRhdGEpXG4gICk7XG59O1xuYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGUzcmQodmFsdWUsIGJvdElkLCBvcHRpb25zKSB7XG4gIHJldHVybiB2YWxpZGF0ZTNyZCQxKHZhbHVlLCBib3RJZCwgdmVyaWZ5M3JkLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWQzcmQodmFsdWUsIGJvdElkLCBvcHRpb25zKSB7XG4gIHJldHVybiBpc1ZhbGlkM3JkJDEodmFsdWUsIGJvdElkLCB2YWxpZGF0ZTNyZCwgb3B0aW9ucyk7XG59XG5leHBvcnQge1xuICBBdXRoRGF0ZUludmFsaWRFcnJvciBhcyBBLFxuICBFeHBpcmVkRXJyb3IgYXMgRSxcbiAgU2lnbmF0dXJlTWlzc2luZ0Vycm9yIGFzIFMsXG4gIHNpZ25EYXRhIGFzIGEsXG4gIHZhbGlkYXRlM3JkIGFzIGIsXG4gIGlzVmFsaWQzcmQgYXMgYyxcbiAgU2lnbmF0dXJlSW52YWxpZEVycm9yIGFzIGQsXG4gIGlzU2lnbmF0dXJlTWlzc2luZ0Vycm9yIGFzIGUsXG4gIGlzQXV0aERhdGVJbnZhbGlkRXJyb3IgYXMgZixcbiAgaXNFeHBpcmVkRXJyb3IgYXMgZyxcbiAgaGFzaFRva2VuIGFzIGgsXG4gIGlzVmFsaWQgYXMgaSxcbiAgaXNTaWduYXR1cmVJbnZhbGlkRXJyb3IgYXMgaixcbiAgcGFyc2UgYXMgcCxcbiAgc2lnbiBhcyBzLFxuICB2YWxpZGF0ZSBhcyB2XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmVkLWNXUWlBVDdfLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@telegram-apps/init-data-node/dist/entries/shared-cWQiAT7_.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@telegram-apps/sdk/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@telegram-apps/sdk/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortablePromise: () => (/* binding */ fn),\n/* harmony export */   AccessDeniedError: () => (/* binding */ Us),\n/* harmony export */   CSSVarsBoundError: () => (/* binding */ Cn),\n/* harmony export */   CancelledError: () => (/* binding */ Xa),\n/* harmony export */   ConcurrentCallError: () => (/* binding */ su),\n/* harmony export */   FullscreenFailedError: () => (/* binding */ au),\n/* harmony export */   FunctionUnavailableError: () => (/* binding */ xe),\n/* harmony export */   InvalidArgumentsError: () => (/* binding */ J),\n/* harmony export */   InvalidEnvError: () => (/* binding */ Nf),\n/* harmony export */   InvalidLaunchParamsError: () => (/* binding */ Vi),\n/* harmony export */   InvokeCustomMethodError: () => (/* binding */ Ri),\n/* harmony export */   LaunchParamsRetrieveError: () => (/* binding */ Ni),\n/* harmony export */   ManualPromise: () => (/* binding */ Cf),\n/* harmony export */   MethodParameterUnsupportedError: () => (/* binding */ Di),\n/* harmony export */   MethodUnsupportedError: () => (/* binding */ qi),\n/* harmony export */   NotAvailableError: () => (/* binding */ Ws),\n/* harmony export */   SetEmojiStatusError: () => (/* binding */ ou),\n/* harmony export */   ShareMessageError: () => (/* binding */ iu),\n/* harmony export */   TimeoutError: () => (/* binding */ ei),\n/* harmony export */   UnknownEnvError: () => (/* binding */ Li),\n/* harmony export */   addToHomeScreen: () => (/* binding */ Am),\n/* harmony export */   authenticateBiometry: () => (/* binding */ Lu),\n/* harmony export */   backButton: () => (/* binding */ Gf),\n/* harmony export */   bindMiniAppCssVars: () => (/* binding */ bp),\n/* harmony export */   bindThemeParamsCssVars: () => (/* binding */ rp),\n/* harmony export */   bindViewportCssVars: () => (/* binding */ Ld),\n/* harmony export */   biometry: () => (/* binding */ Jf),\n/* harmony export */   biometryAuthError: () => (/* binding */ Hu),\n/* harmony export */   biometryAuthPromise: () => (/* binding */ no),\n/* harmony export */   biometryMountError: () => (/* binding */ Iu),\n/* harmony export */   biometryState: () => (/* binding */ Cu),\n/* harmony export */   changeFullscreenError: () => (/* binding */ zd),\n/* harmony export */   changeFullscreenPromise: () => (/* binding */ Wd),\n/* harmony export */   checkHomeScreenStatus: () => (/* binding */ km),\n/* harmony export */   checkHomeScreenStatusError: () => (/* binding */ xm),\n/* harmony export */   checkHomeScreenStatusPromise: () => (/* binding */ Mm),\n/* harmony export */   closeMiniApp: () => (/* binding */ yp),\n/* harmony export */   closeQrScanner: () => (/* binding */ Np),\n/* harmony export */   closingBehavior: () => (/* binding */ Kf),\n/* harmony export */   cloudStorage: () => (/* binding */ Yf),\n/* harmony export */   configure: () => (/* binding */ nu),\n/* harmony export */   copyTextToClipboard: () => (/* binding */ Wm),\n/* harmony export */   createPostEvent: () => (/* binding */ Qi),\n/* harmony export */   createRequestId: () => (/* binding */ Fs),\n/* harmony export */   deleteCloudStorageItem: () => (/* binding */ bo),\n/* harmony export */   disableClosingConfirmation: () => (/* binding */ ec),\n/* harmony export */   disableVerticalSwipes: () => (/* binding */ wd),\n/* harmony export */   downloadFile: () => (/* binding */ Um),\n/* harmony export */   emitEvent: () => (/* binding */ Pr),\n/* harmony export */   enableClosingConfirmation: () => (/* binding */ tc),\n/* harmony export */   enableVerticalSwipes: () => (/* binding */ Ed),\n/* harmony export */   exitFullscreen: () => (/* binding */ Qd),\n/* harmony export */   expandViewport: () => (/* binding */ Rd),\n/* harmony export */   getCloudStorageItem: () => (/* binding */ pc),\n/* harmony export */   getCloudStorageKeys: () => (/* binding */ yo),\n/* harmony export */   getCurrentTime: () => (/* binding */ zm),\n/* harmony export */   hapticFeedback: () => (/* binding */ Zf),\n/* harmony export */   hapticFeedbackImpactOccurred: () => (/* binding */ hc),\n/* harmony export */   hapticFeedbackNotificationOccurred: () => (/* binding */ _c),\n/* harmony export */   hapticFeedbackSelectionChanged: () => (/* binding */ bc),\n/* harmony export */   hideBackButton: () => (/* binding */ pu),\n/* harmony export */   hideSettingsButton: () => (/* binding */ pd),\n/* harmony export */   ignoreCanceled: () => (/* binding */ Ks),\n/* harmony export */   init: () => (/* binding */ Xm),\n/* harmony export */   initData: () => (/* binding */ Xf),\n/* harmony export */   initDataAuthDate: () => (/* binding */ vo),\n/* harmony export */   initDataCanSendAfter: () => (/* binding */ wo),\n/* harmony export */   initDataCanSendAfterDate: () => (/* binding */ gc),\n/* harmony export */   initDataChat: () => (/* binding */ vc),\n/* harmony export */   initDataChatInstance: () => (/* binding */ Ec),\n/* harmony export */   initDataChatType: () => (/* binding */ wc),\n/* harmony export */   initDataHash: () => (/* binding */ $c),\n/* harmony export */   initDataQueryId: () => (/* binding */ Sc),\n/* harmony export */   initDataRaw: () => (/* binding */ Ac),\n/* harmony export */   initDataReceiver: () => (/* binding */ kc),\n/* harmony export */   initDataStartParam: () => (/* binding */ Pc),\n/* harmony export */   initDataState: () => (/* binding */ yc),\n/* harmony export */   initDataUser: () => (/* binding */ xc),\n/* harmony export */   invoice: () => (/* binding */ em),\n/* harmony export */   invokeCustomMethod: () => (/* binding */ ke),\n/* harmony export */   isAccessDeniedError: () => (/* binding */ Wf),\n/* harmony export */   isAuthenticatingBiometry: () => (/* binding */ Ru),\n/* harmony export */   isBackButtonMounted: () => (/* binding */ cu),\n/* harmony export */   isBackButtonSupported: () => (/* binding */ lu),\n/* harmony export */   isBackButtonVisible: () => (/* binding */ uu),\n/* harmony export */   isBiometryAvailable: () => (/* binding */ Au),\n/* harmony export */   isBiometryMounted: () => (/* binding */ qu),\n/* harmony export */   isBiometryMounting: () => (/* binding */ Ou),\n/* harmony export */   isBiometrySupported: () => (/* binding */ Mu),\n/* harmony export */   isCSSVarsBoundError: () => (/* binding */ qf),\n/* harmony export */   isCancelledError: () => (/* binding */ $f),\n/* harmony export */   isCheckingHomeScreenStatus: () => (/* binding */ Pm),\n/* harmony export */   isClosingBehaviorMounted: () => (/* binding */ so),\n/* harmony export */   isClosingConfirmationEnabled: () => (/* binding */ Zu),\n/* harmony export */   isCloudStorageSupported: () => (/* binding */ cc),\n/* harmony export */   isColorDark: () => (/* binding */ Ro),\n/* harmony export */   isConcurrentCallError: () => (/* binding */ Hf),\n/* harmony export */   isFullscreen: () => (/* binding */ qa),\n/* harmony export */   isFullscreenFailedError: () => (/* binding */ Uf),\n/* harmony export */   isFunctionNotAvailableError: () => (/* binding */ Lf),\n/* harmony export */   isHapticFeedbackSupported: () => (/* binding */ mc),\n/* harmony export */   isInvalidArguments: () => (/* binding */ Rf),\n/* harmony export */   isInvalidEnvError: () => (/* binding */ Vf),\n/* harmony export */   isInvalidLaunchParamsError: () => (/* binding */ xf),\n/* harmony export */   isInvoiceOpened: () => (/* binding */ Vc),\n/* harmony export */   isInvoiceSupported: () => (/* binding */ Bc),\n/* harmony export */   isInvokeCustomMethodError: () => (/* binding */ Bf),\n/* harmony export */   isLaunchParamsRetrieveError: () => (/* binding */ Pf),\n/* harmony export */   isLocationManagerAccessGranted: () => (/* binding */ Fc),\n/* harmony export */   isLocationManagerAccessRequested: () => (/* binding */ Wc),\n/* harmony export */   isLocationManagerAvailable: () => (/* binding */ Hc),\n/* harmony export */   isLocationManagerMounted: () => (/* binding */ tl),\n/* harmony export */   isLocationManagerMounting: () => (/* binding */ Zc),\n/* harmony export */   isLocationManagerSupported: () => (/* binding */ Rc),\n/* harmony export */   isMainButtonEnabled: () => (/* binding */ Hl),\n/* harmony export */   isMainButtonLoaderVisible: () => (/* binding */ Fl),\n/* harmony export */   isMainButtonMounted: () => (/* binding */ Wo),\n/* harmony export */   isMainButtonVisible: () => (/* binding */ Wl),\n/* harmony export */   isMethodMethodParameterUnsupportedError: () => (/* binding */ Mf),\n/* harmony export */   isMethodUnsupportedError: () => (/* binding */ kf),\n/* harmony export */   isMiniAppActive: () => (/* binding */ fp),\n/* harmony export */   isMiniAppCssVarsBound: () => (/* binding */ pp),\n/* harmony export */   isMiniAppDark: () => (/* binding */ dp),\n/* harmony export */   isMiniAppMounted: () => (/* binding */ Ep),\n/* harmony export */   isMiniAppMounting: () => (/* binding */ vp),\n/* harmony export */   isMiniAppSupported: () => (/* binding */ mp),\n/* harmony export */   isNotAvailableError: () => (/* binding */ Df),\n/* harmony export */   isPopupOpened: () => (/* binding */ xp),\n/* harmony export */   isPopupShown: () => (/* binding */ Ip),\n/* harmony export */   isPopupSupported: () => (/* binding */ kp),\n/* harmony export */   isQrScannerOpened: () => (/* binding */ Up),\n/* harmony export */   isQrScannerSupported: () => (/* binding */ Vp),\n/* harmony export */   isRGB: () => (/* binding */ Ee),\n/* harmony export */   isRGBShort: () => (/* binding */ wl),\n/* harmony export */   isRequestingBiometryAccess: () => (/* binding */ Qu),\n/* harmony export */   isRequestingContact: () => (/* binding */ Nm),\n/* harmony export */   isRequestingEmojiStatusAccess: () => (/* binding */ _m),\n/* harmony export */   isRequestingLocation: () => (/* binding */ al),\n/* harmony export */   isRequestingPhoneAccess: () => (/* binding */ Im),\n/* harmony export */   isRequestingWriteAccess: () => (/* binding */ Hm),\n/* harmony export */   isSSR: () => (/* binding */ Dr),\n/* harmony export */   isSecondaryButtonEnabled: () => (/* binding */ Jp),\n/* harmony export */   isSecondaryButtonLoaderVisible: () => (/* binding */ Kp),\n/* harmony export */   isSecondaryButtonMounted: () => (/* binding */ da),\n/* harmony export */   isSecondaryButtonSupported: () => (/* binding */ nd),\n/* harmony export */   isSecondaryButtonVisible: () => (/* binding */ Yp),\n/* harmony export */   isSetEmojiStatusError: () => (/* binding */ Ff),\n/* harmony export */   isSettingEmojiStatus: () => (/* binding */ vm),\n/* harmony export */   isSettingsButtonMounted: () => (/* binding */ cd),\n/* harmony export */   isSettingsButtonSupported: () => (/* binding */ ld),\n/* harmony export */   isSettingsButtonVisible: () => (/* binding */ ud),\n/* harmony export */   isShareMessageError: () => (/* binding */ zf),\n/* harmony export */   isSwipeBehaviorMounted: () => (/* binding */ bd),\n/* harmony export */   isSwipeBehaviorSupported: () => (/* binding */ yd),\n/* harmony export */   isTMA: () => (/* binding */ Ir),\n/* harmony export */   isThemeParamsCssVarsBound: () => (/* binding */ kl),\n/* harmony export */   isThemeParamsDark: () => (/* binding */ Ol),\n/* harmony export */   isThemeParamsMounted: () => (/* binding */ ap),\n/* harmony export */   isThemeParamsMounting: () => (/* binding */ sp),\n/* harmony export */   isTimeoutError: () => (/* binding */ Sf),\n/* harmony export */   isUnknownEnvError: () => (/* binding */ Tf),\n/* harmony export */   isVerticalSwipesEnabled: () => (/* binding */ gd),\n/* harmony export */   isViewportCssVarsBound: () => (/* binding */ Vd),\n/* harmony export */   isViewportExpanded: () => (/* binding */ Cd),\n/* harmony export */   isViewportMounted: () => (/* binding */ qd),\n/* harmony export */   isViewportMounting: () => (/* binding */ Id),\n/* harmony export */   isViewportStable: () => (/* binding */ Ad),\n/* harmony export */   locationManager: () => (/* binding */ tm),\n/* harmony export */   locationManagerMountError: () => (/* binding */ Xc),\n/* harmony export */   locationManagerMountPromise: () => (/* binding */ Yc),\n/* harmony export */   mainButton: () => (/* binding */ om),\n/* harmony export */   mainButtonBackgroundColor: () => (/* binding */ Ll),\n/* harmony export */   mainButtonHasShineEffect: () => (/* binding */ Rl),\n/* harmony export */   mainButtonState: () => (/* binding */ zn),\n/* harmony export */   mainButtonText: () => (/* binding */ Ul),\n/* harmony export */   mainButtonTextColor: () => (/* binding */ zl),\n/* harmony export */   miniApp: () => (/* binding */ im),\n/* harmony export */   miniAppBackgroundColor: () => (/* binding */ up),\n/* harmony export */   miniAppBackgroundColorRGB: () => (/* binding */ Zn),\n/* harmony export */   miniAppBottomBarColor: () => (/* binding */ cp),\n/* harmony export */   miniAppBottomBarColorRGB: () => (/* binding */ Xn),\n/* harmony export */   miniAppHeaderColor: () => (/* binding */ lp),\n/* harmony export */   miniAppHeaderColorRGB: () => (/* binding */ Xo),\n/* harmony export */   miniAppMountError: () => (/* binding */ wp),\n/* harmony export */   miniAppMountPromise: () => (/* binding */ oa),\n/* harmony export */   miniAppReady: () => (/* binding */ Sp),\n/* harmony export */   miniAppState: () => (/* binding */ ea),\n/* harmony export */   mockTelegramEnv: () => (/* binding */ Of),\n/* harmony export */   mountBackButton: () => (/* binding */ du),\n/* harmony export */   mountBiometry: () => (/* binding */ Bu),\n/* harmony export */   mountBiometryPromise: () => (/* binding */ to),\n/* harmony export */   mountClosingBehavior: () => (/* binding */ nc),\n/* harmony export */   mountLocationManager: () => (/* binding */ Kc),\n/* harmony export */   mountMainButton: () => (/* binding */ Jl),\n/* harmony export */   mountMiniApp: () => (/* binding */ gp),\n/* harmony export */   mountMiniAppSync: () => (/* binding */ $p),\n/* harmony export */   mountSecondaryButton: () => (/* binding */ rd),\n/* harmony export */   mountSettingsButton: () => (/* binding */ dd),\n/* harmony export */   mountSwipeBehavior: () => (/* binding */ $d),\n/* harmony export */   mountThemeParams: () => (/* binding */ Jo),\n/* harmony export */   mountThemeParamsSync: () => (/* binding */ Yo),\n/* harmony export */   mountViewport: () => (/* binding */ Od),\n/* harmony export */   off: () => (/* binding */ B),\n/* harmony export */   offAddToHomeScreenFailed: () => (/* binding */ $m),\n/* harmony export */   offAddedToHomeScreen: () => (/* binding */ Cm),\n/* harmony export */   offBackButtonClick: () => (/* binding */ mu),\n/* harmony export */   offMainButtonClick: () => (/* binding */ Yl),\n/* harmony export */   offSecondaryButtonClick: () => (/* binding */ od),\n/* harmony export */   offSettingsButtonClick: () => (/* binding */ md),\n/* harmony export */   on: () => (/* binding */ S),\n/* harmony export */   onAddToHomeScreenFailed: () => (/* binding */ Em),\n/* harmony export */   onAddedToHomeScreen: () => (/* binding */ Sm),\n/* harmony export */   onBackButtonClick: () => (/* binding */ fu),\n/* harmony export */   onMainButtonClick: () => (/* binding */ Kl),\n/* harmony export */   onSecondaryButtonClick: () => (/* binding */ sd),\n/* harmony export */   onSettingsButtonClick: () => (/* binding */ fd),\n/* harmony export */   openBiometrySettings: () => (/* binding */ Fu),\n/* harmony export */   openInvoice: () => (/* binding */ Dc),\n/* harmony export */   openInvoiceError: () => (/* binding */ Lc),\n/* harmony export */   openInvoicePromise: () => (/* binding */ Nc),\n/* harmony export */   openLink: () => (/* binding */ Tm),\n/* harmony export */   openLocationManagerSettings: () => (/* binding */ ul),\n/* harmony export */   openPopup: () => (/* binding */ Mp),\n/* harmony export */   openPopupError: () => (/* binding */ Tp),\n/* harmony export */   openPopupPromise: () => (/* binding */ Pp),\n/* harmony export */   openQrScanner: () => (/* binding */ Wp),\n/* harmony export */   openQrScannerError: () => (/* binding */ zp),\n/* harmony export */   openQrScannerPromise: () => (/* binding */ pa),\n/* harmony export */   openTelegramLink: () => (/* binding */ uf),\n/* harmony export */   parseInitDataQuery: () => (/* binding */ nm),\n/* harmony export */   parseLaunchParamsQuery: () => (/* binding */ rm),\n/* harmony export */   popup: () => (/* binding */ um),\n/* harmony export */   postEvent: () => (/* binding */ _),\n/* harmony export */   postMessage: () => (/* binding */ Wi),\n/* harmony export */   postMessageImplementation: () => (/* binding */ Ge),\n/* harmony export */   qrScanner: () => (/* binding */ cm),\n/* harmony export */   readTextFromClipboard: () => (/* binding */ Gm),\n/* harmony export */   request: () => (/* binding */ C),\n/* harmony export */   requestBiometry: () => (/* binding */ ku),\n/* harmony export */   requestBiometryAccess: () => (/* binding */ Gu),\n/* harmony export */   requestBiometryAccessError: () => (/* binding */ Ju),\n/* harmony export */   requestBiometryAccessPromise: () => (/* binding */ ro),\n/* harmony export */   requestContact: () => (/* binding */ qm),\n/* harmony export */   requestContactError: () => (/* binding */ Vm),\n/* harmony export */   requestContactPromise: () => (/* binding */ Dm),\n/* harmony export */   requestContentSafeAreaInsets: () => (/* binding */ Yr),\n/* harmony export */   requestEmojiStatusAccess: () => (/* binding */ mm),\n/* harmony export */   requestEmojiStatusAccessError: () => (/* binding */ bm),\n/* harmony export */   requestEmojiStatusAccessPromise: () => (/* binding */ hm),\n/* harmony export */   requestFullscreen: () => (/* binding */ Gd),\n/* harmony export */   requestLocation: () => (/* binding */ ol),\n/* harmony export */   requestLocationError: () => (/* binding */ il),\n/* harmony export */   requestLocationPromise: () => (/* binding */ So),\n/* harmony export */   requestPhoneAccess: () => (/* binding */ mf),\n/* harmony export */   requestPhoneAccessError: () => (/* binding */ jm),\n/* harmony export */   requestPhoneAccessPromise: () => (/* binding */ Om),\n/* harmony export */   requestSafeAreaInsets: () => (/* binding */ Zr),\n/* harmony export */   requestViewport: () => (/* binding */ Md),\n/* harmony export */   requestWriteAccess: () => (/* binding */ Lm),\n/* harmony export */   requestWriteAccessError: () => (/* binding */ Fm),\n/* harmony export */   requestWriteAccessPromise: () => (/* binding */ Rm),\n/* harmony export */   restoreInitData: () => (/* binding */ Mc),\n/* harmony export */   retrieveLaunchParams: () => (/* binding */ $n),\n/* harmony export */   retrieveRawInitData: () => (/* binding */ zi),\n/* harmony export */   retrieveRawLaunchParams: () => (/* binding */ qs),\n/* harmony export */   safeCall: () => (/* binding */ Zm),\n/* harmony export */   secondaryButton: () => (/* binding */ lm),\n/* harmony export */   secondaryButtonBackgroundColor: () => (/* binding */ Gp),\n/* harmony export */   secondaryButtonHasShineEffect: () => (/* binding */ Qp),\n/* harmony export */   secondaryButtonPosition: () => (/* binding */ Zp),\n/* harmony export */   secondaryButtonState: () => (/* binding */ cr),\n/* harmony export */   secondaryButtonText: () => (/* binding */ Xp),\n/* harmony export */   secondaryButtonTextColor: () => (/* binding */ ed),\n/* harmony export */   sendData: () => (/* binding */ Qm),\n/* harmony export */   serializeInitDataQuery: () => (/* binding */ Al),\n/* harmony export */   serializeLaunchParamsQuery: () => (/* binding */ sm),\n/* harmony export */   serializeToQuery: () => (/* binding */ Lo),\n/* harmony export */   setCloudStorageItem: () => (/* binding */ dc),\n/* harmony export */   setDebug: () => (/* binding */ jf),\n/* harmony export */   setEmojiStatus: () => (/* binding */ ym),\n/* harmony export */   setEmojiStatusError: () => (/* binding */ wm),\n/* harmony export */   setEmojiStatusPromise: () => (/* binding */ gm),\n/* harmony export */   setMainButtonParams: () => (/* binding */ Zl),\n/* harmony export */   setMiniAppBackgroundColor: () => (/* binding */ rr),\n/* harmony export */   setMiniAppBottomBarColor: () => (/* binding */ sr),\n/* harmony export */   setMiniAppHeaderColor: () => (/* binding */ or),\n/* harmony export */   setSecondaryButtonParams: () => (/* binding */ ad),\n/* harmony export */   settingsButton: () => (/* binding */ pm),\n/* harmony export */   shareMessage: () => (/* binding */ Jm),\n/* harmony export */   shareStory: () => (/* binding */ Km),\n/* harmony export */   shareURL: () => (/* binding */ Bm),\n/* harmony export */   showBackButton: () => (/* binding */ hu),\n/* harmony export */   showPopup: () => (/* binding */ Bp),\n/* harmony export */   showPopupError: () => (/* binding */ jp),\n/* harmony export */   showPopupPromise: () => (/* binding */ Op),\n/* harmony export */   showSettingsButton: () => (/* binding */ hd),\n/* harmony export */   supports: () => (/* binding */ fe),\n/* harmony export */   swipeBehavior: () => (/* binding */ dm),\n/* harmony export */   switchInlineQuery: () => (/* binding */ Ym),\n/* harmony export */   targetOrigin: () => (/* binding */ Ui),\n/* harmony export */   themeParams: () => (/* binding */ am),\n/* harmony export */   themeParamsAccentTextColor: () => (/* binding */ Pl),\n/* harmony export */   themeParamsBackgroundColor: () => (/* binding */ mt),\n/* harmony export */   themeParamsBottomBarBgColor: () => (/* binding */ Fo),\n/* harmony export */   themeParamsButtonColor: () => (/* binding */ Un),\n/* harmony export */   themeParamsButtonTextColor: () => (/* binding */ Ho),\n/* harmony export */   themeParamsDestructiveTextColor: () => (/* binding */ xl),\n/* harmony export */   themeParamsHeaderBackgroundColor: () => (/* binding */ Tl),\n/* harmony export */   themeParamsHintColor: () => (/* binding */ Bl),\n/* harmony export */   themeParamsLinkColor: () => (/* binding */ Il),\n/* harmony export */   themeParamsMountError: () => (/* binding */ op),\n/* harmony export */   themeParamsMountPromise: () => (/* binding */ Ko),\n/* harmony export */   themeParamsSecondaryBackgroundColor: () => (/* binding */ Ze),\n/* harmony export */   themeParamsSectionBackgroundColor: () => (/* binding */ jl),\n/* harmony export */   themeParamsSectionHeaderTextColor: () => (/* binding */ ql),\n/* harmony export */   themeParamsSectionSeparatorColor: () => (/* binding */ Dl),\n/* harmony export */   themeParamsState: () => (/* binding */ Ml),\n/* harmony export */   themeParamsSubtitleTextColor: () => (/* binding */ Nl),\n/* harmony export */   themeParamsTextColor: () => (/* binding */ Vl),\n/* harmony export */   toRGB: () => (/* binding */ El),\n/* harmony export */   transformQueryUsing: () => (/* binding */ Do),\n/* harmony export */   unmountBackButton: () => (/* binding */ _u),\n/* harmony export */   unmountBiometry: () => (/* binding */ Ku),\n/* harmony export */   unmountClosingBehavior: () => (/* binding */ rc),\n/* harmony export */   unmountLocationManager: () => (/* binding */ cl),\n/* harmony export */   unmountMainButton: () => (/* binding */ Xl),\n/* harmony export */   unmountMiniApp: () => (/* binding */ Cp),\n/* harmony export */   unmountSecondaryButton: () => (/* binding */ id),\n/* harmony export */   unmountSettingsButton: () => (/* binding */ _d),\n/* harmony export */   unmountSwipeBehavior: () => (/* binding */ Sd),\n/* harmony export */   unmountThemeParams: () => (/* binding */ ip),\n/* harmony export */   unmountViewport: () => (/* binding */ Dd),\n/* harmony export */   updateBiometryToken: () => (/* binding */ Yu),\n/* harmony export */   viewport: () => (/* binding */ fm),\n/* harmony export */   viewportContentSafeAreaInsetBottom: () => (/* binding */ va),\n/* harmony export */   viewportContentSafeAreaInsetLeft: () => (/* binding */ wa),\n/* harmony export */   viewportContentSafeAreaInsetRight: () => (/* binding */ Ea),\n/* harmony export */   viewportContentSafeAreaInsetTop: () => (/* binding */ $a),\n/* harmony export */   viewportContentSafeAreaInsets: () => (/* binding */ vr),\n/* harmony export */   viewportHeight: () => (/* binding */ yr),\n/* harmony export */   viewportMountError: () => (/* binding */ jd),\n/* harmony export */   viewportMountPromise: () => (/* binding */ Ia),\n/* harmony export */   viewportSafeAreaInsetBottom: () => (/* binding */ Sa),\n/* harmony export */   viewportSafeAreaInsetLeft: () => (/* binding */ Ca),\n/* harmony export */   viewportSafeAreaInsetRight: () => (/* binding */ Aa),\n/* harmony export */   viewportSafeAreaInsetTop: () => (/* binding */ ka),\n/* harmony export */   viewportSafeAreaInsets: () => (/* binding */ wr),\n/* harmony export */   viewportStableHeight: () => (/* binding */ gr),\n/* harmony export */   viewportState: () => (/* binding */ ya),\n/* harmony export */   viewportWidth: () => (/* binding */ ga),\n/* harmony export */   wrapSafe: () => (/* binding */ A)\n/* harmony export */ });\n// @__NO_SIDE_EFFECTS__\nfunction is(e) {\n  return {\n    lang: (e == null ? void 0 : e.lang) ?? void 0,\n    message: e == null ? void 0 : e.message,\n    abortEarly: (e == null ? void 0 : e.abortEarly) ?? void 0,\n    abortPipeEarly: (e == null ? void 0 : e.abortPipeEarly) ?? void 0\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction za(e, t) {\n  var n;\n  return (n = void 0) == null ? void 0 : n.get(t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ga(e) {\n  var t, n;\n  const r = typeof e;\n  return r === \"string\" ? `\"${e}\"` : r === \"number\" || r === \"bigint\" || r === \"boolean\" ? `${e}` : r === \"object\" || r === \"function\" ? (e && ((n = (t = Object.getPrototypeOf(e)) == null ? void 0 : t.constructor) == null ? void 0 : n.name)) ?? \"null\" : r;\n}\nfunction we(e, t, n, r, s) {\n  const o = s && \"input\" in s ? s.input : n.value, a = (s == null ? void 0 : s.expected) ?? e.expects ?? null, i = (s == null ? void 0 : s.received) ?? /* @__PURE__ */ Ga(o), u = {\n    kind: e.kind,\n    type: e.type,\n    input: o,\n    expected: a,\n    received: i,\n    message: `Invalid ${t}: ${a ? `Expected ${a} but r` : \"R\"}eceived ${i}`,\n    requirement: e.requirement,\n    path: s == null ? void 0 : s.path,\n    issues: s == null ? void 0 : s.issues,\n    lang: r.lang,\n    abortEarly: r.abortEarly,\n    abortPipeEarly: r.abortPipeEarly\n  }, c = e.kind === \"schema\", l = (s == null ? void 0 : s.message) ?? e.message ?? /* @__PURE__ */ za(e.reference, u.lang) ?? (c ? (u.lang, void 0) : null) ?? r.message ?? (u.lang, void 0);\n  l && (u.message = typeof l == \"function\" ? (\n    // @ts-expect-error\n    l(u)\n  ) : l), c && (n.typed = !1), n.issues ? n.issues.push(u) : n.issues = [u];\n}\n// @__NO_SIDE_EFFECTS__\nfunction K(e) {\n  return {\n    version: 1,\n    vendor: \"valibot\",\n    validate(t) {\n      return e[\"~run\"]({ value: t }, /* @__PURE__ */ is());\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Qa(e, t) {\n  return Object.hasOwn(e, t) && t !== \"__proto__\" && t !== \"prototype\" && t !== \"constructor\";\n}\nvar Ja = class extends Error {\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(e) {\n    super(e[0].message), this.name = \"ValiError\", this.issues = e;\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction pn(e, t, n) {\n  return typeof e.default == \"function\" ? (\n    // @ts-expect-error\n    e.default(t, n)\n  ) : (\n    // @ts-expect-error\n    e.default\n  );\n}\n// @__NO_SIDE_EFFECTS__\nfunction rt(e, t) {\n  return !e[\"~run\"]({ value: t }, { abortEarly: !0 }).issues;\n}\n// @__NO_SIDE_EFFECTS__\nfunction us() {\n  return {\n    kind: \"schema\",\n    type: \"any\",\n    reference: us,\n    expects: \"any\",\n    async: !1,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(e) {\n      return e.typed = !0, e;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Lt(e) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: Lt,\n    expects: \"boolean\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"boolean\" ? t.typed = !0 : we(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction dn(e) {\n  return {\n    kind: \"schema\",\n    type: \"function\",\n    reference: dn,\n    expects: \"Function\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"function\" ? t.typed = !0 : we(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction U(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: U,\n    expects: \"Object\",\n    async: !1,\n    entries: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(n, r) {\n      var s;\n      const o = n.value;\n      if (o && typeof o == \"object\") {\n        n.typed = !0, n.value = {};\n        for (const a in this.entries) {\n          const i = this.entries[a];\n          if (a in o || (i.type === \"exact_optional\" || i.type === \"optional\" || i.type === \"nullish\") && // @ts-expect-error\n          i.default !== void 0) {\n            const u = a in o ? (\n              // @ts-expect-error\n              o[a]\n            ) : /* @__PURE__ */ pn(i), c = i[\"~run\"]({ value: u }, r);\n            if (c.issues) {\n              const l = {\n                type: \"object\",\n                origin: \"value\",\n                input: o,\n                key: a,\n                value: u\n              };\n              for (const p of c.issues)\n                p.path ? p.path.unshift(l) : p.path = [l], (s = n.issues) == null || s.push(p);\n              if (n.issues || (n.issues = c.issues), r.abortEarly) {\n                n.typed = !1;\n                break;\n              }\n            }\n            c.typed || (n.typed = !1), n.value[a] = c.value;\n          } else if (i.type !== \"exact_optional\" && i.type !== \"optional\" && i.type !== \"nullish\" && (we(this, \"key\", n, r, {\n            input: void 0,\n            expected: `\"${a}\"`,\n            path: [\n              {\n                type: \"object\",\n                origin: \"key\",\n                input: o,\n                key: a,\n                // @ts-expect-error\n                value: o[a]\n              }\n            ]\n          }), r.abortEarly))\n            break;\n        }\n        if (!n.issues || !r.abortEarly)\n          for (const a in o)\n            /* @__PURE__ */ Qa(o, a) && !(a in this.entries) && (n.value[a] = o[a]);\n      } else\n        we(this, \"type\", n, r);\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Te(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"nullish\",\n    reference: Te,\n    expects: `(${e.expects} | null | undefined)`,\n    async: !1,\n    wrapped: e,\n    default: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(n, r) {\n      return (n.value === null || n.value === void 0) && (this.default !== void 0 && (n.value = /* @__PURE__ */ pn(this, n, r)), n.value === null || n.value === void 0) ? (n.typed = !0, n) : this.wrapped[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Rt(e) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: Rt,\n    expects: \"number\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"number\" && !isNaN(t.value) ? t.typed = !0 : we(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ht(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: Ht,\n    expects: `(${e.expects} | undefined)`,\n    async: !1,\n    wrapped: e,\n    default: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(n, r) {\n      return n.value === void 0 && (this.default !== void 0 && (n.value = /* @__PURE__ */ pn(this, n, r)), n.value === void 0) ? (n.typed = !0, n) : this.wrapped[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction re(e) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: re,\n    expects: \"string\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"string\" ? t.typed = !0 : we(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction cs() {\n  return {\n    kind: \"schema\",\n    type: \"unknown\",\n    reference: cs,\n    expects: \"unknown\",\n    async: !1,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(e) {\n      return e.typed = !0, e;\n    }\n  };\n}\nfunction Ft(e, t, n) {\n  const r = e[\"~run\"]({ value: t }, /* @__PURE__ */ is(n));\n  if (r.issues)\n    throw new Ja(r.issues);\n  return r.value;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ls(...e) {\n  return {\n    ...e[0],\n    pipe: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ K(this);\n    },\n    \"~run\"(t, n) {\n      for (const r of e)\n        if (r.kind !== \"metadata\") {\n          if (t.issues && (r.kind === \"schema\" || r.kind === \"transformation\")) {\n            t.typed = !1;\n            break;\n          }\n          (!t.issues || !n.abortEarly && !n.abortPipeEarly) && (t = r[\"~run\"](t, n));\n        }\n      return t;\n    }\n  };\n}\nfunction ps(e) {\n  return /* @__PURE__ */ rt(\n    /* @__PURE__ */ U({ TelegramWebviewProxy: /* @__PURE__ */ U({ postEvent: /* @__PURE__ */ dn() }) }),\n    e\n  );\n}\nfunction ds() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nvar Ka = Object.defineProperty, Ya = (e, t, n) => t in e ? Ka(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Wt = (e, t, n) => Ya(e, typeof t != \"symbol\" ? t + \"\" : t, n);\nfunction Za(e) {\n  return (t) => t instanceof e;\n}\nfunction fs(e, t) {\n  t || (t = []);\n  class n extends Error {\n    constructor(...s) {\n      const o = typeof t == \"function\" ? t(...s) : typeof t == \"string\" ? [t] : t || [];\n      super(...o), this.name = e;\n    }\n  }\n  return Object.defineProperty(n, \"name\", { value: e }), [n, Za(n)];\n}\nconst [Xa, $f] = fs(\"CancelledError\", \"Promise was canceled\"), [ei, Sf] = fs(\n  \"TimeoutError\",\n  (e, t) => [`Timeout reached: ${e}ms`, { cause: t }]\n), ms = Symbol(\"Resolved\");\nfunction $r(e) {\n  return Array.isArray(e) && e[0] === ms;\n}\nfunction ti(e) {\n  return [ms, e];\n}\nfunction Sr(e, t) {\n  return e.reject = t.reject, e.abort = t.abort, e;\n}\nlet fn = class Ut extends Promise {\n  constructor(t, n) {\n    let r, s;\n    super((o, a) => {\n      let i, u;\n      typeof t == \"function\" ? (i = t, u = n) : u = t;\n      const c = [], l = (d) => (...j) => {\n        const ee = d(...j);\n        return c.forEach((kt) => kt()), ee;\n      }, p = new AbortController(), { signal: m } = p;\n      s = (d) => {\n        !m.aborted && p.abort(d);\n      };\n      const f = () => m.reason, k = (d) => {\n        const j = () => {\n          d(f());\n        };\n        m.addEventListener(\"abort\", j, !0);\n        const ee = () => {\n          m.removeEventListener(\"abort\", j, !0);\n        };\n        return c.push(ee), ee;\n      }, ge = l((d) => {\n        o(d), s(ti(d));\n      });\n      r = l((d) => {\n        a(d), s(d);\n      }), u || (u = {});\n      const { abortSignal: M, rejectOnAbort: ne = !0 } = u;\n      if (M)\n        if (M.aborted) {\n          const { reason: d } = M;\n          if (ne)\n            return r(d);\n          s(d);\n        } else {\n          const d = () => {\n            s(M.reason);\n          };\n          M.addEventListener(\"abort\", d), c.push(() => {\n            M.removeEventListener(\"abort\", d);\n          });\n        }\n      ne && k(a);\n      const { timeout: E } = u;\n      if (E) {\n        const d = setTimeout(() => {\n          s(new ei(E));\n        }, E);\n        c.push(() => {\n          clearTimeout(d);\n        });\n      }\n      const $ = () => m.aborted, I = () => $r(f()), R = () => {\n        const d = f();\n        return $r(d) ? d[1] : void 0;\n      };\n      try {\n        const d = i && i(ge, r, {\n          abortReason: f,\n          abortSignal: m,\n          isAborted: $,\n          isResolved: I,\n          onAborted: k,\n          onResolved: (j) => k(() => {\n            I() && j(R());\n          }),\n          resolved: R,\n          throwIfAborted() {\n            if ($())\n              throw f();\n          }\n        });\n        d instanceof Promise && d.catch(r);\n      } catch (d) {\n        r(d);\n      }\n    }), Wt(this, \"abort\"), Wt(this, \"reject\"), this.abort = s, this.reject = r;\n  }\n  /**\n   * Creates a new AbortablePromise instance using an executor, resolving the promise when a result\n   * was returned.\n   * @param fn - function returning promise result.\n   * @param options - additional options.\n   */\n  static fn(t, n) {\n    return new Ut(async (r, s, o) => {\n      try {\n        r(await t(o));\n      } catch (a) {\n        s(a);\n      }\n    }, n);\n  }\n  static resolve(t) {\n    return this.fn(() => t);\n  }\n  /**\n   * @see Promise.reject\n   */\n  static reject(t) {\n    return new Ut((n, r) => {\n      r(t);\n    });\n  }\n  /**\n   * Aborts the promise with the cancel error.\n   */\n  cancel() {\n    this.abort(new Xa());\n  }\n  /**\n   * @see Promise.catch\n   */\n  catch(t) {\n    return this.then(void 0, t);\n  }\n  /**\n   * @see Promise.finally\n   */\n  finally(t) {\n    return Sr(super.finally(t), this);\n  }\n  /**\n   * @see Promise.then\n   */\n  then(t, n) {\n    return Sr(super.then(t, n), this);\n  }\n};\nfunction Cr(e, t) {\n  return e.resolve = t.resolve, e;\n}\nlet Cf = class zt extends fn {\n  constructor(t, n) {\n    let r, s;\n    typeof t == \"function\" ? (r = t, s = n) : s = t;\n    let o;\n    super((a, i, u) => {\n      o = a, r && r(a, i, u);\n    }, s), Wt(this, \"resolve\"), this.resolve = o;\n  }\n  /**\n   * Creates a new ManualPromise instance using an executor, resolving the promise when a result\n   * was returned.\n   * @param fn - function returning promise result.\n   * @param options - additional options.\n   */\n  static fn(t, n) {\n    return new zt((r, s, o) => {\n      try {\n        Promise.resolve(t(o)).then(r, s);\n      } catch (a) {\n        s(a);\n      }\n    }, n);\n  }\n  static resolve(t) {\n    return this.fn(() => t);\n  }\n  /**\n   * @see Promise.reject\n   */\n  static reject(t) {\n    return new zt((n, r) => {\n      r(t);\n    });\n  }\n  /**\n   * @see Promise.catch\n   */\n  catch(t) {\n    return this.then(void 0, t);\n  }\n  /**\n   * @see Promise.finally\n   */\n  finally(t) {\n    return Cr(super.finally(t), this);\n  }\n  /**\n   * @see Promise.then\n   */\n  then(t, n) {\n    return Cr(super.then(t, n), this);\n  }\n};\nfunction ni(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction ri(e) {\n  return Object.entries(e).reduce((t, [n, r]) => (t[ni(n)] = r, t), {});\n}\nfunction Gt(e) {\n  const t = ri(e);\n  for (const n in t) {\n    const r = t[n];\n    r && typeof r == \"object\" && !(r instanceof Date) && (t[n] = Array.isArray(r) ? r.map(Gt) : Gt(r));\n  }\n  return t;\n}\nfunction hs(e) {\n  return `tapps/${e}`;\n}\nfunction _s(e, t) {\n  sessionStorage.setItem(hs(e), JSON.stringify(t));\n}\nfunction si(e) {\n  const t = sessionStorage.getItem(hs(e));\n  try {\n    return t ? JSON.parse(t) : void 0;\n  } catch {\n  }\n}\nfunction oi(...e) {\n  const t = e.flat(1);\n  return [\n    t.push.bind(t),\n    () => {\n      t.forEach((n) => {\n        n();\n      });\n    }\n  ];\n}\n// @__NO_SIDE_EFFECTS__\nfunction ai(e, t) {\n  t || (t = {});\n  const {\n    textColor: n,\n    bgColor: r,\n    shouldLog: s\n  } = t, o = s === void 0 ? !0 : s, a = typeof o == \"boolean\" ? () => o : o;\n  function i(u, c, ...l) {\n    if (c || a()) {\n      const p = \"font-weight:bold;padding:0 5px;border-radius:5px\";\n      console[u](\n        `%c${Intl.DateTimeFormat(\"en-GB\", {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n          second: \"2-digit\",\n          fractionalSecondDigits: 3,\n          timeZone: \"UTC\"\n        }).format(/* @__PURE__ */ new Date())}%c / %c${e}`,\n        `${p};background-color: lightblue;color:black`,\n        \"\",\n        `${p};${n ? `color:${n};` : \"\"}${r ? `background-color:${r}` : \"\"}`,\n        ...l\n      );\n    }\n  }\n  return [i.bind(void 0, \"log\"), i.bind(void 0, \"error\")];\n}\n// @__NO_SIDE_EFFECTS__\nfunction bs(e) {\n  return {\n    lang: (e == null ? void 0 : e.lang) ?? void 0,\n    message: e == null ? void 0 : e.message,\n    abortEarly: (e == null ? void 0 : e.abortEarly) ?? void 0,\n    abortPipeEarly: (e == null ? void 0 : e.abortPipeEarly) ?? void 0\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ii(e, t) {\n  var n;\n  return (n = void 0) == null ? void 0 : n.get(t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction ui(e) {\n  var t, n;\n  const r = typeof e;\n  return r === \"string\" ? `\"${e}\"` : r === \"number\" || r === \"bigint\" || r === \"boolean\" ? `${e}` : r === \"object\" || r === \"function\" ? (e && ((n = (t = Object.getPrototypeOf(e)) == null ? void 0 : t.constructor) == null ? void 0 : n.name)) ?? \"null\" : r;\n}\nfunction q(e, t, n, r, s) {\n  const o = s && \"input\" in s ? s.input : n.value, a = (s == null ? void 0 : s.expected) ?? e.expects ?? null, i = (s == null ? void 0 : s.received) ?? /* @__PURE__ */ ui(o), u = {\n    kind: e.kind,\n    type: e.type,\n    input: o,\n    expected: a,\n    received: i,\n    message: `Invalid ${t}: ${a ? `Expected ${a} but r` : \"R\"}eceived ${i}`,\n    requirement: e.requirement,\n    path: s == null ? void 0 : s.path,\n    issues: s == null ? void 0 : s.issues,\n    lang: r.lang,\n    abortEarly: r.abortEarly,\n    abortPipeEarly: r.abortPipeEarly\n  }, c = e.kind === \"schema\", l = (s == null ? void 0 : s.message) ?? e.message ?? /* @__PURE__ */ ii(e.reference, u.lang) ?? (c ? (u.lang, void 0) : null) ?? r.message ?? (u.lang, void 0);\n  l && (u.message = typeof l == \"function\" ? (\n    // @ts-expect-error\n    l(u)\n  ) : l), c && (n.typed = !1), n.issues ? n.issues.push(u) : n.issues = [u];\n}\n// @__NO_SIDE_EFFECTS__\nfunction F(e) {\n  return {\n    version: 1,\n    vendor: \"valibot\",\n    validate(t) {\n      return e[\"~run\"]({ value: t }, /* @__PURE__ */ bs());\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ys(e, t) {\n  return Object.hasOwn(e, t) && t !== \"__proto__\" && t !== \"prototype\" && t !== \"constructor\";\n}\n// @__NO_SIDE_EFFECTS__\nfunction ci(e, t) {\n  const n = [...new Set(e)];\n  return n.length > 1 ? `(${n.join(` ${t} `)})` : n[0] ?? \"never\";\n}\nvar li = class extends Error {\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(e) {\n    super(e[0].message), this.name = \"ValiError\", this.issues = e;\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction gs(e, t) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: gs,\n    async: !1,\n    expects: null,\n    requirement: e,\n    message: t,\n    \"~run\"(n, r) {\n      return n.typed && !this.requirement(n.value) && q(this, \"input\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction vs(e) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: vs,\n    async: !1,\n    expects: null,\n    requirement: Number.isInteger,\n    message: e,\n    \"~run\"(t, n) {\n      return t.typed && !this.requirement(t.value) && q(this, \"integer\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction oe(e) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: oe,\n    async: !1,\n    operation: e,\n    \"~run\"(t) {\n      return t.value = this.operation(t.value), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ws(e, t, n) {\n  return typeof e.default == \"function\" ? (\n    // @ts-expect-error\n    e.default(t, n)\n  ) : (\n    // @ts-expect-error\n    e.default\n  );\n}\n// @__NO_SIDE_EFFECTS__\nfunction pi(e, t) {\n  return !e[\"~run\"]({ value: t }, { abortEarly: !0 }).issues;\n}\n// @__NO_SIDE_EFFECTS__\nfunction Be(e) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: Be,\n    expects: \"boolean\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"boolean\" ? t.typed = !0 : q(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Es(e) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: Es,\n    expects: \"Date\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      return t.value instanceof Date ? isNaN(t.value) ? q(this, \"type\", t, n, {\n        received: '\"Invalid Date\"'\n      }) : t.typed = !0 : q(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction $s(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: $s,\n    expects: e.name,\n    async: !1,\n    class: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(n, r) {\n      return n.value instanceof this.class ? n.typed = !0 : q(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction mn(e) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: mn,\n    expects: \"unknown\",\n    async: !1,\n    getter: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      return this.getter(t.value)[\"~run\"](t, n);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Se(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: Se,\n    expects: \"Object\",\n    async: !1,\n    entries: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(n, r) {\n      var s;\n      const o = n.value;\n      if (o && typeof o == \"object\") {\n        n.typed = !0, n.value = {};\n        for (const a in this.entries) {\n          const i = this.entries[a];\n          if (a in o || (i.type === \"exact_optional\" || i.type === \"optional\" || i.type === \"nullish\") && // @ts-expect-error\n          i.default !== void 0) {\n            const u = a in o ? (\n              // @ts-expect-error\n              o[a]\n            ) : /* @__PURE__ */ ws(i), c = i[\"~run\"]({ value: u }, r);\n            if (c.issues) {\n              const l = {\n                type: \"object\",\n                origin: \"value\",\n                input: o,\n                key: a,\n                value: u\n              };\n              for (const p of c.issues)\n                p.path ? p.path.unshift(l) : p.path = [l], (s = n.issues) == null || s.push(p);\n              if (n.issues || (n.issues = c.issues), r.abortEarly) {\n                n.typed = !1;\n                break;\n              }\n            }\n            c.typed || (n.typed = !1), n.value[a] = c.value;\n          } else if (i.type !== \"exact_optional\" && i.type !== \"optional\" && i.type !== \"nullish\" && (q(this, \"key\", n, r, {\n            input: void 0,\n            expected: `\"${a}\"`,\n            path: [\n              {\n                type: \"object\",\n                origin: \"key\",\n                input: o,\n                key: a,\n                // @ts-expect-error\n                value: o[a]\n              }\n            ]\n          }), r.abortEarly))\n            break;\n        }\n        if (!n.issues || !r.abortEarly)\n          for (const a in o)\n            /* @__PURE__ */ ys(o, a) && !(a in this.entries) && (n.value[a] = o[a]);\n      } else\n        q(this, \"type\", n, r);\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction st(e) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: st,\n    expects: \"number\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"number\" && !isNaN(t.value) ? t.typed = !0 : q(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction v(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: v,\n    expects: `(${e.expects} | undefined)`,\n    async: !1,\n    wrapped: e,\n    default: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(n, r) {\n      return n.value === void 0 && (this.default !== void 0 && (n.value = /* @__PURE__ */ ws(this, n, r)), n.value === void 0) ? (n.typed = !0, n) : this.wrapped[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ss(e, t, n) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: Ss,\n    expects: \"Object\",\n    async: !1,\n    key: e,\n    value: t,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(r, s) {\n      var o, a;\n      const i = r.value;\n      if (i && typeof i == \"object\") {\n        r.typed = !0, r.value = {};\n        for (const u in i)\n          if (/* @__PURE__ */ ys(i, u)) {\n            const c = i[u], l = this.key[\"~run\"]({ value: u }, s);\n            if (l.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"key\",\n                input: i,\n                key: u,\n                value: c\n              };\n              for (const f of l.issues)\n                f.path = [m], (o = r.issues) == null || o.push(f);\n              if (r.issues || (r.issues = l.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            const p = this.value[\"~run\"](\n              { value: c },\n              s\n            );\n            if (p.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"value\",\n                input: i,\n                key: u,\n                value: c\n              };\n              for (const f of p.issues)\n                f.path ? f.path.unshift(m) : f.path = [m], (a = r.issues) == null || a.push(f);\n              if (r.issues || (r.issues = p.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            (!l.typed || !p.typed) && (r.typed = !1), l.typed && (r.value[l.value] = p.value);\n          }\n      } else\n        q(this, \"type\", r, s);\n      return r;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction y(e) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: y,\n    expects: \"string\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"string\" ? t.typed = !0 : q(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ar(e) {\n  let t;\n  if (e)\n    for (const n of e)\n      t ? t.push(...n.issues) : t = n.issues;\n  return t;\n}\n// @__NO_SIDE_EFFECTS__\nfunction hn(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: hn,\n    expects: /* @__PURE__ */ ci(\n      e.map((n) => n.expects),\n      \"|\"\n    ),\n    async: !1,\n    options: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(n, r) {\n      let s, o, a;\n      for (const i of this.options) {\n        const u = i[\"~run\"]({ value: n.value }, r);\n        if (u.typed)\n          if (u.issues)\n            o ? o.push(u) : o = [u];\n          else {\n            s = u;\n            break;\n          }\n        else\n          a ? a.push(u) : a = [u];\n      }\n      if (s)\n        return s;\n      if (o) {\n        if (o.length === 1)\n          return o[0];\n        q(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ Ar(o)\n        }), n.typed = !0;\n      } else {\n        if ((a == null ? void 0 : a.length) === 1)\n          return a[0];\n        q(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ Ar(a)\n        });\n      }\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Cs() {\n  return {\n    kind: \"schema\",\n    type: \"unknown\",\n    reference: Cs,\n    expects: \"unknown\",\n    async: !1,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(e) {\n      return e.typed = !0, e;\n    }\n  };\n}\nfunction As(e, t, n) {\n  const r = e[\"~run\"]({ value: t }, /* @__PURE__ */ bs(n));\n  if (r.issues)\n    throw new li(r.issues);\n  return r.value;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ae(...e) {\n  return {\n    ...e[0],\n    pipe: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ F(this);\n    },\n    \"~run\"(t, n) {\n      for (const r of e)\n        if (r.kind !== \"metadata\") {\n          if (t.issues && (r.kind === \"schema\" || r.kind === \"transformation\")) {\n            t.typed = !1;\n            break;\n          }\n          (!t.issues || !n.abortEarly && !n.abortPipeEarly) && (t = r[\"~run\"](t, n));\n        }\n      return t;\n    }\n  };\n}\nfunction di(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction fi(e) {\n  return Object.entries(e).reduce((t, [n, r]) => (t[di(n)] = r, t), {});\n}\nfunction Qt(e) {\n  const t = fi(e);\n  for (const n in t) {\n    const r = t[n];\n    r && typeof r == \"object\" && !(r instanceof Date) && (t[n] = Array.isArray(r) ? r.map(Qt) : Qt(r));\n  }\n  return t;\n}\nfunction _n(e) {\n  return /* @__PURE__ */ oe((t) => e ? Qt(t) : t);\n}\nfunction ks(e) {\n  return (t) => /* @__PURE__ */ ae(\n    e,\n    _n(t)\n  );\n}\nfunction mi(e) {\n  return (t, n) => As(\n    /* @__PURE__ */ ae(e, _n(n)),\n    t\n  );\n}\nfunction bn() {\n  return /* @__PURE__ */ oe(JSON.parse);\n}\nfunction yn(e) {\n  const t = ks(e);\n  return (n) => /* @__PURE__ */ ae(\n    /* @__PURE__ */ y(),\n    bn(),\n    t(n)\n  );\n}\nfunction hi(e) {\n  return /* @__PURE__ */ oe((t) => {\n    const n = {};\n    return new URLSearchParams(t).forEach((r, s) => {\n      const o = n[s];\n      Array.isArray(o) ? o.push(r) : o === void 0 ? n[s] = r : n[s] = [o, r];\n    }), As(e, n);\n  });\n}\nfunction Ms(e) {\n  return (t) => /* @__PURE__ */ ae(\n    /* @__PURE__ */ hn([/* @__PURE__ */ y(), /* @__PURE__ */ $s(URLSearchParams)]),\n    hi(e),\n    _n(t)\n  );\n}\nconst kr = /* @__PURE__ */ v(/* @__PURE__ */ mn(() => vi())), _i = /* @__PURE__ */ Se({\n  id: /* @__PURE__ */ st(),\n  photo_url: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  type: /* @__PURE__ */ y(),\n  title: /* @__PURE__ */ y(),\n  username: /* @__PURE__ */ v(/* @__PURE__ */ y())\n}), bi = /* @__PURE__ */ Se({\n  added_to_attachment_menu: /* @__PURE__ */ v(/* @__PURE__ */ Be()),\n  allows_write_to_pm: /* @__PURE__ */ v(/* @__PURE__ */ Be()),\n  first_name: /* @__PURE__ */ y(),\n  id: /* @__PURE__ */ st(),\n  is_bot: /* @__PURE__ */ v(/* @__PURE__ */ Be()),\n  is_premium: /* @__PURE__ */ v(/* @__PURE__ */ Be()),\n  last_name: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  language_code: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  photo_url: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  username: /* @__PURE__ */ v(/* @__PURE__ */ y())\n}), yi = /* @__PURE__ */ Se({\n  auth_date: /* @__PURE__ */ ae(\n    /* @__PURE__ */ y(),\n    /* @__PURE__ */ oe((e) => new Date(Number(e) * 1e3)),\n    /* @__PURE__ */ Es()\n  ),\n  can_send_after: /* @__PURE__ */ v(/* @__PURE__ */ ae(/* @__PURE__ */ y(), /* @__PURE__ */ oe(Number), /* @__PURE__ */ vs())),\n  chat: /* @__PURE__ */ v(/* @__PURE__ */ mn(() => gi())),\n  chat_type: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  chat_instance: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  hash: /* @__PURE__ */ y(),\n  query_id: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  receiver: kr,\n  start_param: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  signature: /* @__PURE__ */ y(),\n  user: kr\n}), gi = yn(_i), vi = yn(bi), wi = Ms(yi);\nfunction Ei(e) {\n  return /^#[\\da-f]{6}$/i.test(e);\n}\nconst Ps = ks(\n  /* @__PURE__ */ Ss(\n    /* @__PURE__ */ y(),\n    /* @__PURE__ */ ae(\n      /* @__PURE__ */ hn([/* @__PURE__ */ y(), /* @__PURE__ */ st()]),\n      /* @__PURE__ */ oe((e) => typeof e == \"number\" ? `#${(e & 16777215).toString(16).padStart(6, \"0\")}` : e),\n      /* @__PURE__ */ gs(Ei)\n    )\n  )\n), Mt = /* @__PURE__ */ v(\n  /* @__PURE__ */ ae(/* @__PURE__ */ y(), /* @__PURE__ */ oe((e) => e === \"1\"))\n), Mr = yn(Ps()), $i = /* @__PURE__ */ Se({\n  tgWebAppBotInline: Mt,\n  tgWebAppData: /* @__PURE__ */ v(wi()),\n  tgWebAppDefaultColors: /* @__PURE__ */ v(Mr()),\n  tgWebAppFullscreen: Mt,\n  tgWebAppPlatform: /* @__PURE__ */ y(),\n  tgWebAppShowSettings: Mt,\n  tgWebAppStartParam: /* @__PURE__ */ v(/* @__PURE__ */ y()),\n  tgWebAppThemeParams: Mr(),\n  tgWebAppVersion: /* @__PURE__ */ y()\n}), xs = Ms($i), gn = mi(xs()), Ts = /* @__PURE__ */ Se({\n  eventType: /* @__PURE__ */ y(),\n  eventData: /* @__PURE__ */ v(/* @__PURE__ */ Cs())\n});\nfunction Bs(e, t) {\n  return t || (t = (n, r) => JSON.stringify(r)), new URLSearchParams(\n    Object.entries(e).reduce((n, [r, s]) => (Array.isArray(s) ? n.push(...s.map((o) => [r, String(o)])) : s != null && n.push([\n      r,\n      s instanceof Date ? (s.getTime() / 1e3 | 0).toString() : typeof s == \"string\" || typeof s == \"number\" ? String(s) : typeof s == \"boolean\" ? s ? \"1\" : \"0\" : t(r, s)\n    ]), n), [])\n  ).toString();\n}\nfunction Si(e) {\n  return Bs(e);\n}\nfunction Ci(e) {\n  return Bs(e, (t, n) => t === \"tgWebAppData\" ? Si(n) : JSON.stringify(n));\n}\nfunction Os(e) {\n  try {\n    return /* @__PURE__ */ pi(xs(), e);\n  } catch {\n    return !1;\n  }\n}\nfunction Ai(e) {\n  return { all: e = e || /* @__PURE__ */ new Map(), on: function(t, n) {\n    var r = e.get(t);\n    r ? r.push(n) : e.set(t, [n]);\n  }, off: function(t, n) {\n    var r = e.get(t);\n    r && (n ? r.splice(r.indexOf(n) >>> 0, 1) : e.set(t, []));\n  }, emit: function(t, n) {\n    var r = e.get(t);\n    r && r.slice().map(function(s) {\n      s(n);\n    }), (r = e.get(\"*\")) && r.slice().map(function(s) {\n      s(t, n);\n    });\n  } };\n}\nfunction ki(e, t) {\n  const n = Ai(), r = /* @__PURE__ */ new Map(), s = (o, a, i) => {\n    i || (i = !1);\n    const u = r.get(o) || /* @__PURE__ */ new Map();\n    r.set(o, u);\n    const c = u.get(a) || [];\n    u.set(a, c);\n    const l = c.findIndex((p) => p[1] === i);\n    l >= 0 && (n.off(o, c[l][0]), c.splice(l, 1), !c.length && u.delete(a), u.size || (r.delete(o), !r.size && t()));\n  };\n  return [\n    function(o, a, i) {\n      !r.size && e();\n      function u() {\n        s(o, a, i);\n      }\n      function c(...m) {\n        i && u(), o === \"*\" ? a(m) : a(...m);\n      }\n      n.on(o, c);\n      const l = r.get(o) || /* @__PURE__ */ new Map();\n      r.set(o, l);\n      const p = l.get(a) || [];\n      return l.set(a, p), p.push([c, i || !1]), u;\n    },\n    s,\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    n.emit,\n    function() {\n      const o = n.all.size;\n      n.all.clear(), r.clear(), o && t();\n    }\n  ];\n}\nfunction Pr(e, t) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: e, eventData: t }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nlet ze = !1;\nconst [vn, Mi] = /* @__PURE__ */ ai(\"Bridge\", {\n  bgColor: \"#9147ff\",\n  textColor: \"white\",\n  shouldLog() {\n    return ze;\n  }\n}), xr = (e) => {\n  vn(!1, \"Event received:\", e);\n};\nfunction Pi(e) {\n  e !== ze && (ze = e, ze ? S(\"*\", xr) : B(\"*\", xr));\n}\nconst xi = {\n  clipboard_text_received: /* @__PURE__ */ U({\n    req_id: /* @__PURE__ */ re(),\n    data: /* @__PURE__ */ Te(/* @__PURE__ */ re())\n  }),\n  custom_method_invoked: /* @__PURE__ */ U({\n    req_id: /* @__PURE__ */ re(),\n    result: /* @__PURE__ */ Ht(/* @__PURE__ */ cs()),\n    error: /* @__PURE__ */ Ht(/* @__PURE__ */ re())\n  }),\n  popup_closed: /* @__PURE__ */ Te(\n    /* @__PURE__ */ U({ button_id: /* @__PURE__ */ Te(/* @__PURE__ */ re(), () => {\n    }) }),\n    {}\n  ),\n  viewport_changed: /* @__PURE__ */ U({\n    height: /* @__PURE__ */ Rt(),\n    width: /* @__PURE__ */ Te(/* @__PURE__ */ Rt(), () => window.innerWidth),\n    is_state_stable: /* @__PURE__ */ Lt(),\n    is_expanded: /* @__PURE__ */ Lt()\n  }),\n  theme_changed: /* @__PURE__ */ U({\n    theme_params: Ps()\n  })\n};\nfunction Tr(e) {\n  if (e.source !== window.parent)\n    return;\n  let t;\n  try {\n    t = Ft(/* @__PURE__ */ ls(/* @__PURE__ */ re(), bn(), Ts), e.data);\n  } catch {\n    return;\n  }\n  const { eventType: n, eventData: r } = t, s = xi[n];\n  try {\n    const o = s ? Ft(s, r) : r;\n    Ti(n, o);\n  } catch (o) {\n    Mi(\n      !0,\n      [\n        `An error occurred processing the \"${n}\" event from the Telegram application.`,\n        \"Please, file an issue here:\",\n        \"https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose\"\n      ].join(`\n`),\n      t,\n      o\n    );\n  }\n}\nconst [\n  S,\n  B,\n  Ti,\n  Af\n] = ki(\n  () => {\n    const e = window, t = { receiveEvent: Pr };\n    e.TelegramGameProxy_receiveEvent = Pr, e.TelegramGameProxy = t, e.Telegram = { WebView: t }, window.addEventListener(\"message\", Tr);\n  },\n  () => {\n    [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((e) => {\n      delete window[e];\n    }), window.removeEventListener(\"message\", Tr);\n  }\n);\nvar Bi = Object.defineProperty, Oi = (e, t, n) => t in e ? Bi(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Ii = (e, t, n) => Oi(e, t + \"\", n);\nfunction Is(e) {\n  return (t) => t instanceof e;\n}\nfunction Ce(e, t) {\n  t || (t = []);\n  class n extends Error {\n    constructor(...s) {\n      const o = typeof t == \"function\" ? t(...s) : typeof t == \"string\" ? [t] : t || [];\n      super(...o), this.name = e;\n    }\n  }\n  return Object.defineProperty(n, \"name\", { value: e }), [n, Is(n)];\n}\nfunction ji(e, t, n) {\n  class r extends Ce(e, n)[0] {\n    constructor(...o) {\n      super(...o), Ii(this, \"data\"), this.data = t(...o);\n    }\n  }\n  return Object.defineProperty(r, \"name\", { value: e }), [r, Is(r)];\n}\nconst [\n  qi,\n  kf\n] = Ce(\n  \"MethodUnsupportedError\",\n  (e, t) => [\n    `Method \"${e}\" is unsupported in Mini Apps version ${t}`\n  ]\n), [\n  Di,\n  Mf\n] = Ce(\n  \"MethodParameterUnsupportedError\",\n  (e, t, n) => [\n    `Parameter \"${t}\" of \"${e}\" method is unsupported in Mini Apps version ${n}`\n  ]\n), [\n  Ni,\n  Pf\n] = ji(\n  \"LaunchParamsRetrieveError\",\n  (e) => ({ errors: e }),\n  (e) => [\n    [\n      \"Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\",\n      \"📖 Refer to docs for more information:\",\n      \"https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment\",\n      \"\",\n      \"Collected errors:\",\n      ...e.map(([t, n]) => `Source: ${t} / ${n instanceof Error ? n.message : String(n)}`)\n    ].join(`\n`)\n  ]\n), [\n  Vi,\n  xf\n] = Ce(\n  \"InvalidLaunchParamsError\",\n  (e, t) => [\n    `Invalid value for launch params: ${e}`,\n    { cause: t }\n  ]\n), [Li, Tf] = Ce(\"UnknownEnvError\"), [\n  Ri,\n  Bf\n] = Ce(\n  \"InvokeCustomMethodError\",\n  (e) => [`Server returned error: ${e}`]\n);\nfunction Hi(e, t) {\n  t();\n}\n// @__NO_SIDE_EFFECTS__\nfunction js(e, t) {\n  t || (t = {});\n  const n = t.equals || Object.is;\n  let r = [], s = e;\n  const o = (c) => {\n    if (!n(s, c)) {\n      const l = s;\n      s = c, Hi(u, () => {\n        [...r].forEach(([p, m]) => {\n          p(c, l), m && i(p, !0);\n        });\n      });\n    }\n  };\n  function a(c) {\n    const l = typeof c != \"object\" ? { once: c } : c;\n    return {\n      once: l.once || !1,\n      signal: l.signal || !1\n    };\n  }\n  const i = (c, l) => {\n    const p = a(l), m = r.findIndex(([f, k]) => f === c && k.once === p.once && k.signal === p.signal);\n    m >= 0 && r.splice(m, 1);\n  }, u = Object.assign(\n    function() {\n      return Fi(u), s;\n    },\n    {\n      destroy() {\n        r = [];\n      },\n      set: o,\n      reset() {\n        o(e);\n      },\n      sub(c, l) {\n        return r.push([c, a(l)]), () => i(c, l);\n      },\n      unsub: i,\n      unsubAll() {\n        r = r.filter((c) => c[1].signal);\n      }\n    }\n  );\n  return u;\n}\nconst Pt = [];\nfunction Fi(e) {\n  Pt.length && Pt[Pt.length - 1].add(e);\n}\nconst Ge = /* @__PURE__ */ js((...e) => window.parent.postMessage(...e)), Wi = (...e) => Ge()(...e), Ui = /* @__PURE__ */ js(\"https://web.telegram.org\");\nfunction wn(e, t) {\n  vn(!1, \"Posting event:\", t ? { eventType: e, eventData: t } : { eventType: e });\n  const n = window, r = JSON.stringify({ eventType: e, eventData: t });\n  if (ds())\n    return Wi(r, Ui());\n  if (ps(n)) {\n    n.TelegramWebviewProxy.postEvent(e, JSON.stringify(t));\n    return;\n  }\n  if (/* @__PURE__ */ rt(/* @__PURE__ */ U({ external: /* @__PURE__ */ U({ notify: /* @__PURE__ */ dn() }) }), n)) {\n    n.external.notify(r);\n    return;\n  }\n  throw new Li();\n}\nfunction En(e, t, n) {\n  n || (n = {});\n  const { capture: r } = n, [s, o] = oi();\n  return new fn((a) => {\n    (Array.isArray(t) ? t : [t]).forEach((i) => {\n      s(\n        S(i, (u) => {\n          (!r || (Array.isArray(t) ? r({\n            event: i,\n            payload: u\n          }) : r(u))) && a(u);\n        })\n      );\n    }), (n.postEvent || wn)(e, n.params);\n  }, n).finally(o);\n}\nconst Br = \"launchParams\";\nfunction Or(e) {\n  return e.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\");\n}\nfunction qs() {\n  const e = [];\n  for (const [t, n] of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed, and then the page was reloaded.\n    [() => Or(window.location.href), \"window.location.href\"],\n    // Then, try using the lower level API - window.performance.\n    [() => {\n      const r = performance.getEntriesByType(\"navigation\")[0];\n      return r && Or(r.name);\n    }, \"performance navigation entries\"],\n    [() => si(Br), \"local storage\"]\n  ]) {\n    const r = t();\n    if (!r) {\n      e.push([n, new Error(\"Source is empty\")]);\n      continue;\n    }\n    if (Os(r))\n      return _s(Br, r), r;\n    try {\n      gn(r);\n    } catch (s) {\n      e.push([n, s]);\n    }\n  }\n  throw new Ni(e);\n}\nfunction $n(e) {\n  const t = gn(qs());\n  return e ? Gt(t) : t;\n}\nfunction Ir(e, t) {\n  if (!e)\n    try {\n      return $n(), !0;\n    } catch {\n      return !1;\n    }\n  return fn.fn(async (n) => {\n    if (ps(window))\n      return !0;\n    try {\n      return await En(\"web_app_request_theme\", \"theme_changed\", n), !0;\n    } catch {\n      return !1;\n    }\n  }, t || { timeout: 100 });\n}\nfunction Of({ launchParams: e, onEvent: t, resetPostMessage: n } = {}) {\n  if (e) {\n    const o = typeof e == \"string\" || e instanceof URLSearchParams ? e.toString() : (\n      // Here we have to trick serializeLaunchParamsQuery into thinking, it serializes a valid\n      // value. We are doing it because we are working with tgWebAppData presented as a\n      // string, not an object as serializeLaunchParamsQuery requires.\n      Ci({ ...e, tgWebAppData: void 0 }) + (e.tgWebAppData ? `&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}` : \"\")\n    );\n    if (!Os(o))\n      try {\n        gn(o);\n      } catch (a) {\n        throw new Vi(o, a);\n      }\n    _s(\"launchParams\", o);\n  }\n  if (ds()) {\n    if (!t)\n      return;\n    const o = /* @__PURE__ */ ls(\n      /* @__PURE__ */ re(),\n      bn(),\n      Ts\n    );\n    n && Ge.reset();\n    const a = Ge();\n    Ge.set((...i) => {\n      const [u] = i, c = () => {\n        a(...i);\n      };\n      if (/* @__PURE__ */ rt(o, u)) {\n        const l = Ft(o, u);\n        t([l.eventType, l.eventData], c);\n      } else\n        c();\n    });\n    return;\n  }\n  const r = window.TelegramWebviewProxy || {}, s = r.postEvent || (() => {\n  });\n  window.TelegramWebviewProxy = {\n    ...r,\n    postEvent(o, a) {\n      const i = () => {\n        s(o, a);\n      };\n      t ? t([o, a ? JSON.parse(a) : void 0], i) : i();\n    }\n  }, vn(!1, \"Environment was mocked by the mockTelegramEnv function\");\n}\nfunction zi() {\n  return new URLSearchParams(qs()).get(\"tgWebAppData\") || void 0;\n}\nfunction Ds(e) {\n  return ({ req_id: t }) => t === e;\n}\nfunction jr(e) {\n  return e.split(\".\").map(Number);\n}\nfunction Gi(e, t) {\n  const n = jr(e), r = jr(t), s = Math.max(n.length, r.length);\n  for (let o = 0; o < s; o += 1) {\n    const a = n[o] || 0, i = r[o] || 0;\n    if (a !== i)\n      return a > i ? 1 : -1;\n  }\n  return 0;\n}\nfunction P(e, t) {\n  return Gi(e, t) <= 0;\n}\nfunction fe(e, t, n) {\n  if (typeof n == \"string\") {\n    if (e === \"web_app_open_link\") {\n      if (t === \"try_instant_view\")\n        return P(\"6.4\", n);\n      if (t === \"try_browser\")\n        return P(\"7.6\", n);\n    }\n    if (e === \"web_app_set_header_color\" && t === \"color\")\n      return P(\"6.9\", n);\n    if (e === \"web_app_close\" && t === \"return_back\")\n      return P(\"7.6\", n);\n    if (e === \"web_app_setup_main_button\" && t === \"has_shine_effect\")\n      return P(\"7.10\", n);\n  }\n  switch (e) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return P(\"6.1\", t);\n    case \"web_app_open_popup\":\n      return P(\"6.2\", t);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return P(\"6.4\", t);\n    case \"web_app_switch_inline_query\":\n      return P(\"6.7\", t);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return P(\"6.9\", t);\n    case \"web_app_setup_settings_button\":\n      return P(\"6.10\", t);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return P(\"7.2\", t);\n    case \"web_app_setup_swipe_behavior\":\n      return P(\"7.7\", t);\n    case \"web_app_share_to_story\":\n      return P(\"7.8\", t);\n    case \"web_app_setup_secondary_button\":\n    case \"web_app_set_bottom_bar_color\":\n      return P(\"7.10\", t);\n    case \"web_app_request_safe_area\":\n    case \"web_app_request_content_safe_area\":\n    case \"web_app_request_fullscreen\":\n    case \"web_app_exit_fullscreen\":\n    case \"web_app_set_emoji_status\":\n    case \"web_app_add_to_home_screen\":\n    case \"web_app_check_home_screen\":\n    case \"web_app_request_emoji_status_access\":\n    case \"web_app_check_location\":\n    case \"web_app_open_location_settings\":\n    case \"web_app_request_file_download\":\n    case \"web_app_request_location\":\n    case \"web_app_send_prepared_message\":\n    case \"web_app_start_accelerometer\":\n    case \"web_app_start_device_orientation\":\n    case \"web_app_start_gyroscope\":\n    case \"web_app_stop_accelerometer\":\n    case \"web_app_stop_device_orientation\":\n    case \"web_app_stop_gyroscope\":\n    case \"web_app_toggle_orientation_lock\":\n      return P(\"8.0\", t);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(e);\n  }\n}\nfunction Qi(e, t) {\n  t || (t = \"strict\");\n  const n = typeof t == \"function\" ? t : (r) => {\n    const { method: s, version: o } = r, a = \"param\" in r ? new Di(s, r.param, o) : new qi(s, o);\n    if (t === \"strict\")\n      throw a;\n    return console.warn(a.message);\n  };\n  return (r, s) => fe(r, e) ? r === \"web_app_set_header_color\" && /* @__PURE__ */ rt(/* @__PURE__ */ U({ color: /* @__PURE__ */ us() }), s) && !fe(r, \"color\", e) ? n({ version: e, method: r, param: \"color\" }) : wn(r, s) : n({ version: e, method: r });\n}\nfunction Ji(e, t, n, r) {\n  return En(\"web_app_invoke_custom_method\", \"custom_method_invoked\", {\n    ...r || {},\n    params: { method: e, params: t, req_id: n },\n    capture: Ds(n)\n  }).then(({ result: s, error: o }) => {\n    if (o)\n      throw new Ri(o);\n    return s;\n  });\n}\nfunction Ns(e) {\n  return e.replace(/[A-Z]/g, (t) => `-${t.toLowerCase()}`);\n}\nfunction Ki(e) {\n  return e.replace(/_([a-z])/g, (t, n) => `-${n.toLowerCase()}`);\n}\nfunction Vs(e) {\n  return `tapps/${e}`;\n}\nfunction z(e, t) {\n  sessionStorage.setItem(Vs(e), JSON.stringify(t));\n}\nfunction N(e) {\n  const t = sessionStorage.getItem(Vs(e));\n  try {\n    return t ? JSON.parse(t) : void 0;\n  } catch {\n  }\n}\nfunction Sn(...e) {\n  const t = e.flat(1);\n  return [\n    t.push.bind(t),\n    () => {\n      t.forEach((n) => {\n        n();\n      });\n    }\n  ];\n}\n// @__NO_SIDE_EFFECTS__\nfunction Yi(e, t) {\n  t || (t = {});\n  const {\n    textColor: n,\n    bgColor: r,\n    shouldLog: s\n  } = t, o = s === void 0 ? !0 : s, a = typeof o == \"boolean\" ? () => o : o;\n  function i(u, c, ...l) {\n    if (c || a()) {\n      const p = \"font-weight:bold;padding:0 5px;border-radius:5px\";\n      console[u](\n        `%c${Intl.DateTimeFormat(\"en-GB\", {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n          second: \"2-digit\",\n          fractionalSecondDigits: 3,\n          timeZone: \"UTC\"\n        }).format(/* @__PURE__ */ new Date())}%c / %c${e}`,\n        `${p};background-color: lightblue;color:black`,\n        \"\",\n        `${p};${n ? `color:${n};` : \"\"}${r ? `background-color:${r}` : \"\"}`,\n        ...l\n      );\n    }\n  }\n  return [i.bind(void 0, \"log\"), i.bind(void 0, \"error\")];\n}\nfunction Zi() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction V() {\n  const e = Zi();\n  return !!e && e.type === \"reload\";\n}\nlet ve;\nfunction Xi(e, t) {\n  ve && ve.set(e, t) || t();\n}\nfunction Ne(e) {\n  if (ve)\n    return e();\n  ve = /* @__PURE__ */ new Map();\n  try {\n    e();\n  } finally {\n    ve.forEach((t) => t()), ve = void 0;\n  }\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ls(e, t) {\n  t || (t = {});\n  const n = t.equals || Object.is;\n  let r = [], s = e;\n  const o = (c) => {\n    if (!n(s, c)) {\n      const l = s;\n      s = c, Xi(u, () => {\n        [...r].forEach(([p, m]) => {\n          p(c, l), m && i(p, !0);\n        });\n      });\n    }\n  };\n  function a(c) {\n    const l = typeof c != \"object\" ? { once: c } : c;\n    return {\n      once: l.once || !1,\n      signal: l.signal || !1\n    };\n  }\n  const i = (c, l) => {\n    const p = a(l), m = r.findIndex(([f, k]) => f === c && k.once === p.once && k.signal === p.signal);\n    m >= 0 && r.splice(m, 1);\n  }, u = Object.assign(\n    function() {\n      return eu(u), s;\n    },\n    {\n      destroy() {\n        r = [];\n      },\n      set: o,\n      reset() {\n        o(e);\n      },\n      sub(c, l) {\n        return r.push([c, a(l)]), () => i(c, l);\n      },\n      unsub: i,\n      unsubAll() {\n        r = r.filter((c) => c[1].signal);\n      }\n    }\n  );\n  return u;\n}\nconst Ie = [];\nfunction eu(e) {\n  Ie.length && Ie[Ie.length - 1].add(e);\n}\n// @__NO_SIDE_EFFECTS__\nfunction tu(e, t) {\n  let n = /* @__PURE__ */ new Set(), r;\n  function s() {\n    return r || (r = /* @__PURE__ */ Ls(a(), t));\n  }\n  function o() {\n    s().set(a());\n  }\n  function a() {\n    n.forEach((c) => {\n      c.unsub(o, { signal: !0 });\n    });\n    const i = /* @__PURE__ */ new Set();\n    let u;\n    Ie.push(i);\n    try {\n      u = e();\n    } finally {\n      Ie.pop();\n    }\n    return i.forEach((c) => {\n      c.sub(o, { signal: !0 });\n    }), n = i, u;\n  }\n  return Object.assign(function() {\n    return s()();\n  }, {\n    destroy() {\n      s().destroy();\n    },\n    sub(...i) {\n      return s().sub(...i);\n    },\n    unsub(...i) {\n      s().unsub(...i);\n    },\n    unsubAll(...i) {\n      s().unsubAll(...i);\n    }\n  });\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ae(e, t) {\n  return /* @__PURE__ */ Ls(e, t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction h(e, t) {\n  return /* @__PURE__ */ tu(e, t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction b(e, t) {\n  const n = /* @__PURE__ */ Ae(e, t);\n  return [n, /* @__PURE__ */ h(n)];\n}\nlet Rs = !1;\nconst [Jt, If] = /* @__PURE__ */ Yi(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\",\n  shouldLog() {\n    return Rs;\n  }\n});\nfunction jf(e) {\n  Rs = e, Pi(e);\n}\nconst xt = /* @__PURE__ */ Ae(0), Hs = /* @__PURE__ */ Ae(wn), [qr, Re] = /* @__PURE__ */ b({\n  tgWebAppPlatform: \"unknown\",\n  tgWebAppVersion: \"0.0\"\n}), se = /* @__PURE__ */ h(() => Re().tgWebAppVersion);\nfunction nu(e) {\n  e || (e = {});\n  const { postEvent: t } = e, n = e.launchParams || $n();\n  qr.set(n), Hs.set(\n    typeof t == \"function\" ? t : Qi(n.tgWebAppVersion)\n  ), Jt(!1, \"The package was configured. Launch params:\", qr());\n}\nfunction Fs() {\n  return xt.set(xt() + 1), xt().toString();\n}\nfunction ke(e, t, n) {\n  return Ji(e, t, Fs(), {\n    ...n || {},\n    postEvent: _\n  });\n}\nconst C = (e, t, n) => (n || (n = {}), n.postEvent || (n.postEvent = _), En(e, t, n)), _ = (e, t) => Hs()(e, t);\nfunction G(e) {\n  return /* @__PURE__ */ h(() => fe(e, se()));\n}\nfunction ru(e) {\n  return (t) => t instanceof e;\n}\nfunction Y(e, t) {\n  t || (t = []);\n  class n extends Error {\n    constructor(...s) {\n      const o = typeof t == \"function\" ? t(...s) : typeof t == \"string\" ? [t] : t || [];\n      super(...o), this.name = e;\n    }\n  }\n  return Object.defineProperty(n, \"name\", { value: e }), [n, ru(n)];\n}\nfunction he(e) {\n  return [e];\n}\nconst [\n  Cn,\n  qf\n] = Y(\"CSSVarsBoundError\", \"CSS variables are already bound\"), [\n  Ws,\n  Df\n] = Y(\"NotAvailableError\", he), [\n  Nf,\n  Vf\n] = Y(\"InvalidEnvError\", he), [\n  xe,\n  Lf\n] = Y(\"FunctionNotAvailableError\", he), [\n  J,\n  Rf\n] = Y(\n  \"InvalidArgumentsError\",\n  (e, t) => [e, { cause: t }]\n), [\n  su,\n  Hf\n] = Y(\"ConcurrentCallError\", he), [\n  ou,\n  Ff\n] = Y(\n  \"SetEmojiStatusError\",\n  (e) => [`Failed to set emoji status: ${e}`]\n), [\n  Us,\n  Wf\n] = Y(\"AccessDeniedError\", he), [\n  au,\n  Uf\n] = Y(\"FullscreenFailedError\", he), [\n  iu,\n  zf\n] = Y(\"ShareMessageError\", he);\nfunction Dr() {\n  return typeof window > \"u\";\n}\n// @__NO_SIDE_EFFECTS__\nfunction A(e, t, n) {\n  n || (n = {});\n  const {\n    isSupported: r,\n    isMounted: s,\n    isMounting: o,\n    component: a,\n    supports: i\n  } = n || {}, u = `${a ? `${a}.` : \"\"}${e}()`, c = r ? Array.isArray(r) || typeof r == \"object\" && \"any\" in r ? r : [r] : void 0;\n  function l(E) {\n    if (i) {\n      const $ = i[E];\n      return fe($[0], $[1], se());\n    }\n    return !0;\n  }\n  function p() {\n    if (!c)\n      return;\n    function E(R) {\n      return typeof R == \"function\" ? R() : fe(R, se()) ? void 0 : `it is unsupported in Mini Apps version ${se()}`;\n    }\n    const $ = Array.isArray(c) ? c : c.any, I = $.map(E).filter(Boolean);\n    return Array.isArray(c) ? I[0] : I.length === $.length ? I[I.length - 1] : void 0;\n  }\n  function m(...E) {\n    for (const $ in i)\n      if (i[$][2](...E) && !l($))\n        return `option ${$} is not supported in Mini Apps version ${se()}`;\n  }\n  let f;\n  if (i) {\n    f = {};\n    for (const E in i)\n      f[E] = /* @__PURE__ */ h(() => l(E));\n  }\n  const k = /* @__PURE__ */ h(() => !p()), ge = /* @__PURE__ */ h(() => se() !== \"0.0\"), M = /* @__PURE__ */ h(() => !s || s()), ne = /* @__PURE__ */ h(\n    () => Ir() && !Dr() && ge() && k() && M()\n  );\n  return Object.assign(\n    (...E) => {\n      const $ = `Unable to call the ${u} ${a ? \"method\" : \"function\"}:`;\n      if (Dr() || !Ir())\n        throw new xe(`${$} it can't be called outside Mini Apps`);\n      if (!ge())\n        throw new xe(`${$} the SDK was not initialized. Use the SDK init() function`);\n      const I = p();\n      if (I)\n        throw new xe(`${$} ${I}`);\n      const R = m(...E);\n      if (R)\n        throw new xe(`${$} ${R}`);\n      if (!M()) {\n        const d = o && o() ? \"mounting. Wait for the mount completion\" : `unmounted. Use the ${a}.mount() method`;\n        throw new xe(`${$} the component is ${d}`);\n      }\n      return t(...E);\n    },\n    t,\n    {\n      isAvailable: ne,\n      ifAvailable(...E) {\n        return ne() ? [!0, t(...E)] : [!1];\n      }\n    },\n    c ? { isSupported: k } : {},\n    f ? { supports: f } : {}\n  );\n}\nfunction ot(e, t) {\n  return t || (t = {}), (n, r, s, o) => /* @__PURE__ */ A(n, r, {\n    ...t,\n    isSupported: s || t.isSupported,\n    supports: o,\n    component: e\n  });\n}\nfunction ce(e, t, n) {\n  return ot(e, { isSupported: n, isMounted: t });\n}\nfunction L(e, t) {\n  return ot(e, { isSupported: t });\n}\nconst at = \"web_app_setup_back_button\", zs = \"back_button_pressed\", it = \"backButton\", [Nr, uu] = /* @__PURE__ */ b(!1), [Ke, cu] = /* @__PURE__ */ b(!1), lu = G(at), Gs = ce(it, Ke, at), An = L(it, at), pu = Gs(\"hide\", () => {\n  kn(!1);\n}), du = An(\"mount\", () => {\n  Ke() || (kn(V() && N(it) || !1), Ke.set(!0));\n});\nfunction kn(e) {\n  e !== Nr() && (_(at, { is_visible: e }), z(it, e), Nr.set(e));\n}\nconst fu = An(\n  \"onClick\",\n  (e) => S(zs, e)\n), mu = An(\n  \"offClick\",\n  (e) => {\n    B(zs, e);\n  }\n), hu = Gs(\"show\", () => {\n  kn(!0);\n});\nfunction _u() {\n  Ke.set(!1);\n}\nconst Gf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  hide: pu,\n  isMounted: cu,\n  isSupported: lu,\n  isVisible: uu,\n  mount: du,\n  offClick: mu,\n  onClick: fu,\n  show: hu,\n  unmount: _u\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar bu = Object.defineProperty, yu = (e, t, n) => t in e ? bu(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Kt = (e, t, n) => yu(e, typeof t != \"symbol\" ? t + \"\" : t, n);\nfunction gu(e) {\n  return (t) => t instanceof e;\n}\nfunction Qs(e, t) {\n  t || (t = []);\n  class n extends Error {\n    constructor(...s) {\n      const o = typeof t == \"function\" ? t(...s) : typeof t == \"string\" ? [t] : t || [];\n      super(...o), this.name = e;\n    }\n  }\n  return Object.defineProperty(n, \"name\", { value: e }), [n, gu(n)];\n}\nconst [vu, wu] = Qs(\"CancelledError\", \"Promise was canceled\"), [Eu, Qf] = Qs(\n  \"TimeoutError\",\n  (e, t) => [`Timeout reached: ${e}ms`, { cause: t }]\n), Js = Symbol(\"Resolved\");\nfunction Vr(e) {\n  return Array.isArray(e) && e[0] === Js;\n}\nfunction $u(e) {\n  return [Js, e];\n}\nfunction Lr(e, t) {\n  return e.reject = t.reject, e.abort = t.abort, e;\n}\nlet x = class Yt extends Promise {\n  constructor(t, n) {\n    let r, s;\n    super((o, a) => {\n      let i, u;\n      typeof t == \"function\" ? (i = t, u = n) : u = t;\n      const c = [], l = (d) => (...j) => {\n        const ee = d(...j);\n        return c.forEach((kt) => kt()), ee;\n      }, p = new AbortController(), { signal: m } = p;\n      s = (d) => {\n        !m.aborted && p.abort(d);\n      };\n      const f = () => m.reason, k = (d) => {\n        const j = () => {\n          d(f());\n        };\n        m.addEventListener(\"abort\", j, !0);\n        const ee = () => {\n          m.removeEventListener(\"abort\", j, !0);\n        };\n        return c.push(ee), ee;\n      }, ge = l((d) => {\n        o(d), s($u(d));\n      });\n      r = l((d) => {\n        a(d), s(d);\n      }), u || (u = {});\n      const { abortSignal: M, rejectOnAbort: ne = !0 } = u;\n      if (M)\n        if (M.aborted) {\n          const { reason: d } = M;\n          if (ne)\n            return r(d);\n          s(d);\n        } else {\n          const d = () => {\n            s(M.reason);\n          };\n          M.addEventListener(\"abort\", d), c.push(() => {\n            M.removeEventListener(\"abort\", d);\n          });\n        }\n      ne && k(a);\n      const { timeout: E } = u;\n      if (E) {\n        const d = setTimeout(() => {\n          s(new Eu(E));\n        }, E);\n        c.push(() => {\n          clearTimeout(d);\n        });\n      }\n      const $ = () => m.aborted, I = () => Vr(f()), R = () => {\n        const d = f();\n        return Vr(d) ? d[1] : void 0;\n      };\n      try {\n        const d = i && i(ge, r, {\n          abortReason: f,\n          abortSignal: m,\n          isAborted: $,\n          isResolved: I,\n          onAborted: k,\n          onResolved: (j) => k(() => {\n            I() && j(R());\n          }),\n          resolved: R,\n          throwIfAborted() {\n            if ($())\n              throw f();\n          }\n        });\n        d instanceof Promise && d.catch(r);\n      } catch (d) {\n        r(d);\n      }\n    }), Kt(this, \"abort\"), Kt(this, \"reject\"), this.abort = s, this.reject = r;\n  }\n  /**\n   * Creates a new AbortablePromise instance using an executor, resolving the promise when a result\n   * was returned.\n   * @param fn - function returning promise result.\n   * @param options - additional options.\n   */\n  static fn(t, n) {\n    return new Yt(async (r, s, o) => {\n      try {\n        r(await t(o));\n      } catch (a) {\n        s(a);\n      }\n    }, n);\n  }\n  static resolve(t) {\n    return this.fn(() => t);\n  }\n  /**\n   * @see Promise.reject\n   */\n  static reject(t) {\n    return new Yt((n, r) => {\n      r(t);\n    });\n  }\n  /**\n   * Aborts the promise with the cancel error.\n   */\n  cancel() {\n    this.abort(new vu());\n  }\n  /**\n   * @see Promise.catch\n   */\n  catch(t) {\n    return this.then(void 0, t);\n  }\n  /**\n   * @see Promise.finally\n   */\n  finally(t) {\n    return Lr(super.finally(t), this);\n  }\n  /**\n   * @see Promise.then\n   */\n  then(t, n) {\n    return Lr(super.then(t, n), this);\n  }\n};\nfunction Rr(e, t) {\n  return e.resolve = t.resolve, e;\n}\nlet Su = class Zt extends x {\n  constructor(t, n) {\n    let r, s;\n    typeof t == \"function\" ? (r = t, s = n) : s = t;\n    let o;\n    super((a, i, u) => {\n      o = a, r && r(a, i, u);\n    }, s), Kt(this, \"resolve\"), this.resolve = o;\n  }\n  /**\n   * Creates a new ManualPromise instance using an executor, resolving the promise when a result\n   * was returned.\n   * @param fn - function returning promise result.\n   * @param options - additional options.\n   */\n  static fn(t, n) {\n    return new Zt((r, s, o) => {\n      try {\n        Promise.resolve(t(o)).then(r, s);\n      } catch (a) {\n        s(a);\n      }\n    }, n);\n  }\n  static resolve(t) {\n    return this.fn(() => t);\n  }\n  /**\n   * @see Promise.reject\n   */\n  static reject(t) {\n    return new Zt((n, r) => {\n      r(t);\n    });\n  }\n  /**\n   * @see Promise.catch\n   */\n  catch(t) {\n    return this.then(void 0, t);\n  }\n  /**\n   * @see Promise.finally\n   */\n  finally(t) {\n    return Rr(super.finally(t), this);\n  }\n  /**\n   * @see Promise.then\n   */\n  then(t, n) {\n    return Rr(super.then(t, n), this);\n  }\n};\nfunction O(e, t, n) {\n  n || (n = {});\n  const {\n    promise: r,\n    error: s\n  } = n, [o, a] = r ? [r, /* @__PURE__ */ h(r)] : /* @__PURE__ */ b(), [i, u] = s ? [s, /* @__PURE__ */ h(s)] : /* @__PURE__ */ b();\n  return [\n    Object.assign((...c) => {\n      if (o()) {\n        const p = new su(t);\n        return i.set(p), x.reject(p);\n      }\n      Ne(() => {\n        o.set(e(...c)), i.set(void 0);\n      });\n      let l;\n      return o().catch((p) => {\n        throw l = p, p;\n      }).finally(() => {\n        Ne(() => {\n          o.set(void 0), i.set(l);\n        });\n      });\n    }, e),\n    [o, a, /* @__PURE__ */ h(() => !!o())],\n    [i, u]\n  ];\n}\n// @__NO_SIDE_EFFECTS__\nfunction He(e, t, n) {\n  const [r, ...s] = O(t, `The ${e} component is already mounting`), [o, a] = /* @__PURE__ */ b(!1);\n  return [\n    (...i) => o() ? x.resolve() : r(...i).then((u) => {\n      Ne(() => {\n        o.set(!0), n(u);\n      });\n    }),\n    ...s,\n    [o, a]\n  ];\n}\nconst [Mn, Cu] = /* @__PURE__ */ b({\n  available: !1,\n  type: \"\",\n  accessGranted: !1,\n  accessRequested: !1,\n  deviceId: \"\",\n  tokenSaved: !1\n}), Au = /* @__PURE__ */ h(() => Mn().available), Hr = \"web_app_biometry_get_info\", ku = /* @__PURE__ */ A(\n  \"requestBiometry\",\n  (e) => C(Hr, \"biometry_info_received\", e),\n  { isSupported: Hr }\n);\nfunction Ks(e) {\n  if (!wu(e))\n    throw e;\n}\nfunction Me(e) {\n  const t = e();\n  t && t.catch(Ks).cancel();\n}\nconst Ve = \"biometry\", ut = \"web_app_biometry_request_auth\", Pn = \"biometry_info_received\", Ys = (e) => {\n  ct(xn(e));\n};\nfunction Zs() {\n  throw new Ws(\"Biometry is not available\");\n}\nfunction xn(e) {\n  let t = !1, n = !1, r = \"\", s = !1, o = \"\", a = !1;\n  return e.available && (t = !0, n = e.token_saved, r = e.device_id, s = e.access_requested, o = e.type, a = e.access_granted), { available: t, tokenSaved: n, deviceId: r, type: o, accessGranted: a, accessRequested: s };\n}\nconst Mu = G(ut), [\n  Pu,\n  xu,\n  Tu,\n  Xs\n] = /* @__PURE__ */ He(\n  Ve,\n  (e) => {\n    const t = V() && N(Ve);\n    return t ? x.resolve(t) : ku({ abortSignal: e }).then(xn);\n  },\n  (e) => {\n    S(Pn, Ys), ct(e);\n  }\n), eo = L(Ve, ut), Tn = ce(Ve, Xs[0], ut), Bu = eo(\"mount\", Pu), [, to, Ou] = xu, [, Iu] = Tu, [ju, qu] = Xs, [\n  Du,\n  Nu,\n  Vu\n] = O(\n  (e) => x.fn(async (t) => {\n    const n = Mn();\n    n.available || Zs();\n    const r = await C(ut, \"biometry_auth_requested\", {\n      ...e,\n      ...t,\n      params: { reason: ((e || {}).reason || \"\").trim() }\n    }), { token: s } = r;\n    return typeof s == \"string\" && ct({ ...n, token: s }), r;\n  }, e),\n  \"Biometry authentication is already in progress\"\n), Lu = Tn(\"authenticate\", Du), [, no, Ru] = Nu, [, Hu] = Vu, Fu = eo(\"openSettings\", () => {\n  _(\"web_app_biometry_open_settings\");\n}), [\n  Wu,\n  Uu,\n  zu\n] = O(\n  (e) => x.fn(async (t) => {\n    const n = await C(\"web_app_biometry_request_access\", Pn, {\n      ...e,\n      ...t,\n      params: { reason: (e || {}).reason || \"\" }\n    }).then(xn);\n    return n.available || Zs(), ct(n), n.accessGranted;\n  }, e),\n  \"Biometry access request is already in progress\"\n), Gu = Tn(\"requestAccess\", Wu), [, ro, Qu] = Uu, [, Ju] = zu;\nfunction ct(e) {\n  Mn.set(e), z(Ve, e);\n}\nfunction Ku() {\n  [no, ro, to].forEach(Me), B(Pn, Ys), ju.set(!1);\n}\nconst Yu = Tn(\n  \"updateToken\",\n  (e) => (e || (e = {}), C(\"web_app_biometry_update_token\", \"biometry_token_updated\", {\n    ...e,\n    params: {\n      token: e.token || \"\",\n      reason: e.reason\n    }\n  }).then((t) => t.status))\n), Jf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  authError: Hu,\n  authPromise: no,\n  authenticate: Lu,\n  isAuthenticating: Ru,\n  isAvailable: Au,\n  isMounted: qu,\n  isMounting: Ou,\n  isRequestingAccess: Qu,\n  isSupported: Mu,\n  mount: Bu,\n  mountError: Iu,\n  mountPromise: to,\n  openSettings: Fu,\n  requestAccess: Gu,\n  requestAccessError: Ju,\n  requestAccessPromise: ro,\n  state: Cu,\n  unmount: Ku,\n  updateToken: Yu\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction lt(e, t) {\n  return ot(e, { isMounted: t });\n}\nconst le = ot, pt = \"closingBehavior\", [Fr, Zu] = /* @__PURE__ */ b(!1), [Xt, so] = /* @__PURE__ */ b(!1), oo = lt(pt, so), Xu = le(pt), ec = oo(\"disableConfirmation\", () => {\n  Bn(!1);\n}), tc = oo(\"enableConfirmation\", () => {\n  Bn(!0);\n}), nc = Xu(\"mount\", () => {\n  Xt() || (Bn(\n    V() && N(pt) || !1\n  ), Xt.set(!0));\n});\nfunction Bn(e) {\n  e !== Fr() && (_(\"web_app_setup_closing_behavior\", { need_confirmation: e }), z(pt, e), Fr.set(e));\n}\nfunction rc() {\n  Xt.set(!1);\n}\nconst Kf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  disableConfirmation: ec,\n  enableConfirmation: tc,\n  isConfirmationEnabled: Zu,\n  isMounted: so,\n  mount: nc,\n  unmount: rc\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar te;\n// @__NO_SIDE_EFFECTS__\nfunction ao(e) {\n  return {\n    lang: (e == null ? void 0 : e.lang) ?? (te == null ? void 0 : te.lang),\n    message: e == null ? void 0 : e.message,\n    abortEarly: (e == null ? void 0 : e.abortEarly) ?? (te == null ? void 0 : te.abortEarly),\n    abortPipeEarly: (e == null ? void 0 : e.abortPipeEarly) ?? (te == null ? void 0 : te.abortPipeEarly)\n  };\n}\nvar Tt;\n// @__NO_SIDE_EFFECTS__\nfunction sc(e) {\n  return Tt == null ? void 0 : Tt.get(e);\n}\nvar Bt;\n// @__NO_SIDE_EFFECTS__\nfunction oc(e) {\n  return Bt == null ? void 0 : Bt.get(e);\n}\nvar Ot;\n// @__NO_SIDE_EFFECTS__\nfunction ac(e, t) {\n  var n;\n  return (n = Ot == null ? void 0 : Ot.get(e)) == null ? void 0 : n.get(t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction ic(e) {\n  var n, r;\n  const t = typeof e;\n  return t === \"string\" ? `\"${e}\"` : t === \"number\" || t === \"bigint\" || t === \"boolean\" ? `${e}` : t === \"object\" || t === \"function\" ? (e && ((r = (n = Object.getPrototypeOf(e)) == null ? void 0 : n.constructor) == null ? void 0 : r.name)) ?? \"null\" : t;\n}\nfunction H(e, t, n, r, s) {\n  const o = s && \"input\" in s ? s.input : n.value, a = (s == null ? void 0 : s.expected) ?? e.expects ?? null, i = (s == null ? void 0 : s.received) ?? /* @__PURE__ */ ic(o), u = {\n    kind: e.kind,\n    type: e.type,\n    input: o,\n    expected: a,\n    received: i,\n    message: `Invalid ${t}: ${a ? `Expected ${a} but r` : \"R\"}eceived ${i}`,\n    requirement: e.requirement,\n    path: s == null ? void 0 : s.path,\n    issues: s == null ? void 0 : s.issues,\n    lang: r.lang,\n    abortEarly: r.abortEarly,\n    abortPipeEarly: r.abortPipeEarly\n  }, c = e.kind === \"schema\", l = (s == null ? void 0 : s.message) ?? e.message ?? /* @__PURE__ */ ac(e.reference, u.lang) ?? (c ? /* @__PURE__ */ oc(u.lang) : null) ?? r.message ?? /* @__PURE__ */ sc(u.lang);\n  l && (u.message = typeof l == \"function\" ? (\n    // @ts-expect-error\n    l(u)\n  ) : l), c && (n.typed = !1), n.issues ? n.issues.push(u) : n.issues = [u];\n}\n// @__NO_SIDE_EFFECTS__\nfunction Z(e) {\n  return {\n    version: 1,\n    vendor: \"valibot\",\n    validate(t) {\n      return e[\"~run\"]({ value: t }, /* @__PURE__ */ ao());\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction io(e, t) {\n  return Object.hasOwn(e, t) && t !== \"__proto__\" && t !== \"prototype\" && t !== \"constructor\";\n}\n// @__NO_SIDE_EFFECTS__\nfunction uc(e, t) {\n  const n = [...new Set(e)];\n  return n.length > 1 ? `(${n.join(` ${t} `)})` : n[0] ?? \"never\";\n}\nvar en = class extends Error {\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(e) {\n    super(e[0].message), this.name = \"ValiError\", this.issues = e;\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction uo(e) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: uo,\n    async: !1,\n    expects: null,\n    requirement: Number.isInteger,\n    message: e,\n    \"~run\"(t, n) {\n      return t.typed && !this.requirement(t.value) && H(this, \"integer\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction On(e) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: On,\n    async: !1,\n    operation: e,\n    \"~run\"(t) {\n      return t.value = this.operation(t.value), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction co(e, t, n) {\n  return typeof e.default == \"function\" ? (\n    // @ts-expect-error\n    e.default(t, n)\n  ) : (\n    // @ts-expect-error\n    e.default\n  );\n}\n// @__NO_SIDE_EFFECTS__\nfunction lo(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"array\",\n    reference: lo,\n    expects: \"Array\",\n    async: !1,\n    item: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(n, r) {\n      var o;\n      const s = n.value;\n      if (Array.isArray(s)) {\n        n.typed = !0, n.value = [];\n        for (let a = 0; a < s.length; a++) {\n          const i = s[a], u = this.item[\"~run\"]({ value: i }, r);\n          if (u.issues) {\n            const c = {\n              type: \"array\",\n              origin: \"value\",\n              input: s,\n              key: a,\n              value: i\n            };\n            for (const l of u.issues)\n              l.path ? l.path.unshift(c) : l.path = [c], (o = n.issues) == null || o.push(l);\n            if (n.issues || (n.issues = u.issues), r.abortEarly) {\n              n.typed = !1;\n              break;\n            }\n          }\n          u.typed || (n.typed = !1), n.value.push(u.value);\n        }\n      } else\n        H(this, \"type\", n, r);\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction In(e) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: In,\n    expects: \"Date\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(t, n) {\n      return t.value instanceof Date ? isNaN(t.value) ? H(this, \"type\", t, n, {\n        received: '\"Invalid Date\"'\n      }) : t.typed = !0 : H(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction po(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: po,\n    expects: e.name,\n    async: !1,\n    class: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(n, r) {\n      return n.value instanceof this.class ? n.typed = !0 : H(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction tn(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: tn,\n    expects: \"Object\",\n    async: !1,\n    entries: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(n, r) {\n      var o;\n      const s = n.value;\n      if (s && typeof s == \"object\") {\n        n.typed = !0, n.value = {};\n        for (const a in this.entries) {\n          const i = this.entries[a];\n          if (a in s || (i.type === \"exact_optional\" || i.type === \"optional\" || i.type === \"nullish\") && // @ts-expect-error\n          i.default !== void 0) {\n            const u = a in s ? (\n              // @ts-expect-error\n              s[a]\n            ) : /* @__PURE__ */ co(i), c = i[\"~run\"]({ value: u }, r);\n            if (c.issues) {\n              const l = {\n                type: \"object\",\n                origin: \"value\",\n                input: s,\n                key: a,\n                value: u\n              };\n              for (const p of c.issues)\n                p.path ? p.path.unshift(l) : p.path = [l], (o = n.issues) == null || o.push(p);\n              if (n.issues || (n.issues = c.issues), r.abortEarly) {\n                n.typed = !1;\n                break;\n              }\n            }\n            c.typed || (n.typed = !1), n.value[a] = c.value;\n          } else if (i.type !== \"exact_optional\" && i.type !== \"optional\" && i.type !== \"nullish\" && (H(this, \"key\", n, r, {\n            input: void 0,\n            expected: `\"${a}\"`,\n            path: [\n              {\n                type: \"object\",\n                origin: \"key\",\n                input: s,\n                key: a,\n                // @ts-expect-error\n                value: s[a]\n              }\n            ]\n          }), r.abortEarly))\n            break;\n        }\n        if (!n.issues || !r.abortEarly)\n          for (const a in s)\n            /* @__PURE__ */ io(s, a) && !(a in this.entries) && (n.value[a] = s[a]);\n      } else\n        H(this, \"type\", n, r);\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction jn(e) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: jn,\n    expects: \"number\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"number\" && !isNaN(t.value) ? t.typed = !0 : H(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction fo(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: fo,\n    expects: `(${e.expects} | undefined)`,\n    async: !1,\n    wrapped: e,\n    default: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(n, r) {\n      return n.value === void 0 && (this.default !== void 0 && (n.value = /* @__PURE__ */ co(this, n, r)), n.value === void 0) ? (n.typed = !0, n) : this.wrapped[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction mo(e, t, n) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: mo,\n    expects: \"Object\",\n    async: !1,\n    key: e,\n    value: t,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(r, s) {\n      var a, i;\n      const o = r.value;\n      if (o && typeof o == \"object\") {\n        r.typed = !0, r.value = {};\n        for (const u in o)\n          if (/* @__PURE__ */ io(o, u)) {\n            const c = o[u], l = this.key[\"~run\"]({ value: u }, s);\n            if (l.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"key\",\n                input: o,\n                key: u,\n                value: c\n              };\n              for (const f of l.issues)\n                f.path = [m], (a = r.issues) == null || a.push(f);\n              if (r.issues || (r.issues = l.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            const p = this.value[\"~run\"](\n              { value: c },\n              s\n            );\n            if (p.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"value\",\n                input: o,\n                key: u,\n                value: c\n              };\n              for (const f of p.issues)\n                f.path ? f.path.unshift(m) : f.path = [m], (i = r.issues) == null || i.push(f);\n              if (r.issues || (r.issues = p.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            (!l.typed || !p.typed) && (r.typed = !1), l.typed && (r.value[l.value] = p.value);\n          }\n      } else\n        H(this, \"type\", r, s);\n      return r;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction W(e) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: W,\n    expects: \"string\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"string\" ? t.typed = !0 : H(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Wr(e) {\n  let t;\n  if (e)\n    for (const n of e)\n      t ? t.push(...n.issues) : t = n.issues;\n  return t;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ho(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: ho,\n    expects: /* @__PURE__ */ uc(\n      e.map((n) => n.expects),\n      \"|\"\n    ),\n    async: !1,\n    options: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(n, r) {\n      let s, o, a;\n      for (const i of this.options) {\n        const u = i[\"~run\"]({ value: n.value }, r);\n        if (u.typed)\n          if (u.issues)\n            o ? o.push(u) : o = [u];\n          else {\n            s = u;\n            break;\n          }\n        else\n          a ? a.push(u) : a = [u];\n      }\n      if (s)\n        return s;\n      if (o) {\n        if (o.length === 1)\n          return o[0];\n        H(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ Wr(o)\n        }), n.typed = !0;\n      } else {\n        if ((a == null ? void 0 : a.length) === 1)\n          return a[0];\n        H(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ Wr(a)\n        });\n      }\n      return n;\n    }\n  };\n}\nfunction dt(e, t, n) {\n  const r = e[\"~run\"]({ value: t }, /* @__PURE__ */ ao(n));\n  if (r.issues)\n    throw new en(r.issues);\n  return r.value;\n}\n// @__NO_SIDE_EFFECTS__\nfunction Qe(...e) {\n  return {\n    ...e[0],\n    pipe: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Z(this);\n    },\n    \"~run\"(t, n) {\n      for (const r of e)\n        if (r.kind !== \"metadata\") {\n          if (t.issues && (r.kind === \"schema\" || r.kind === \"transformation\")) {\n            t.typed = !1;\n            break;\n          }\n          (!t.issues || !n.abortEarly && !n.abortPipeEarly) && (t = r[\"~run\"](t, n));\n        }\n      return t;\n    }\n  };\n}\nconst _o = \"web_app_invoke_custom_method\", Fe = L(\"cloudStorage\", _o), cc = G(_o), bo = Fe(\"deleteItem\", (e, t) => {\n  const n = Array.isArray(e) ? e : [e];\n  return n.length ? ke(\"deleteStorageValues\", { keys: n }, t).then() : x.resolve();\n});\nfunction lc(e, t) {\n  const n = Array.isArray(e) ? e : [e];\n  return n.length ? ke(\"getStorageValues\", { keys: n }, t).then((r) => {\n    const s = {\n      // Fulfill the response with probably missing keys.\n      ...n.reduce((o, a) => (o[a] = \"\", o), {}),\n      ...dt(/* @__PURE__ */ mo(/* @__PURE__ */ W(), /* @__PURE__ */ W()), r)\n    };\n    return typeof e == \"string\" ? s[e] : s;\n  }) : x.resolve(Array.isArray(e) ? {} : \"\");\n}\nconst pc = Fe(\"getItem\", lc), yo = Fe(\"getKeys\", (e) => ke(\"getStorageKeys\", {}, e).then(\n  (t) => dt(/* @__PURE__ */ lo(/* @__PURE__ */ W()), t)\n)), dc = Fe(\"setItem\", (e, t, n) => ke(\"saveStorageValue\", {\n  key: e,\n  value: t\n}, n).then()), fc = Fe(\"clear\", (e) => yo(e).then(bo)), Yf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  clear: fc,\n  deleteItem: bo,\n  getItem: pc,\n  getKeys: yo,\n  isSupported: cc,\n  setItem: dc\n}, Symbol.toStringTag, { value: \"Module\" })), We = \"web_app_trigger_haptic_feedback\", qn = L(\"hapticFeedback\", We), mc = G(We), hc = qn(\n  \"impactOccurred\",\n  (e) => {\n    _(We, {\n      type: \"impact\",\n      impact_style: e\n    });\n  }\n), _c = qn(\n  \"notificationOccurred\",\n  (e) => {\n    _(We, {\n      type: \"notification\",\n      notification_type: e\n    });\n  }\n), bc = qn(\n  \"selectionChanged\",\n  () => {\n    _(We, { type: \"selection_change\" });\n  }\n), Zf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  impactOccurred: hc,\n  isSupported: mc,\n  notificationOccurred: _c,\n  selectionChanged: bc\n}, Symbol.toStringTag, { value: \"Module\" })), [go, yc] = /* @__PURE__ */ b(void 0);\nfunction X(e) {\n  return /* @__PURE__ */ h(() => {\n    const t = go();\n    return t ? t[e] : void 0;\n  });\n}\nconst vo = X(\"auth_date\"), wo = X(\"can_send_after\"), gc = /* @__PURE__ */ h(() => {\n  const e = vo(), t = wo();\n  return t && e ? new Date(e.getTime() + t * 1e3) : void 0;\n}), vc = X(\"chat\"), wc = X(\"chat_type\"), Ec = X(\"chat_instance\"), $c = X(\"hash\"), Sc = X(\"query_id\"), [Cc, Ac] = /* @__PURE__ */ b(), kc = X(\"receiver\");\nfunction Mc() {\n  const e = $n();\n  go.set(e.tgWebAppData), Cc.set(zi());\n}\nconst Pc = X(\"start_param\"), xc = X(\"user\"), Xf = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  authDate: vo,\n  canSendAfter: wo,\n  canSendAfterDate: gc,\n  chat: vc,\n  chatInstance: Ec,\n  chatType: wc,\n  hash: $c,\n  queryId: Sc,\n  raw: Ac,\n  receiver: kc,\n  restore: Mc,\n  startParam: Pc,\n  state: yc,\n  user: xc\n}, Symbol.toStringTag, { value: \"Module\" })), Dn = \"web_app_open_invoice\", Tc = L(\"invoice\", Dn), Bc = G(Dn);\nfunction Oc(e, t, n) {\n  let r;\n  if (t === \"url\") {\n    const { hostname: s, pathname: o } = new URL(e, window.location.href);\n    if (s !== \"t.me\")\n      throw new J(`Link has unexpected hostname: ${s}`);\n    const a = o.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n    if (!a)\n      throw new J(\n        'Expected to receive a link with a pathname in format \"/invoice/{slug}\" or \"/${slug}\"'\n      );\n    [, , r] = a;\n  } else\n    r = e, n = t;\n  return C(Dn, \"invoice_closed\", {\n    ...n,\n    params: { slug: r },\n    capture: (s) => r === s.slug\n  }).then((s) => s.status);\n}\nconst [\n  Ic,\n  jc,\n  qc\n] = O(Oc, \"Invoice is already opened\"), Dc = Tc(\"open\", Ic), [, Nc, Vc] = jc, [, Lc] = qc, em = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  isOpened: Vc,\n  isSupported: Bc,\n  open: Dc,\n  openError: Lc,\n  openPromise: Nc\n}, Symbol.toStringTag, { value: \"Module\" })), je = \"locationManager\", Nn = \"web_app_check_location\", Ur = \"web_app_open_location_settings\", Ye = /* @__PURE__ */ Ae({\n  available: !1,\n  accessGranted: !1,\n  accessRequested: !1\n});\nfunction Vn(e) {\n  return /* @__PURE__ */ h(() => Ye()[e]);\n}\nconst Rc = G(Nn), Hc = Vn(\"available\"), Fc = Vn(\"accessGranted\"), Wc = Vn(\"accessRequested\");\nfunction Uc(e) {\n  let t = !1, n, r;\n  return e.available && (t = !0, n = e.access_requested, r = e.access_granted), {\n    available: t,\n    accessGranted: r || !1,\n    accessRequested: n || !1\n  };\n}\nconst [\n  zc,\n  Gc,\n  Qc,\n  Eo\n] = /* @__PURE__ */ He(\n  je,\n  (e) => {\n    const t = V() && N(je);\n    return t ? x.resolve(t) : C(\"web_app_check_location\", \"location_checked\", e).then(Uc);\n  },\n  (e) => {\n    Ye.set(e), z(je, e);\n  }\n), $o = L(je, Nn), Jc = ce(je, Eo[0], Nn), Kc = $o(\"mount\", zc), [, Yc, Zc] = Gc, [, Xc] = Qc, [el, tl] = Eo, [\n  nl,\n  rl,\n  sl\n] = O(\n  (e) => C(\"web_app_request_location\", \"location_requested\", e).then((t) => {\n    if (!t.available)\n      throw Ye.set({ ...Ye(), available: !1 }), new Ws(\"Location data tracking is not available\");\n    const { available: n, ...r } = t;\n    return r;\n  }),\n  \"Location request is currently in progress\"\n), ol = Jc(\"requestLocation\", nl), [, So, al] = rl, [, il] = sl, ul = $o(\"openSettings\", () => {\n  _(Ur);\n}, Ur);\nfunction cl() {\n  Me(So), el.set(!1);\n}\nconst tm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  isAccessGranted: Fc,\n  isAccessRequested: Wc,\n  isAvailable: Hc,\n  isMounted: tl,\n  isMounting: Zc,\n  isRequestingLocation: al,\n  isSupported: Rc,\n  mount: Kc,\n  mountError: Xc,\n  mountPromise: Yc,\n  openSettings: ul,\n  requestLocation: ol,\n  requestLocationError: il,\n  requestLocationPromise: So,\n  unmount: cl\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction Ln(e) {\n  const t = {};\n  for (const n in e) {\n    const r = e[n];\n    r !== void 0 && (t[n] = r);\n  }\n  return t;\n}\n// @__NO_SIDE_EFFECTS__\nfunction Co(e) {\n  return {\n    lang: (e == null ? void 0 : e.lang) ?? void 0,\n    message: e == null ? void 0 : e.message,\n    abortEarly: (e == null ? void 0 : e.abortEarly) ?? void 0,\n    abortPipeEarly: (e == null ? void 0 : e.abortPipeEarly) ?? void 0\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ll(e, t) {\n  var n;\n  return (n = void 0) == null ? void 0 : n.get(t);\n}\n// @__NO_SIDE_EFFECTS__\nfunction pl(e) {\n  var t, n;\n  const r = typeof e;\n  return r === \"string\" ? `\"${e}\"` : r === \"number\" || r === \"bigint\" || r === \"boolean\" ? `${e}` : r === \"object\" || r === \"function\" ? (e && ((n = (t = Object.getPrototypeOf(e)) == null ? void 0 : t.constructor) == null ? void 0 : n.name)) ?? \"null\" : r;\n}\nfunction D(e, t, n, r, s) {\n  const o = s && \"input\" in s ? s.input : n.value, a = (s == null ? void 0 : s.expected) ?? e.expects ?? null, i = (s == null ? void 0 : s.received) ?? /* @__PURE__ */ pl(o), u = {\n    kind: e.kind,\n    type: e.type,\n    input: o,\n    expected: a,\n    received: i,\n    message: `Invalid ${t}: ${a ? `Expected ${a} but r` : \"R\"}eceived ${i}`,\n    requirement: e.requirement,\n    path: s == null ? void 0 : s.path,\n    issues: s == null ? void 0 : s.issues,\n    lang: r.lang,\n    abortEarly: r.abortEarly,\n    abortPipeEarly: r.abortPipeEarly\n  }, c = e.kind === \"schema\", l = (s == null ? void 0 : s.message) ?? e.message ?? /* @__PURE__ */ ll(e.reference, u.lang) ?? (c ? (u.lang, void 0) : null) ?? r.message ?? (u.lang, void 0);\n  l && (u.message = typeof l == \"function\" ? (\n    // @ts-expect-error\n    l(u)\n  ) : l), c && (n.typed = !1), n.issues ? n.issues.push(u) : n.issues = [u];\n}\n// @__NO_SIDE_EFFECTS__\nfunction Q(e) {\n  return {\n    version: 1,\n    vendor: \"valibot\",\n    validate(t) {\n      return e[\"~run\"]({ value: t }, /* @__PURE__ */ Co());\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ao(e, t) {\n  return Object.hasOwn(e, t) && t !== \"__proto__\" && t !== \"prototype\" && t !== \"constructor\";\n}\n// @__NO_SIDE_EFFECTS__\nfunction dl(e, t) {\n  const n = [...new Set(e)];\n  return n.length > 1 ? `(${n.join(` ${t} `)})` : n[0] ?? \"never\";\n}\nvar fl = class extends Error {\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(e) {\n    super(e[0].message), this.name = \"ValiError\", this.issues = e;\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction ko(e, t) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: ko,\n    async: !1,\n    expects: null,\n    requirement: e,\n    message: t,\n    \"~run\"(n, r) {\n      return n.typed && !this.requirement(n.value) && D(this, \"input\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Mo(e) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: Mo,\n    async: !1,\n    expects: null,\n    requirement: Number.isInteger,\n    message: e,\n    \"~run\"(t, n) {\n      return t.typed && !this.requirement(t.value) && D(this, \"integer\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ie(e) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: ie,\n    async: !1,\n    operation: e,\n    \"~run\"(t) {\n      return t.value = this.operation(t.value), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Po(e, t, n) {\n  return typeof e.default == \"function\" ? (\n    // @ts-expect-error\n    e.default(t, n)\n  ) : (\n    // @ts-expect-error\n    e.default\n  );\n}\n// @__NO_SIDE_EFFECTS__\nfunction Oe(e) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: Oe,\n    expects: \"boolean\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"boolean\" ? t.typed = !0 : D(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction xo(e) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: xo,\n    expects: \"Date\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      return t.value instanceof Date ? isNaN(t.value) ? D(this, \"type\", t, n, {\n        received: '\"Invalid Date\"'\n      }) : t.typed = !0 : D(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction To(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: To,\n    expects: e.name,\n    async: !1,\n    class: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(n, r) {\n      return n.value instanceof this.class ? n.typed = !0 : D(this, \"type\", n, r), n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Rn(e) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: Rn,\n    expects: \"unknown\",\n    async: !1,\n    getter: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      return this.getter(t.value)[\"~run\"](t, n);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Ue(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: Ue,\n    expects: \"Object\",\n    async: !1,\n    entries: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(n, r) {\n      var s;\n      const o = n.value;\n      if (o && typeof o == \"object\") {\n        n.typed = !0, n.value = {};\n        for (const a in this.entries) {\n          const i = this.entries[a];\n          if (a in o || (i.type === \"exact_optional\" || i.type === \"optional\" || i.type === \"nullish\") && // @ts-expect-error\n          i.default !== void 0) {\n            const u = a in o ? (\n              // @ts-expect-error\n              o[a]\n            ) : /* @__PURE__ */ Po(i), c = i[\"~run\"]({ value: u }, r);\n            if (c.issues) {\n              const l = {\n                type: \"object\",\n                origin: \"value\",\n                input: o,\n                key: a,\n                value: u\n              };\n              for (const p of c.issues)\n                p.path ? p.path.unshift(l) : p.path = [l], (s = n.issues) == null || s.push(p);\n              if (n.issues || (n.issues = c.issues), r.abortEarly) {\n                n.typed = !1;\n                break;\n              }\n            }\n            c.typed || (n.typed = !1), n.value[a] = c.value;\n          } else if (i.type !== \"exact_optional\" && i.type !== \"optional\" && i.type !== \"nullish\" && (D(this, \"key\", n, r, {\n            input: void 0,\n            expected: `\"${a}\"`,\n            path: [\n              {\n                type: \"object\",\n                origin: \"key\",\n                input: o,\n                key: a,\n                // @ts-expect-error\n                value: o[a]\n              }\n            ]\n          }), r.abortEarly))\n            break;\n        }\n        if (!n.issues || !r.abortEarly)\n          for (const a in o)\n            /* @__PURE__ */ Ao(o, a) && !(a in this.entries) && (n.value[a] = o[a]);\n      } else\n        D(this, \"type\", n, r);\n      return n;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction ft(e) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: ft,\n    expects: \"number\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"number\" && !isNaN(t.value) ? t.typed = !0 : D(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction w(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: w,\n    expects: `(${e.expects} | undefined)`,\n    async: !1,\n    wrapped: e,\n    default: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(n, r) {\n      return n.value === void 0 && (this.default !== void 0 && (n.value = /* @__PURE__ */ Po(this, n, r)), n.value === void 0) ? (n.typed = !0, n) : this.wrapped[\"~run\"](n, r);\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction Bo(e, t, n) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: Bo,\n    expects: \"Object\",\n    async: !1,\n    key: e,\n    value: t,\n    message: n,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(r, s) {\n      var o, a;\n      const i = r.value;\n      if (i && typeof i == \"object\") {\n        r.typed = !0, r.value = {};\n        for (const u in i)\n          if (/* @__PURE__ */ Ao(i, u)) {\n            const c = i[u], l = this.key[\"~run\"]({ value: u }, s);\n            if (l.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"key\",\n                input: i,\n                key: u,\n                value: c\n              };\n              for (const f of l.issues)\n                f.path = [m], (o = r.issues) == null || o.push(f);\n              if (r.issues || (r.issues = l.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            const p = this.value[\"~run\"](\n              { value: c },\n              s\n            );\n            if (p.issues) {\n              const m = {\n                type: \"object\",\n                origin: \"value\",\n                input: i,\n                key: u,\n                value: c\n              };\n              for (const f of p.issues)\n                f.path ? f.path.unshift(m) : f.path = [m], (a = r.issues) == null || a.push(f);\n              if (r.issues || (r.issues = p.issues), s.abortEarly) {\n                r.typed = !1;\n                break;\n              }\n            }\n            (!l.typed || !p.typed) && (r.typed = !1), l.typed && (r.value[l.value] = p.value);\n          }\n      } else\n        D(this, \"type\", r, s);\n      return r;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction g(e) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: g,\n    expects: \"string\",\n    async: !1,\n    message: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      return typeof t.value == \"string\" ? t.typed = !0 : D(this, \"type\", t, n), t;\n    }\n  };\n}\n// @__NO_SIDE_EFFECTS__\nfunction zr(e) {\n  let t;\n  if (e)\n    for (const n of e)\n      t ? t.push(...n.issues) : t = n.issues;\n  return t;\n}\n// @__NO_SIDE_EFFECTS__\nfunction Hn(e, t) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: Hn,\n    expects: /* @__PURE__ */ dl(\n      e.map((n) => n.expects),\n      \"|\"\n    ),\n    async: !1,\n    options: e,\n    message: t,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(n, r) {\n      let s, o, a;\n      for (const i of this.options) {\n        const u = i[\"~run\"]({ value: n.value }, r);\n        if (u.typed)\n          if (u.issues)\n            o ? o.push(u) : o = [u];\n          else {\n            s = u;\n            break;\n          }\n        else\n          a ? a.push(u) : a = [u];\n      }\n      if (s)\n        return s;\n      if (o) {\n        if (o.length === 1)\n          return o[0];\n        D(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ zr(o)\n        }), n.typed = !0;\n      } else {\n        if ((a == null ? void 0 : a.length) === 1)\n          return a[0];\n        D(this, \"type\", n, r, {\n          issues: /* @__PURE__ */ zr(a)\n        });\n      }\n      return n;\n    }\n  };\n}\nfunction Oo(e, t, n) {\n  const r = e[\"~run\"]({ value: t }, /* @__PURE__ */ Co(n));\n  if (r.issues)\n    throw new fl(r.issues);\n  return r.value;\n}\n// @__NO_SIDE_EFFECTS__\nfunction ue(...e) {\n  return {\n    ...e[0],\n    pipe: e,\n    get \"~standard\"() {\n      return /* @__PURE__ */ Q(this);\n    },\n    \"~run\"(t, n) {\n      for (const r of e)\n        if (r.kind !== \"metadata\") {\n          if (t.issues && (r.kind === \"schema\" || r.kind === \"transformation\")) {\n            t.typed = !1;\n            break;\n          }\n          (!t.issues || !n.abortEarly && !n.abortPipeEarly) && (t = r[\"~run\"](t, n));\n        }\n      return t;\n    }\n  };\n}\nfunction ml(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction hl(e) {\n  return Object.entries(e).reduce((t, [n, r]) => (t[ml(n)] = r, t), {});\n}\nfunction nn(e) {\n  const t = hl(e);\n  for (const n in t) {\n    const r = t[n];\n    r && typeof r == \"object\" && !(r instanceof Date) && (t[n] = Array.isArray(r) ? r.map(nn) : nn(r));\n  }\n  return t;\n}\nfunction Fn(e) {\n  return /* @__PURE__ */ ie((t) => e ? nn(t) : t);\n}\nfunction Io(e) {\n  return (t) => /* @__PURE__ */ ue(\n    e,\n    Fn(t)\n  );\n}\nfunction jo(e) {\n  return (t, n) => Oo(\n    /* @__PURE__ */ ue(e, Fn(n)),\n    t\n  );\n}\nfunction qo() {\n  return /* @__PURE__ */ ie(JSON.parse);\n}\nfunction Wn(e) {\n  const t = Io(e);\n  return (n) => /* @__PURE__ */ ue(\n    /* @__PURE__ */ g(),\n    qo(),\n    t(n)\n  );\n}\nfunction Do(e) {\n  return /* @__PURE__ */ ie((t) => {\n    const n = {};\n    return new URLSearchParams(t).forEach((r, s) => {\n      const o = n[s];\n      Array.isArray(o) ? o.push(r) : o === void 0 ? n[s] = r : n[s] = [o, r];\n    }), Oo(e, n);\n  });\n}\nfunction No(e) {\n  return (t) => /* @__PURE__ */ ue(\n    /* @__PURE__ */ Hn([/* @__PURE__ */ g(), /* @__PURE__ */ To(URLSearchParams)]),\n    Do(e),\n    Fn(t)\n  );\n}\nconst Gr = /* @__PURE__ */ w(/* @__PURE__ */ Rn(() => vl())), _l = /* @__PURE__ */ Ue({\n  id: /* @__PURE__ */ ft(),\n  photo_url: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  type: /* @__PURE__ */ g(),\n  title: /* @__PURE__ */ g(),\n  username: /* @__PURE__ */ w(/* @__PURE__ */ g())\n}), bl = /* @__PURE__ */ Ue({\n  added_to_attachment_menu: /* @__PURE__ */ w(/* @__PURE__ */ Oe()),\n  allows_write_to_pm: /* @__PURE__ */ w(/* @__PURE__ */ Oe()),\n  first_name: /* @__PURE__ */ g(),\n  id: /* @__PURE__ */ ft(),\n  is_bot: /* @__PURE__ */ w(/* @__PURE__ */ Oe()),\n  is_premium: /* @__PURE__ */ w(/* @__PURE__ */ Oe()),\n  last_name: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  language_code: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  photo_url: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  username: /* @__PURE__ */ w(/* @__PURE__ */ g())\n}), yl = /* @__PURE__ */ Ue({\n  auth_date: /* @__PURE__ */ ue(\n    /* @__PURE__ */ g(),\n    /* @__PURE__ */ ie((e) => new Date(Number(e) * 1e3)),\n    /* @__PURE__ */ xo()\n  ),\n  can_send_after: /* @__PURE__ */ w(/* @__PURE__ */ ue(/* @__PURE__ */ g(), /* @__PURE__ */ ie(Number), /* @__PURE__ */ Mo())),\n  chat: /* @__PURE__ */ w(/* @__PURE__ */ Rn(() => gl())),\n  chat_type: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  chat_instance: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  hash: /* @__PURE__ */ g(),\n  query_id: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  receiver: Gr,\n  start_param: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  signature: /* @__PURE__ */ g(),\n  user: Gr\n}), gl = Wn(_l), vl = Wn(bl), Vo = No(yl);\nfunction Ee(e) {\n  return /^#[\\da-f]{6}$/i.test(e);\n}\nfunction wl(e) {\n  return /^#[\\da-f]{3}$/i.test(e);\n}\nfunction El(e) {\n  const t = e.replace(/\\s/g, \"\").toLowerCase();\n  if (Ee(t))\n    return t;\n  if (wl(t)) {\n    let r = \"#\";\n    for (let s = 0; s < 3; s += 1)\n      r += t[1 + s].repeat(2);\n    return r;\n  }\n  const n = t.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || t.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!n)\n    throw new Error(`Value \"${e}\" does not satisfy any of known RGB formats.`);\n  return n.slice(1).reduce((r, s) => r + parseInt(s, 10).toString(16).padStart(2, \"0\"), \"#\");\n}\nconst $l = Io(\n  /* @__PURE__ */ Bo(\n    /* @__PURE__ */ g(),\n    /* @__PURE__ */ ue(\n      /* @__PURE__ */ Hn([/* @__PURE__ */ g(), /* @__PURE__ */ ft()]),\n      /* @__PURE__ */ ie((e) => typeof e == \"number\" ? `#${(e & 16777215).toString(16).padStart(6, \"0\")}` : e),\n      /* @__PURE__ */ ko(Ee)\n    )\n  )\n), It = /* @__PURE__ */ w(\n  /* @__PURE__ */ ue(/* @__PURE__ */ g(), /* @__PURE__ */ ie((e) => e === \"1\"))\n), Qr = Wn($l()), Sl = /* @__PURE__ */ Ue({\n  tgWebAppBotInline: It,\n  tgWebAppData: /* @__PURE__ */ w(Vo()),\n  tgWebAppDefaultColors: /* @__PURE__ */ w(Qr()),\n  tgWebAppFullscreen: It,\n  tgWebAppPlatform: /* @__PURE__ */ g(),\n  tgWebAppShowSettings: It,\n  tgWebAppStartParam: /* @__PURE__ */ w(/* @__PURE__ */ g()),\n  tgWebAppThemeParams: Qr(),\n  tgWebAppVersion: /* @__PURE__ */ g()\n}), Cl = No(Sl), nm = jo(Vo()), rm = jo(Cl());\nfunction Lo(e, t) {\n  return t || (t = (n, r) => JSON.stringify(r)), new URLSearchParams(\n    Object.entries(e).reduce((n, [r, s]) => (Array.isArray(s) ? n.push(...s.map((o) => [r, String(o)])) : s != null && n.push([\n      r,\n      s instanceof Date ? (s.getTime() / 1e3 | 0).toString() : typeof s == \"string\" || typeof s == \"number\" ? String(s) : typeof s == \"boolean\" ? s ? \"1\" : \"0\" : t(r, s)\n    ]), n), [])\n  ).toString();\n}\nfunction Al(e) {\n  return Lo(e);\n}\nfunction sm(e) {\n  return Lo(e, (t, n) => t === \"tgWebAppData\" ? Al(n) : JSON.stringify(n));\n}\nfunction Ro(e) {\n  const t = El(e);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((n, r, s) => {\n      const o = parseInt(t.slice(1 + s * 2, 1 + (s + 1) * 2), 16);\n      return n + o * o * r;\n    }, 0)\n  ) < 120;\n}\nconst [jt, kl] = /* @__PURE__ */ b(!1), [de, Ml] = /* @__PURE__ */ b({});\nfunction T(e) {\n  return /* @__PURE__ */ h(() => de()[e]);\n}\nconst Pl = T(\"accent_text_color\"), mt = T(\"bg_color\"), Un = T(\"button_color\"), Ho = T(\"button_text_color\"), Fo = T(\"bottom_bar_bg_color\"), xl = T(\"destructive_text_color\"), Tl = T(\"header_bg_color\"), Bl = T(\"hint_color\"), Ol = /* @__PURE__ */ h(() => {\n  const e = mt();\n  return !e || Ro(e);\n}), Il = T(\"link_color\"), Ze = T(\"secondary_bg_color\"), jl = T(\"section_bg_color\"), ql = T(\"section_header_text_color\"), Dl = T(\"section_separator_color\"), Nl = T(\"subtitle_text_color\"), Vl = T(\"text_color\");\nfunction _e(e) {\n  return /* @__PURE__ */ h(() => zn()[e]);\n}\nconst qe = /* @__PURE__ */ Ae({\n  hasShineEffect: !1,\n  isEnabled: !0,\n  isLoaderVisible: !1,\n  isVisible: !1,\n  text: \"Continue\"\n}), zn = /* @__PURE__ */ h(() => {\n  const e = qe();\n  return {\n    ...e,\n    backgroundColor: e.backgroundColor || Un() || \"#2481cc\",\n    textColor: e.textColor || Ho() || \"#ffffff\"\n  };\n}), [rn, Wo] = /* @__PURE__ */ b(!1), Ll = _e(\"backgroundColor\"), Rl = _e(\"hasShineEffect\"), Hl = _e(\"isEnabled\"), Fl = _e(\"isLoaderVisible\"), Wl = _e(\"isVisible\"), Ul = _e(\"text\"), zl = _e(\"textColor\"), Gl = \"web_app_setup_main_button\", Uo = \"main_button_pressed\", ht = \"mainButton\", Gn = le(ht), Ql = lt(ht, Wo), Jl = Gn(\"mount\", () => {\n  if (!rn()) {\n    const e = V() && N(ht);\n    e && qe.set(e), rn.set(!0);\n  }\n}), Kl = Gn(\n  \"onClick\",\n  (e) => S(Uo, e)\n), Yl = Gn(\n  \"offClick\",\n  (e) => {\n    B(Uo, e);\n  }\n), Zl = Ql(\n  \"setParams\",\n  (e) => {\n    qe.set({ ...qe(), ...Ln(e) }), z(ht, qe());\n    const t = zn();\n    t.text && _(Gl, {\n      color: t.backgroundColor,\n      has_shine_effect: t.hasShineEffect,\n      is_active: t.isEnabled,\n      is_progress_visible: t.isLoaderVisible,\n      is_visible: t.isVisible,\n      text: t.text,\n      text_color: t.textColor\n    });\n  }\n);\nfunction Xl() {\n  rn.set(!1);\n}\nconst om = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  backgroundColor: Ll,\n  hasShineEffect: Rl,\n  isEnabled: Hl,\n  isLoaderVisible: Fl,\n  isMounted: Wo,\n  isVisible: Wl,\n  mount: Jl,\n  offClick: Yl,\n  onClick: Kl,\n  setParams: Zl,\n  state: zn,\n  text: Ul,\n  textColor: zl,\n  unmount: Xl\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction Qn(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\nfunction Jn(e) {\n  document.documentElement.style.removeProperty(e);\n}\nconst $e = \"themeParams\", Kn = \"theme_changed\", zo = le($e), Yn = ({ theme_params: e }) => {\n  de.set(e), z($e, e);\n}, [\n  ep,\n  Go,\n  tp,\n  Qo\n] = /* @__PURE__ */ He(\n  $e,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  (e) => x.resolve(\n    V() && N($e) || Re().tgWebAppThemeParams || {}\n  ),\n  (e) => {\n    S(Kn, Yn), de.set(e);\n  }\n), np = lt($e, Qo[0]), rp = np(\n  \"bindCssVars\",\n  (e) => {\n    if (jt())\n      throw new Cn();\n    e || (e = (r) => `--tg-theme-${Ki(r)}`);\n    function t(r) {\n      Object.entries(de()).forEach(([s, o]) => {\n        o && r(s, o);\n      });\n    }\n    function n() {\n      t((r, s) => {\n        Qn(e(r), s);\n      });\n    }\n    return n(), de.sub(n), jt.set(!0), () => {\n      t(Jn), de.unsub(n), jt.set(!1);\n    };\n  }\n), Jo = zo(\"mount\", ep), sp = Go[2], Ko = Go[1], op = tp[1], [sn, ap] = Qo, Yo = zo(\"mountSync\", () => {\n  if (!sn()) {\n    const e = V() && N($e) || Re().tgWebAppThemeParams || {};\n    S(Kn, Yn), Ne(() => {\n      de.set(e), sn.set(!0);\n    });\n  }\n});\nfunction ip() {\n  Me(Ko), B(Kn, Yn), sn.set(!1);\n}\nconst am = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  accentTextColor: Pl,\n  backgroundColor: mt,\n  bindCssVars: rp,\n  bottomBarBgColor: Fo,\n  buttonColor: Un,\n  buttonTextColor: Ho,\n  destructiveTextColor: xl,\n  headerBackgroundColor: Tl,\n  hintColor: Bl,\n  isCssVarsBound: kl,\n  isDark: Ol,\n  isMounted: ap,\n  isMounting: sp,\n  linkColor: Il,\n  mount: Jo,\n  mountError: op,\n  mountPromise: Ko,\n  mountSync: Yo,\n  secondaryBackgroundColor: Ze,\n  sectionBackgroundColor: jl,\n  sectionHeaderTextColor: ql,\n  sectionSeparatorColor: Dl,\n  state: Ml,\n  subtitleTextColor: Nl,\n  textColor: Vl,\n  unmount: ip\n}, Symbol.toStringTag, { value: \"Module\" }));\n// @__NO_SIDE_EFFECTS__\nfunction Zo(e) {\n  return /* @__PURE__ */ h(() => {\n    const t = e();\n    return Ee(t) ? t : t === \"bg_color\" ? mt() : Ze();\n  });\n}\nconst [Xe, up] = /* @__PURE__ */ b(\"bg_color\"), Zn = /* @__PURE__ */ Zo(Xe), [et, cp] = /* @__PURE__ */ b(\"bottom_bar_bg_color\"), Xn = /* @__PURE__ */ h(() => {\n  const e = et();\n  return Ee(e) ? e : e === \"bottom_bar_bg_color\" ? Fo() || Ze() : e === \"secondary_bg_color\" ? Ze() : mt();\n}), [tt, lp] = /* @__PURE__ */ b(\"bg_color\"), Xo = /* @__PURE__ */ Zo(tt), [qt, pp] = /* @__PURE__ */ b(!1), dp = /* @__PURE__ */ h(() => {\n  const e = Zn();\n  return e ? Ro(e) : !1;\n}), [_t, fp] = /* @__PURE__ */ b(!0), ea = /* @__PURE__ */ h(() => ({\n  backgroundColor: Xe(),\n  bottomBarColor: et(),\n  headerColor: tt(),\n  isActive: _t()\n})), on = \"web_app_set_background_color\", an = \"web_app_set_bottom_bar_color\", Je = \"web_app_set_header_color\", er = \"visibility_changed\", me = \"miniApp\", tr = {\n  any: [\n    on,\n    an,\n    Je\n  ]\n}, mp = /* @__PURE__ */ h(() => tr.any.some((e) => fe(e, se()))), nr = (e) => {\n  _t.set(e.is_visible), yt();\n}, [\n  hp,\n  ta,\n  _p,\n  na\n] = /* @__PURE__ */ He(\n  me,\n  (e) => Jo(e).then(() => V() && N(me) || void 0),\n  (e) => {\n    rr.ifAvailable(e ? e.backgroundColor : \"bg_color\"), sr.ifAvailable(e ? e.bottomBarColor : \"bottom_bar_bg_color\"), or.ifAvailable(e ? e.headerColor : \"bg_color\"), _t.set(e ? e.isActive : !0), S(er, nr);\n  }\n), ra = le(me), sa = L(me, tr), bt = ce(me, na[0], tr), bp = bt(\n  \"bindCssVars\",\n  (e) => {\n    if (qt())\n      throw new Cn();\n    const [t, n] = Sn();\n    function r(s, o) {\n      function a() {\n        Qn(s, o() || null);\n      }\n      a(), t(o.sub(a), Jn.bind(null, s));\n    }\n    return e || (e = (s) => `--tg-${Ns(s)}`), r(e(\"bgColor\"), Zn), r(e(\"bottomBarColor\"), Xn), r(e(\"headerColor\"), Xo), t(() => {\n      qt.set(!1);\n    }), qt.set(!0), n;\n  }\n), yp = ra(\"close\", (e) => {\n  _(\"web_app_close\", { return_back: e });\n}), gp = sa(\"mount\", hp), vp = ta[2], oa = ta[1], wp = _p[1], [un, Ep] = na, $p = sa(\"mountSync\", () => {\n  if (!un()) {\n    Yo();\n    const e = V() && N(me) || void 0;\n    rr.ifAvailable(e ? e.backgroundColor : \"bg_color\"), sr.ifAvailable(e ? e.bottomBarColor : \"bottom_bar_bg_color\"), or.ifAvailable(e ? e.headerColor : \"bg_color\"), S(er, nr), Ne(() => {\n      _t.set(e ? e.isActive : !0), un.set(!0);\n    });\n  }\n}), Sp = ra(\"ready\", () => {\n  _(\"web_app_ready\");\n});\nfunction yt() {\n  z(me, ea());\n}\nconst rr = bt(\n  \"setBackgroundColor\",\n  (e) => {\n    e !== Xe() && (_(on, { color: e }), Xe.set(e), yt());\n  },\n  on\n), sr = bt(\n  \"setBottomBarColor\",\n  (e) => {\n    e !== et() && (_(an, { color: e }), et.set(e), yt());\n  },\n  an\n), or = bt(\n  \"setHeaderColor\",\n  (e) => {\n    e !== tt() && (_(Je, Ee(e) ? { color: e } : { color_key: e }), tt.set(e), yt());\n  },\n  Je,\n  {\n    rgb: [Je, \"color\", Ee]\n  }\n);\nfunction Cp() {\n  Me(oa), B(er, nr), un.set(!1);\n}\nconst im = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  backgroundColor: up,\n  backgroundColorRGB: Zn,\n  bindCssVars: bp,\n  bottomBarColor: cp,\n  bottomBarColorRGB: Xn,\n  close: yp,\n  headerColor: lp,\n  headerColorRGB: Xo,\n  isActive: fp,\n  isCssVarsBound: pp,\n  isDark: dp,\n  isMounted: Ep,\n  isMounting: vp,\n  isSupported: mp,\n  mount: gp,\n  mountError: wp,\n  mountPromise: oa,\n  mountSync: $p,\n  ready: Sp,\n  setBackgroundColor: rr,\n  setBottomBarColor: sr,\n  setHeaderColor: or,\n  state: ea,\n  unmount: Cp\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction Ap(e) {\n  const t = e.message.trim(), n = (e.title || \"\").trim(), r = e.buttons || [];\n  if (n.length > 64)\n    throw new J(`Invalid title: ${n}`);\n  if (!t || t.length > 256)\n    throw new J(`Invalid message: ${t}`);\n  if (r.length > 3)\n    throw new J(`Invalid buttons count: ${r.length}`);\n  return {\n    title: n,\n    message: t,\n    buttons: r.length ? r.map((s, o) => {\n      const a = s.id || \"\";\n      if (a.length > 64)\n        throw new J(`Button with index ${o} has invalid id: ${a}`);\n      if (!s.type || s.type === \"default\" || s.type === \"destructive\") {\n        const i = s.text.trim();\n        if (!i || i.length > 64)\n          throw new J(`Button with index ${o} has invalid text: ${i}`);\n        return { type: s.type, text: i, id: a };\n      }\n      return { type: s.type, id: a };\n    }) : [{ type: \"close\", id: \"\" }]\n  };\n}\nconst ar = \"web_app_open_popup\", aa = L(\"popup\", ar), kp = G(ar), [ia, ir, ua] = O(\n  (e) => C(ar, \"popup_closed\", {\n    ...e,\n    params: Ap(e)\n  }).then(({ button_id: t }) => t === void 0 ? null : t),\n  \"A popup is already opened\"\n), Mp = aa(\"open\", ia), Pp = ir[1], xp = ir[2], Tp = ua[1], Bp = aa(\"show\", ia), [, Op, Ip] = ir, [, jp] = ua, um = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  isOpened: xp,\n  isShown: Ip,\n  isSupported: kp,\n  open: Mp,\n  openError: Tp,\n  openPromise: Pp,\n  show: Bp,\n  showError: jp,\n  showPromise: Op\n}, Symbol.toStringTag, { value: \"Module\" })), ca = \"web_app_close_scan_qr_popup\", ur = \"web_app_open_scan_qr_popup\", qp = \"scan_qr_popup_closed\", Dp = \"qr_text_received\", la = L(\"qrScanner\", ur), Np = la(\"close\", () => {\n  _(ca), Me(pa);\n}), Vp = G(ur);\nfunction Lp(e) {\n  e || (e = {});\n  const { onCaptured: t, text: n, capture: r } = e, [, s] = Sn(\n    S(qp, () => {\n      o.resolve();\n    }),\n    S(Dp, (a) => {\n      t ? t(a.data) : (!r || r(a.data)) && (o.resolve(a.data), _(ca));\n    })\n  ), o = new Su(e);\n  return (e.postEvent || _)(ur, { text: n }), x.resolve(o).catch(Ks).finally(s);\n}\nconst [\n  Rp,\n  Hp,\n  Fp\n] = O(Lp, \"The QR Scanner is already opened\"), Wp = la(\"open\", Rp), [, pa, Up] = Hp, [, zp] = Fp, cm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  close: Np,\n  isOpened: Up,\n  isSupported: Vp,\n  open: Wp,\n  openError: zp,\n  openPromise: pa\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction pe(e) {\n  return /* @__PURE__ */ h(() => cr()[e]);\n}\nconst De = /* @__PURE__ */ Ae({\n  hasShineEffect: !1,\n  isEnabled: !0,\n  isLoaderVisible: !1,\n  isVisible: !1,\n  position: \"left\",\n  text: \"Cancel\"\n}), cr = /* @__PURE__ */ h(() => {\n  const e = De();\n  return {\n    ...e,\n    backgroundColor: e.backgroundColor || Xn() || \"#000000\",\n    textColor: e.textColor || Un() || \"#2481cc\"\n  };\n}), [cn, da] = /* @__PURE__ */ b(!1), Gp = pe(\"backgroundColor\"), Qp = pe(\"hasShineEffect\"), Jp = pe(\"isEnabled\"), Kp = pe(\"isLoaderVisible\"), Yp = pe(\"isVisible\"), Zp = pe(\"position\"), Xp = pe(\"text\"), ed = pe(\"textColor\"), gt = \"web_app_setup_secondary_button\", fa = \"secondary_button_pressed\", vt = \"secondaryButton\", lr = L(vt, gt), td = ce(vt, da, gt), nd = G(gt), rd = lr(\"mount\", () => {\n  if (!cn()) {\n    const e = V() && N(vt);\n    e && De.set(e), cn.set(!0);\n  }\n}), sd = lr(\n  \"onClick\",\n  (e) => S(fa, e)\n), od = lr(\n  \"offClick\",\n  (e) => {\n    B(fa, e);\n  }\n), ad = td(\n  \"setParams\",\n  (e) => {\n    De.set({ ...De(), ...Ln(e) }), z(vt, De());\n    const t = cr();\n    t.text && _(gt, {\n      color: t.backgroundColor,\n      has_shine_effect: t.hasShineEffect,\n      is_active: t.isEnabled,\n      is_progress_visible: t.isLoaderVisible,\n      is_visible: t.isVisible,\n      position: t.position,\n      text: t.text,\n      text_color: t.textColor\n    });\n  }\n);\nfunction id() {\n  cn.set(!1);\n}\nconst lm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  backgroundColor: Gp,\n  hasShineEffect: Qp,\n  isEnabled: Jp,\n  isLoaderVisible: Kp,\n  isMounted: da,\n  isSupported: nd,\n  isVisible: Yp,\n  mount: rd,\n  offClick: od,\n  onClick: sd,\n  position: Zp,\n  setParams: ad,\n  state: cr,\n  text: Xp,\n  textColor: ed,\n  unmount: id\n}, Symbol.toStringTag, { value: \"Module\" })), wt = \"web_app_setup_settings_button\", ma = \"settings_button_pressed\", Et = \"settingsButton\", [Jr, ud] = /* @__PURE__ */ b(!1), [nt, cd] = /* @__PURE__ */ b(!1), ld = G(wt), pr = L(Et, wt), ha = ce(Et, nt, wt), pd = ha(\"hide\", () => {\n  dr(!1);\n}), dd = pr(\"mount\", () => {\n  nt() || (dr(V() && N(Et) || !1), nt.set(!0));\n});\nfunction dr(e) {\n  e !== Jr() && (_(wt, { is_visible: e }), z(Et, e), Jr.set(e));\n}\nconst fd = pr(\n  \"onClick\",\n  (e) => S(ma, e)\n), md = pr(\n  \"offClick\",\n  (e) => {\n    B(ma, e);\n  }\n), hd = ha(\"show\", () => {\n  dr(!0);\n});\nfunction _d() {\n  nt.set(!1);\n}\nconst pm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  hide: pd,\n  isMounted: cd,\n  isSupported: ld,\n  isVisible: ud,\n  mount: dd,\n  offClick: md,\n  onClick: fd,\n  show: hd,\n  unmount: _d\n}, Symbol.toStringTag, { value: \"Module\" })), $t = \"web_app_setup_swipe_behavior\", St = \"swipeBehavior\", [Le, bd] = /* @__PURE__ */ b(!1), yd = G($t), [ln, gd] = /* @__PURE__ */ b(!0), vd = L(St, $t), _a = ce(St, Le, $t), wd = _a(\"disableVertical\", () => {\n  fr(!1);\n}), Ed = _a(\"enableVertical\", () => {\n  fr(!0);\n}), $d = vd(\"mount\", () => {\n  Le() || (fr(\n    V() && N(St) || !1,\n    !0\n  ), Le.set(!0));\n});\nfunction fr(e, t) {\n  (e !== ln() || t) && (_($t, { allow_vertical_swipe: e }), z(St, e), ln.set(e));\n}\nfunction Sd() {\n  Le.set(!1);\n}\nconst dm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  _isMounted: Le,\n  _isVerticalEnabled: ln,\n  disableVertical: wd,\n  enableVertical: Ed,\n  isMounted: bd,\n  isSupported: yd,\n  isVerticalEnabled: gd,\n  mount: $d,\n  unmount: Sd\n}, Symbol.toStringTag, { value: \"Module\" })), be = \"viewport\", mr = \"fullscreen_changed\", hr = \"safe_area_changed\", _r = \"content_safe_area_changed\", br = \"viewport_changed\", ba = le(be), Kr = { left: 0, top: 0, bottom: 0, right: 0 };\nfunction Dt(e) {\n  return Math.max(e, 0);\n}\nconst [Nt, ya] = /* @__PURE__ */ b({\n  contentSafeAreaInsets: Kr,\n  height: 0,\n  isExpanded: !1,\n  isFullscreen: !1,\n  safeAreaInsets: Kr,\n  stableHeight: 0,\n  width: 0\n});\nfunction ye(e) {\n  return /* @__PURE__ */ h(() => ya()[e]);\n}\nconst yr = ye(\"height\"), gr = ye(\"stableHeight\"), ga = ye(\"width\"), Cd = ye(\"isExpanded\"), Ad = /* @__PURE__ */ h(() => yr() === gr());\nfunction Pe(e) {\n  const { height: t, stableHeight: n, width: r } = e;\n  Nt.set({\n    ...Nt(),\n    ...Ln({\n      ...e,\n      height: t ? Dt(t) : void 0,\n      width: r ? Dt(r) : void 0,\n      stableHeight: n ? Dt(n) : void 0\n    })\n  }), z(be, Nt());\n}\nfunction kd() {\n  return N(be);\n}\nfunction Ct(e) {\n  return /* @__PURE__ */ h(() => vr()[e]);\n}\nconst vr = ye(\"contentSafeAreaInsets\"), va = Ct(\"bottom\"), wa = Ct(\"left\"), Ea = Ct(\"right\"), $a = Ct(\"top\");\nfunction At(e) {\n  return /* @__PURE__ */ h(() => wr()[e]);\n}\nconst wr = ye(\"safeAreaInsets\"), Sa = At(\"bottom\"), Ca = At(\"left\"), Aa = At(\"right\"), ka = At(\"top\"), Ma = \"web_app_request_safe_area\", Pa = L(be, Ma), Yr = Pa(\n  \"requestContentSafeAreaInsets\",\n  (e) => C(\"web_app_request_content_safe_area\", _r, e)\n);\nfunction Md(e) {\n  return C(\"web_app_request_viewport\", br, e);\n}\nconst Zr = Pa(\n  \"requestSafeAreaInsets\",\n  (e) => C(Ma, hr, e)\n), xa = (e) => {\n  const { height: t } = e;\n  Pe({\n    isExpanded: e.is_expanded,\n    height: t,\n    width: e.width,\n    stableHeight: e.is_state_stable ? t : void 0\n  });\n}, Ta = (e) => {\n  Pe({ isFullscreen: e.is_fullscreen });\n}, Ba = (e) => {\n  Pe({ safeAreaInsets: e });\n}, Oa = (e) => {\n  Pe({ contentSafeAreaInsets: e });\n}, [\n  Pd,\n  xd,\n  Td,\n  Bd\n] = /* @__PURE__ */ He(\n  be,\n  (e) => {\n    const t = V() && kd();\n    return t ? x.resolve(t) : x.fn(async (n) => {\n      const r = await x.all([\n        Zr.isAvailable() ? Zr(n) : wr(),\n        Yr.isAvailable() ? Yr(n) : vr()\n      ]), s = Re(), o = {\n        contentSafeAreaInsets: r[1],\n        isFullscreen: !!s.tgWebAppFullscreen,\n        safeAreaInsets: r[0]\n      };\n      if ([\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(s.tgWebAppPlatform)) {\n        const a = window;\n        return {\n          ...o,\n          height: a.innerHeight,\n          isExpanded: !0,\n          stableHeight: a.innerHeight,\n          width: a.innerWidth\n        };\n      }\n      return Md(n).then((a) => ({\n        ...o,\n        height: a.height,\n        isExpanded: a.is_expanded,\n        stableHeight: a.is_state_stable ? a.height : 0,\n        width: a.width\n      }));\n    }, e);\n  },\n  (e) => {\n    S(br, xa), S(mr, Ta), S(hr, Ba), S(_r, Oa), Pe(e);\n  }\n), Od = ba(\"mount\", Pd), [, Ia, Id] = xd, [, jd] = Td, [Er, qd] = Bd;\nfunction Dd() {\n  Me(Ia), B(br, xa), B(mr, Ta), B(hr, Ba), B(_r, Oa), Er.set(!1);\n}\nconst Nd = lt(be, Er), [Vt, Vd] = /* @__PURE__ */ b(!1), Ld = Nd(\n  \"bindCssVars\",\n  (e) => {\n    if (Vt())\n      throw new Cn();\n    e || (e = (n) => `--tg-viewport-${Ns(n)}`);\n    const t = [\n      [\"height\", yr],\n      [\"stableHeight\", gr],\n      [\"width\", ga],\n      [\"safeAreaInsetTop\", ka],\n      [\"safeAreaInsetBottom\", Sa],\n      [\"safeAreaInsetLeft\", Ca],\n      [\"safeAreaInsetRight\", Aa],\n      [\"contentSafeAreaInsetTop\", $a],\n      [\"contentSafeAreaInsetBottom\", va],\n      [\"contentSafeAreaInsetLeft\", wa],\n      [\"contentSafeAreaInsetRight\", Ea]\n    ].reduce((n, [r, s]) => {\n      const o = e(r);\n      if (o) {\n        const a = () => {\n          Qn(o, `${s()}px`);\n        };\n        n.push([a, s.sub(a), o]);\n      }\n      return n;\n    }, []);\n    return t.forEach((n) => {\n      n[0]();\n    }), Vt.set(!0), () => {\n      t.forEach((n) => {\n        n[1](), Jn(n[2]);\n      }), Vt.set(!1);\n    };\n  }\n), Rd = ba(\"expand\", () => {\n  _(\"web_app_expand\");\n}), ja = \"web_app_request_fullscreen\", Hd = ce(be, Er, ja), qa = ye(\"isFullscreen\"), [\n  Fd,\n  Wd\n] = /* @__PURE__ */ b(), [\n  Ud,\n  zd\n] = /* @__PURE__ */ b();\nfunction Da(e, t) {\n  return Hd(\n    e,\n    O(\n      (n) => C(\n        t ? ja : \"web_app_exit_fullscreen\",\n        [mr, \"fullscreen_failed\"],\n        n\n      ).then((r) => {\n        if (\"error\" in r && r.error !== \"ALREADY_FULLSCREEN\")\n          throw new au(r.error);\n        const s = \"is_fullscreen\" in r ? r.is_fullscreen : !0;\n        s !== qa() && Pe({ isFullscreen: s });\n      }),\n      \"Fullscreen mode change is already being requested\",\n      {\n        promise: Fd,\n        error: Ud\n      }\n    )[0]\n  );\n}\nconst Gd = Da(\"requestFullscreen\", !0), Qd = Da(\"exitFullscreen\"), fm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  bindCssVars: Ld,\n  changeFullscreenError: zd,\n  changeFullscreenPromise: Wd,\n  contentSafeAreaInsetBottom: va,\n  contentSafeAreaInsetLeft: wa,\n  contentSafeAreaInsetRight: Ea,\n  contentSafeAreaInsetTop: $a,\n  contentSafeAreaInsets: vr,\n  exitFullscreen: Qd,\n  expand: Rd,\n  height: yr,\n  isCssVarsBound: Vd,\n  isExpanded: Cd,\n  isFullscreen: qa,\n  isMounted: qd,\n  isMounting: Id,\n  isStable: Ad,\n  mount: Od,\n  mountError: jd,\n  mountPromise: Ia,\n  requestFullscreen: Gd,\n  safeAreaInsetBottom: Sa,\n  safeAreaInsetLeft: Ca,\n  safeAreaInsetRight: Aa,\n  safeAreaInsetTop: ka,\n  safeAreaInsets: wr,\n  stableHeight: gr,\n  state: ya,\n  unmount: Dd,\n  width: ga\n}, Symbol.toStringTag, { value: \"Module\" })), Na = \"web_app_request_emoji_status_access\", [\n  Jd,\n  Kd,\n  Yd\n] = O((e) => C(Na, \"emoji_status_access_requested\", e).then((t) => t.status), \"Emoji status access request is already in progress\"), mm = /* @__PURE__ */ A(\n  \"requestEmojiStatusAccess\",\n  Jd,\n  { isSupported: Na }\n), [, hm, _m] = Kd, [, bm] = Yd, Va = \"web_app_set_emoji_status\", [\n  Zd,\n  Xd,\n  ef\n] = O(\n  (e, t) => C(Va, [\"emoji_status_set\", \"emoji_status_failed\"], {\n    params: {\n      custom_emoji_id: e,\n      duration: (t || {}).duration\n    },\n    ...t\n  }).then((n) => {\n    if (n && \"error\" in n)\n      throw new ou(n.error);\n  }),\n  \"Emoji status set request is currently in progress\"\n), ym = /* @__PURE__ */ A(\"setEmojiStatus\", Zd, {\n  isSupported: Va\n}), [, gm, vm] = Xd, [, wm] = ef, tf = { isSupported: \"web_app_add_to_home_screen\" }, La = \"home_screen_failed\", Em = /* @__PURE__ */ A(\n  \"onAddToHomeScreenFailed\",\n  (e, t) => S(La, e, t),\n  { isSupported: \"web_app_add_to_home_screen\" }\n), $m = /* @__PURE__ */ A(\n  \"offAddToHomeScreenFailed\",\n  (e) => {\n    B(La, e);\n  },\n  tf\n), Ra = { isSupported: \"web_app_add_to_home_screen\" }, Ha = \"home_screen_added\", Sm = /* @__PURE__ */ A(\n  \"onAddedToHomeScreen\",\n  (e, t) => S(Ha, e, t),\n  Ra\n), Cm = /* @__PURE__ */ A(\n  \"offAddedToHomeScreen\",\n  (e) => {\n    B(Ha, e);\n  },\n  Ra\n), Xr = \"web_app_add_to_home_screen\", Am = /* @__PURE__ */ A(\n  \"addToHomeScreen\",\n  () => {\n    _(Xr);\n  },\n  { isSupported: Xr }\n), Fa = \"web_app_check_home_screen\", [\n  nf,\n  rf,\n  sf\n] = O((e) => C(Fa, \"home_screen_checked\", e).then((t) => t.status || \"unknown\"), \"Check home screen status request is currently in progress\"), km = /* @__PURE__ */ A(\"checkHomeScreenStatus\", nf, {\n  isSupported: Fa\n}), [, Mm, Pm] = rf, [, xm] = sf, of = le(), Tm = of(\n  \"openLink\",\n  (e, t) => {\n    if (typeof e == \"string\")\n      try {\n        e = new URL(e);\n      } catch (n) {\n        throw new J(`\"${e.toString()}\" is invalid URL`, n);\n      }\n    t || (t = {}), _(\"web_app_open_link\", {\n      url: e.toString(),\n      try_browser: t.tryBrowser,\n      try_instant_view: t.tryInstantView\n    });\n  }\n), es = \"web_app_open_tg_link\", af = le(), uf = af(\n  \"openTelegramLink\",\n  (e) => {\n    const t = e.toString();\n    if (!t.match(/^https:\\/\\/t.me\\/.+/))\n      throw new J(`\"${t}\" is invalid URL`);\n    if (!fe(es, se())) {\n      window.location.href = t;\n      return;\n    }\n    e = new URL(e), _(es, { path_full: e.pathname + e.search });\n  }\n), cf = le(), Bm = cf(\n  \"shareURL\",\n  (e, t) => {\n    uf(\n      \"https://t.me/share/url?\" + new URLSearchParams({ url: e, text: t || \"\" }).toString().replace(/\\+/g, \"%20\")\n    );\n  }\n);\nfunction lf(e, t) {\n  return new x({ abortSignal: t, timeout: e }).catch(() => {\n  });\n}\nconst Wa = \"web_app_request_phone\", [\n  pf,\n  df,\n  ff\n] = O((e) => C(Wa, \"phone_requested\", e).then((t) => t.status), \"Phone access request is currently in progress\"), mf = /* @__PURE__ */ A(\"requestPhoneAccess\", pf, {\n  isSupported: Wa\n}), [, Om, Im] = df, [, jm] = ff;\nasync function ts(e) {\n  const t = await ke(\"getRequestedContact\", {}, {\n    ...e,\n    timeout: (e || {}).timeout || 5e3\n  });\n  return dt(\n    /* @__PURE__ */ Qe(\n      // todo: Union is unnecessary here, but we use it to comply TypeScript checker.\n      /* @__PURE__ */ ho([/* @__PURE__ */ W(), /* @__PURE__ */ po(URLSearchParams)]),\n      Do(\n        /* @__PURE__ */ tn({\n          contact: /* @__PURE__ */ Qe(\n            /* @__PURE__ */ W(),\n            qo(),\n            /* @__PURE__ */ tn({\n              user_id: /* @__PURE__ */ jn(),\n              phone_number: /* @__PURE__ */ W(),\n              first_name: /* @__PURE__ */ W(),\n              last_name: /* @__PURE__ */ fo(/* @__PURE__ */ W())\n            })\n          ),\n          auth_date: /* @__PURE__ */ Qe(\n            /* @__PURE__ */ W(),\n            /* @__PURE__ */ On((n) => new Date(Number(n) * 1e3)),\n            /* @__PURE__ */ In()\n          ),\n          hash: /* @__PURE__ */ W()\n        })\n      )\n    ),\n    t\n  );\n}\nconst [\n  hf,\n  _f,\n  bf\n] = O(\n  (e) => new x(async (t, n, r) => {\n    try {\n      return t(await ts(r));\n    } catch (a) {\n      if (a instanceof en)\n        throw a;\n    }\n    if (await mf(r) !== \"sent\")\n      throw new Us(\"User denied access\");\n    let o = 50;\n    for (; !r.isAborted(); ) {\n      try {\n        return t(await ts(r));\n      } catch (a) {\n        if (a instanceof en)\n          throw a;\n      }\n      await lf(o), o += 50;\n    }\n  }, e),\n  \"Contact is already being requested\"\n), qm = /* @__PURE__ */ A(\"requestContact\", hf, {\n  isSupported: \"web_app_request_phone\"\n}), [, Dm, Nm] = _f, [, Vm] = bf, Ua = \"web_app_request_write_access\", [\n  yf,\n  gf,\n  vf\n] = O(\n  (e) => C(Ua, \"write_access_requested\", e).then((t) => t.status),\n  \"Write access request is currently in progress\"\n), Lm = /* @__PURE__ */ A(\"requestWriteAccess\", yf, {\n  isSupported: Ua\n}), [, Rm, Hm] = gf, [, Fm] = vf;\nfunction wf(e) {\n  const t = document.createElement(\"textarea\");\n  t.value = e, t.style.top = \"0\", t.style.left = \"0\", t.style.position = \"fixed\", document.body.appendChild(t), t.focus(), t.select();\n  try {\n    document.execCommand(\"copy\");\n  } finally {\n    document.body.removeChild(t);\n  }\n}\nasync function Wm(e) {\n  try {\n    const { clipboard: t } = navigator;\n    if (t)\n      return await t.writeText(e);\n  } catch {\n  }\n  wf(e);\n}\nconst ns = \"web_app_request_file_download\", Um = /* @__PURE__ */ A(\n  \"downloadFile\",\n  (e, t, n) => C(\n    ns,\n    \"file_download_requested\",\n    { ...n, params: { url: e, file_name: t } }\n  ).then((r) => {\n    if (r.status !== \"downloading\")\n      throw new Us(\"User denied the action\");\n  }),\n  { isSupported: ns }\n), zm = /* @__PURE__ */ A(\n  \"getCurrentTime\",\n  (e) => ke(\"getCurrentTime\", {}, e).then((t) => dt(\n    /* @__PURE__ */ Qe(/* @__PURE__ */ jn(), /* @__PURE__ */ uo(), /* @__PURE__ */ On((n) => new Date(n * 1e3)), /* @__PURE__ */ In()),\n    t\n  )),\n  { isSupported: \"web_app_invoke_custom_method\" }\n), rs = \"web_app_read_text_from_clipboard\", Gm = /* @__PURE__ */ A(\n  \"readTextFromClipboard\",\n  (e) => {\n    const t = Fs();\n    return C(rs, \"clipboard_text_received\", {\n      ...e,\n      params: { req_id: t },\n      capture: Ds(t)\n    }).then(({ data: n = null }) => n);\n  },\n  { isSupported: rs }\n), ss = \"web_app_data_send\", Qm = /* @__PURE__ */ A(\n  \"sendData\",\n  (e) => {\n    const { size: t } = new Blob([e]);\n    if (!t || t > 4096)\n      throw new J(t ? \"Maximum size of data to send is 4096 bytes\" : \"Attempted to send empty data\");\n    _(ss, { data: e });\n  },\n  { isSupported: ss }\n), os = \"web_app_send_prepared_message\", Jm = /* @__PURE__ */ A(\n  \"shareMessage\",\n  (e, t) => C(os, [\"prepared_message_failed\", \"prepared_message_sent\"], {\n    ...t,\n    params: { id: e }\n  }).then((n) => {\n    if (n && \"error\" in n)\n      throw new iu(n.error);\n  }),\n  { isSupported: os }\n), as = \"web_app_share_to_story\", Km = /* @__PURE__ */ A(\n  \"shareStory\",\n  (e, t) => {\n    t || (t = {}), _(as, {\n      text: t.text,\n      media_url: e,\n      widget_link: t.widgetLink\n    });\n  },\n  { isSupported: as }\n), Ef = \"web_app_switch_inline_query\", Ym = /* @__PURE__ */ A(\n  \"switchInlineQuery\",\n  (e, t) => {\n    _(Ef, {\n      query: e,\n      chat_types: t || []\n    });\n  },\n  {\n    isSupported() {\n      return Re().tgWebAppBotInline ? void 0 : \"The application must be launched in the inline mode\";\n    }\n  }\n);\nfunction Zm(e) {\n  try {\n    return [!0, e()];\n  } catch (t) {\n    return [!1, t];\n  }\n}\nfunction Xm(e) {\n  nu(e);\n  const [t, n] = Sn(\n    S(\"reload_iframe\", () => {\n      Jt(!1, \"Received a request to reload the page\"), _(\"iframe_will_reload\"), window.location.reload();\n    })\n  ), { acceptCustomStyles: r = !0 } = e || {};\n  if (r) {\n    const s = document.createElement(\"style\");\n    s.id = \"telegram-custom-styles\", document.head.appendChild(s), t(\n      S(\"set_custom_style\", (o) => {\n        s.innerHTML = o;\n      }),\n      () => {\n        document.head.removeChild(s);\n      }\n    );\n  }\n  return _(\"iframe_ready\", { reload_supported: !0 }), Jt(!1, \"The package was initialized\"), n;\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRlbGVncmFtLWFwcHMvc2RrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLEVBQUUsOERBQThELEVBQUU7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixFQUFFLElBQUksZ0JBQWdCLEdBQUcsYUFBYSxVQUFVLEVBQUU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsVUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFVBQVUsSUFBSSxnQkFBZ0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxVQUFVO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsMEJBQTBCLEVBQUU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQTBDLGlDQUFpQyxHQUFHO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsMERBQTBEO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsVUFBVTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsRUFBRSxPQUFPLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLCtCQUErQixZQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTyxlQUFlO0FBQ3RCLGNBQWMseUNBQXlDO0FBQ3ZEO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsY0FBYyxhQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixFQUFFO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFDQUFxQyxTQUFTLEVBQUU7QUFDekQsV0FBVyxHQUFHLDRCQUE0QjtBQUMxQztBQUNBLFdBQVcsR0FBRyxFQUFFLGFBQWEsR0FBRyxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsT0FBTztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsRUFBRSw4REFBOEQsRUFBRTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLEVBQUUsSUFBSSxnQkFBZ0IsR0FBRyxhQUFhLFVBQVUsRUFBRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFdBQVcsR0FBRyxHQUFHO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixVQUFVLElBQUksZ0JBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxVQUFVO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxD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QUE0Qix1Q0FBdUMsOENBQThDO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsNkJB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UjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLEdBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsVUFBVTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLDBCQUEwQixFQUFFO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixXQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxVQUFVO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxPQUFPLDZCQUE2QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0JBQXNCO0FBQ25EO0FBaVdFO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxQcm9ncmFtbWluZ1xcQnVzaW5lc3NcXFVyYmFuYXV0XFx3ZWJcXG5vZGVfbW9kdWxlc1xcQHRlbGVncmFtLWFwcHNcXHNka1xcZGlzdFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGlzKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBsYW5nOiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5sYW5nKSA/PyB2b2lkIDAsXG4gICAgbWVzc2FnZTogZSA9PSBudWxsID8gdm9pZCAwIDogZS5tZXNzYWdlLFxuICAgIGFib3J0RWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0RWFybHkpID8/IHZvaWQgMCxcbiAgICBhYm9ydFBpcGVFYXJseTogKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYWJvcnRQaXBlRWFybHkpID8/IHZvaWQgMFxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHphKGUsIHQpIHtcbiAgdmFyIG47XG4gIHJldHVybiAobiA9IHZvaWQgMCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0KHQpO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIEdhKGUpIHtcbiAgdmFyIHQsIG47XG4gIGNvbnN0IHIgPSB0eXBlb2YgZTtcbiAgcmV0dXJuIHIgPT09IFwic3RyaW5nXCIgPyBgXCIke2V9XCJgIDogciA9PT0gXCJudW1iZXJcIiB8fCByID09PSBcImJpZ2ludFwiIHx8IHIgPT09IFwiYm9vbGVhblwiID8gYCR7ZX1gIDogciA9PT0gXCJvYmplY3RcIiB8fCByID09PSBcImZ1bmN0aW9uXCIgPyAoZSAmJiAoKG4gPSAodCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBuLm5hbWUpKSA/PyBcIm51bGxcIiA6IHI7XG59XG5mdW5jdGlvbiB3ZShlLCB0LCBuLCByLCBzKSB7XG4gIGNvbnN0IG8gPSBzICYmIFwiaW5wdXRcIiBpbiBzID8gcy5pbnB1dCA6IG4udmFsdWUsIGEgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5leHBlY3RlZCkgPz8gZS5leHBlY3RzID8/IG51bGwsIGkgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5yZWNlaXZlZCkgPz8gLyogQF9fUFVSRV9fICovIEdhKG8pLCB1ID0ge1xuICAgIGtpbmQ6IGUua2luZCxcbiAgICB0eXBlOiBlLnR5cGUsXG4gICAgaW5wdXQ6IG8sXG4gICAgZXhwZWN0ZWQ6IGEsXG4gICAgcmVjZWl2ZWQ6IGksXG4gICAgbWVzc2FnZTogYEludmFsaWQgJHt0fTogJHthID8gYEV4cGVjdGVkICR7YX0gYnV0IHJgIDogXCJSXCJ9ZWNlaXZlZCAke2l9YCxcbiAgICByZXF1aXJlbWVudDogZS5yZXF1aXJlbWVudCxcbiAgICBwYXRoOiBzID09IG51bGwgPyB2b2lkIDAgOiBzLnBhdGgsXG4gICAgaXNzdWVzOiBzID09IG51bGwgPyB2b2lkIDAgOiBzLmlzc3VlcyxcbiAgICBsYW5nOiByLmxhbmcsXG4gICAgYWJvcnRFYXJseTogci5hYm9ydEVhcmx5LFxuICAgIGFib3J0UGlwZUVhcmx5OiByLmFib3J0UGlwZUVhcmx5XG4gIH0sIGMgPSBlLmtpbmQgPT09IFwic2NoZW1hXCIsIGwgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5tZXNzYWdlKSA/PyBlLm1lc3NhZ2UgPz8gLyogQF9fUFVSRV9fICovIHphKGUucmVmZXJlbmNlLCB1LmxhbmcpID8/IChjID8gKHUubGFuZywgdm9pZCAwKSA6IG51bGwpID8/IHIubWVzc2FnZSA/PyAodS5sYW5nLCB2b2lkIDApO1xuICBsICYmICh1Lm1lc3NhZ2UgPSB0eXBlb2YgbCA9PSBcImZ1bmN0aW9uXCIgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGwodSlcbiAgKSA6IGwpLCBjICYmIChuLnR5cGVkID0gITEpLCBuLmlzc3VlcyA/IG4uaXNzdWVzLnB1c2godSkgOiBuLmlzc3VlcyA9IFt1XTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBLKGUpIHtcbiAgcmV0dXJuIHtcbiAgICB2ZXJzaW9uOiAxLFxuICAgIHZlbmRvcjogXCJ2YWxpYm90XCIsXG4gICAgdmFsaWRhdGUodCkge1xuICAgICAgcmV0dXJuIGVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgLyogQF9fUFVSRV9fICovIGlzKCkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBRYShlLCB0KSB7XG4gIHJldHVybiBPYmplY3QuaGFzT3duKGUsIHQpICYmIHQgIT09IFwiX19wcm90b19fXCIgJiYgdCAhPT0gXCJwcm90b3R5cGVcIiAmJiB0ICE9PSBcImNvbnN0cnVjdG9yXCI7XG59XG52YXIgSmEgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBWYWxpYm90IGVycm9yIHdpdGggdXNlZnVsIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gaXNzdWVzIFRoZSBlcnJvciBpc3N1ZXMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgc3VwZXIoZVswXS5tZXNzYWdlKSwgdGhpcy5uYW1lID0gXCJWYWxpRXJyb3JcIiwgdGhpcy5pc3N1ZXMgPSBlO1xuICB9XG59O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHBuKGUsIHQsIG4pIHtcbiAgcmV0dXJuIHR5cGVvZiBlLmRlZmF1bHQgPT0gXCJmdW5jdGlvblwiID8gKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBlLmRlZmF1bHQodCwgbilcbiAgKSA6IChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgZS5kZWZhdWx0XG4gICk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gcnQoZSwgdCkge1xuICByZXR1cm4gIWVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgeyBhYm9ydEVhcmx5OiAhMCB9KS5pc3N1ZXM7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdXMoKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImFueVwiLFxuICAgIHJlZmVyZW5jZTogdXMsXG4gICAgZXhwZWN0czogXCJhbnlcIixcbiAgICBhc3luYzogITEsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIEsodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihlKSB7XG4gICAgICByZXR1cm4gZS50eXBlZCA9ICEwLCBlO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBMdChlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICByZWZlcmVuY2U6IEx0LFxuICAgIGV4cGVjdHM6IFwiYm9vbGVhblwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBLKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0LnZhbHVlID09IFwiYm9vbGVhblwiID8gdC50eXBlZCA9ICEwIDogd2UodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkbihlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgcmVmZXJlbmNlOiBkbixcbiAgICBleHBlY3RzOiBcIkZ1bmN0aW9uXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIEsodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHQudmFsdWUgPT0gXCJmdW5jdGlvblwiID8gdC50eXBlZCA9ICEwIDogd2UodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBVKGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwibG9vc2Vfb2JqZWN0XCIsXG4gICAgcmVmZXJlbmNlOiBVLFxuICAgIGV4cGVjdHM6IFwiT2JqZWN0XCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGVudHJpZXM6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gSyh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHZhciBzO1xuICAgICAgY29uc3QgbyA9IG4udmFsdWU7XG4gICAgICBpZiAobyAmJiB0eXBlb2YgbyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG4udHlwZWQgPSAhMCwgbi52YWx1ZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGEgaW4gdGhpcy5lbnRyaWVzKSB7XG4gICAgICAgICAgY29uc3QgaSA9IHRoaXMuZW50cmllc1thXTtcbiAgICAgICAgICBpZiAoYSBpbiBvIHx8IChpLnR5cGUgPT09IFwiZXhhY3Rfb3B0aW9uYWxcIiB8fCBpLnR5cGUgPT09IFwib3B0aW9uYWxcIiB8fCBpLnR5cGUgPT09IFwibnVsbGlzaFwiKSAmJiAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgaS5kZWZhdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBhIGluIG8gPyAoXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgb1thXVxuICAgICAgICAgICAgKSA6IC8qIEBfX1BVUkVfXyAqLyBwbihpKSwgYyA9IGlbXCJ+cnVuXCJdKHsgdmFsdWU6IHUgfSwgcik7XG4gICAgICAgICAgICBpZiAoYy5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBvLFxuICAgICAgICAgICAgICAgIGtleTogYSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgYy5pc3N1ZXMpXG4gICAgICAgICAgICAgICAgcC5wYXRoID8gcC5wYXRoLnVuc2hpZnQobCkgOiBwLnBhdGggPSBbbF0sIChzID0gbi5pc3N1ZXMpID09IG51bGwgfHwgcy5wdXNoKHApO1xuICAgICAgICAgICAgICBpZiAobi5pc3N1ZXMgfHwgKG4uaXNzdWVzID0gYy5pc3N1ZXMpLCByLmFib3J0RWFybHkpIHtcbiAgICAgICAgICAgICAgICBuLnR5cGVkID0gITE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMudHlwZWQgfHwgKG4udHlwZWQgPSAhMSksIG4udmFsdWVbYV0gPSBjLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaS50eXBlICE9PSBcImV4YWN0X29wdGlvbmFsXCIgJiYgaS50eXBlICE9PSBcIm9wdGlvbmFsXCIgJiYgaS50eXBlICE9PSBcIm51bGxpc2hcIiAmJiAod2UodGhpcywgXCJrZXlcIiwgbiwgciwge1xuICAgICAgICAgICAgaW5wdXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBgXCIke2F9XCJgLFxuICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG8sXG4gICAgICAgICAgICAgICAga2V5OiBhLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICB2YWx1ZTogb1thXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSksIHIuYWJvcnRFYXJseSkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW4uaXNzdWVzIHx8ICFyLmFib3J0RWFybHkpXG4gICAgICAgICAgZm9yIChjb25zdCBhIGluIG8pXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gUWEobywgYSkgJiYgIShhIGluIHRoaXMuZW50cmllcykgJiYgKG4udmFsdWVbYV0gPSBvW2FdKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB3ZSh0aGlzLCBcInR5cGVcIiwgbiwgcik7XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gVGUoZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJudWxsaXNoXCIsXG4gICAgcmVmZXJlbmNlOiBUZSxcbiAgICBleHBlY3RzOiBgKCR7ZS5leHBlY3RzfSB8IG51bGwgfCB1bmRlZmluZWQpYCxcbiAgICBhc3luYzogITEsXG4gICAgd3JhcHBlZDogZSxcbiAgICBkZWZhdWx0OiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBLKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIChuLnZhbHVlID09PSBudWxsIHx8IG4udmFsdWUgPT09IHZvaWQgMCkgJiYgKHRoaXMuZGVmYXVsdCAhPT0gdm9pZCAwICYmIChuLnZhbHVlID0gLyogQF9fUFVSRV9fICovIHBuKHRoaXMsIG4sIHIpKSwgbi52YWx1ZSA9PT0gbnVsbCB8fCBuLnZhbHVlID09PSB2b2lkIDApID8gKG4udHlwZWQgPSAhMCwgbikgOiB0aGlzLndyYXBwZWRbXCJ+cnVuXCJdKG4sIHIpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBSdChlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHJlZmVyZW5jZTogUnQsXG4gICAgZXhwZWN0czogXCJudW1iZXJcIixcbiAgICBhc3luYzogITEsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gSyh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdC52YWx1ZSA9PSBcIm51bWJlclwiICYmICFpc05hTih0LnZhbHVlKSA/IHQudHlwZWQgPSAhMCA6IHdlKHRoaXMsIFwidHlwZVwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gSHQoZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgIHJlZmVyZW5jZTogSHQsXG4gICAgZXhwZWN0czogYCgke2UuZXhwZWN0c30gfCB1bmRlZmluZWQpYCxcbiAgICBhc3luYzogITEsXG4gICAgd3JhcHBlZDogZSxcbiAgICBkZWZhdWx0OiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBLKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udmFsdWUgPT09IHZvaWQgMCAmJiAodGhpcy5kZWZhdWx0ICE9PSB2b2lkIDAgJiYgKG4udmFsdWUgPSAvKiBAX19QVVJFX18gKi8gcG4odGhpcywgbiwgcikpLCBuLnZhbHVlID09PSB2b2lkIDApID8gKG4udHlwZWQgPSAhMCwgbikgOiB0aGlzLndyYXBwZWRbXCJ+cnVuXCJdKG4sIHIpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiByZShlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHJlZmVyZW5jZTogcmUsXG4gICAgZXhwZWN0czogXCJzdHJpbmdcIixcbiAgICBhc3luYzogITEsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gSyh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdC52YWx1ZSA9PSBcInN0cmluZ1wiID8gdC50eXBlZCA9ICEwIDogd2UodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBjcygpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwidW5rbm93blwiLFxuICAgIHJlZmVyZW5jZTogY3MsXG4gICAgZXhwZWN0czogXCJ1bmtub3duXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBLKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIoZSkge1xuICAgICAgcmV0dXJuIGUudHlwZWQgPSAhMCwgZTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBGdChlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBlW1wifnJ1blwiXSh7IHZhbHVlOiB0IH0sIC8qIEBfX1BVUkVfXyAqLyBpcyhuKSk7XG4gIGlmIChyLmlzc3VlcylcbiAgICB0aHJvdyBuZXcgSmEoci5pc3N1ZXMpO1xuICByZXR1cm4gci52YWx1ZTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBscyguLi5lKSB7XG4gIHJldHVybiB7XG4gICAgLi4uZVswXSxcbiAgICBwaXBlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBLKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgZm9yIChjb25zdCByIG9mIGUpXG4gICAgICAgIGlmIChyLmtpbmQgIT09IFwibWV0YWRhdGFcIikge1xuICAgICAgICAgIGlmICh0Lmlzc3VlcyAmJiAoci5raW5kID09PSBcInNjaGVtYVwiIHx8IHIua2luZCA9PT0gXCJ0cmFuc2Zvcm1hdGlvblwiKSkge1xuICAgICAgICAgICAgdC50eXBlZCA9ICExO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgICghdC5pc3N1ZXMgfHwgIW4uYWJvcnRFYXJseSAmJiAhbi5hYm9ydFBpcGVFYXJseSkgJiYgKHQgPSByW1wifnJ1blwiXSh0LCBuKSk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHBzKGUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBydChcbiAgICAvKiBAX19QVVJFX18gKi8gVSh7IFRlbGVncmFtV2Vidmlld1Byb3h5OiAvKiBAX19QVVJFX18gKi8gVSh7IHBvc3RFdmVudDogLyogQF9fUFVSRV9fICovIGRuKCkgfSkgfSksXG4gICAgZVxuICApO1xufVxuZnVuY3Rpb24gZHMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbn1cbnZhciBLYSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgWWEgPSAoZSwgdCwgbikgPT4gdCBpbiBlID8gS2EoZSwgdCwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogbiB9KSA6IGVbdF0gPSBuLCBXdCA9IChlLCB0LCBuKSA9PiBZYShlLCB0eXBlb2YgdCAhPSBcInN5bWJvbFwiID8gdCArIFwiXCIgOiB0LCBuKTtcbmZ1bmN0aW9uIFphKGUpIHtcbiAgcmV0dXJuICh0KSA9PiB0IGluc3RhbmNlb2YgZTtcbn1cbmZ1bmN0aW9uIGZzKGUsIHQpIHtcbiAgdCB8fCAodCA9IFtdKTtcbiAgY2xhc3MgbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvciguLi5zKSB7XG4gICAgICBjb25zdCBvID0gdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiID8gdCguLi5zKSA6IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyBbdF0gOiB0IHx8IFtdO1xuICAgICAgc3VwZXIoLi4ubyksIHRoaXMubmFtZSA9IGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJuYW1lXCIsIHsgdmFsdWU6IGUgfSksIFtuLCBaYShuKV07XG59XG5jb25zdCBbWGEsICRmXSA9IGZzKFwiQ2FuY2VsbGVkRXJyb3JcIiwgXCJQcm9taXNlIHdhcyBjYW5jZWxlZFwiKSwgW2VpLCBTZl0gPSBmcyhcbiAgXCJUaW1lb3V0RXJyb3JcIixcbiAgKGUsIHQpID0+IFtgVGltZW91dCByZWFjaGVkOiAke2V9bXNgLCB7IGNhdXNlOiB0IH1dXG4pLCBtcyA9IFN5bWJvbChcIlJlc29sdmVkXCIpO1xuZnVuY3Rpb24gJHIoZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShlKSAmJiBlWzBdID09PSBtcztcbn1cbmZ1bmN0aW9uIHRpKGUpIHtcbiAgcmV0dXJuIFttcywgZV07XG59XG5mdW5jdGlvbiBTcihlLCB0KSB7XG4gIHJldHVybiBlLnJlamVjdCA9IHQucmVqZWN0LCBlLmFib3J0ID0gdC5hYm9ydCwgZTtcbn1cbmxldCBmbiA9IGNsYXNzIFV0IGV4dGVuZHMgUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKHQsIG4pIHtcbiAgICBsZXQgciwgcztcbiAgICBzdXBlcigobywgYSkgPT4ge1xuICAgICAgbGV0IGksIHU7XG4gICAgICB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyAoaSA9IHQsIHUgPSBuKSA6IHUgPSB0O1xuICAgICAgY29uc3QgYyA9IFtdLCBsID0gKGQpID0+ICguLi5qKSA9PiB7XG4gICAgICAgIGNvbnN0IGVlID0gZCguLi5qKTtcbiAgICAgICAgcmV0dXJuIGMuZm9yRWFjaCgoa3QpID0+IGt0KCkpLCBlZTtcbiAgICAgIH0sIHAgPSBuZXcgQWJvcnRDb250cm9sbGVyKCksIHsgc2lnbmFsOiBtIH0gPSBwO1xuICAgICAgcyA9IChkKSA9PiB7XG4gICAgICAgICFtLmFib3J0ZWQgJiYgcC5hYm9ydChkKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBmID0gKCkgPT4gbS5yZWFzb24sIGsgPSAoZCkgPT4ge1xuICAgICAgICBjb25zdCBqID0gKCkgPT4ge1xuICAgICAgICAgIGQoZigpKTtcbiAgICAgICAgfTtcbiAgICAgICAgbS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgaiwgITApO1xuICAgICAgICBjb25zdCBlZSA9ICgpID0+IHtcbiAgICAgICAgICBtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBqLCAhMCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjLnB1c2goZWUpLCBlZTtcbiAgICAgIH0sIGdlID0gbCgoZCkgPT4ge1xuICAgICAgICBvKGQpLCBzKHRpKGQpKTtcbiAgICAgIH0pO1xuICAgICAgciA9IGwoKGQpID0+IHtcbiAgICAgICAgYShkKSwgcyhkKTtcbiAgICAgIH0pLCB1IHx8ICh1ID0ge30pO1xuICAgICAgY29uc3QgeyBhYm9ydFNpZ25hbDogTSwgcmVqZWN0T25BYm9ydDogbmUgPSAhMCB9ID0gdTtcbiAgICAgIGlmIChNKVxuICAgICAgICBpZiAoTS5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc3QgeyByZWFzb246IGQgfSA9IE07XG4gICAgICAgICAgaWYgKG5lKVxuICAgICAgICAgICAgcmV0dXJuIHIoZCk7XG4gICAgICAgICAgcyhkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBkID0gKCkgPT4ge1xuICAgICAgICAgICAgcyhNLnJlYXNvbik7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBNLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBkKSwgYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIE0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBuZSAmJiBrKGEpO1xuICAgICAgY29uc3QgeyB0aW1lb3V0OiBFIH0gPSB1O1xuICAgICAgaWYgKEUpIHtcbiAgICAgICAgY29uc3QgZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHMobmV3IGVpKEUpKTtcbiAgICAgICAgfSwgRSk7XG4gICAgICAgIGMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0ICQgPSAoKSA9PiBtLmFib3J0ZWQsIEkgPSAoKSA9PiAkcihmKCkpLCBSID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBkID0gZigpO1xuICAgICAgICByZXR1cm4gJHIoZCkgPyBkWzFdIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGQgPSBpICYmIGkoZ2UsIHIsIHtcbiAgICAgICAgICBhYm9ydFJlYXNvbjogZixcbiAgICAgICAgICBhYm9ydFNpZ25hbDogbSxcbiAgICAgICAgICBpc0Fib3J0ZWQ6ICQsXG4gICAgICAgICAgaXNSZXNvbHZlZDogSSxcbiAgICAgICAgICBvbkFib3J0ZWQ6IGssXG4gICAgICAgICAgb25SZXNvbHZlZDogKGopID0+IGsoKCkgPT4ge1xuICAgICAgICAgICAgSSgpICYmIGooUigpKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZXNvbHZlZDogUixcbiAgICAgICAgICB0aHJvd0lmQWJvcnRlZCgpIHtcbiAgICAgICAgICAgIGlmICgkKCkpXG4gICAgICAgICAgICAgIHRocm93IGYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkIGluc3RhbmNlb2YgUHJvbWlzZSAmJiBkLmNhdGNoKHIpO1xuICAgICAgfSBjYXRjaCAoZCkge1xuICAgICAgICByKGQpO1xuICAgICAgfVxuICAgIH0pLCBXdCh0aGlzLCBcImFib3J0XCIpLCBXdCh0aGlzLCBcInJlamVjdFwiKSwgdGhpcy5hYm9ydCA9IHMsIHRoaXMucmVqZWN0ID0gcjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBYm9ydGFibGVQcm9taXNlIGluc3RhbmNlIHVzaW5nIGFuIGV4ZWN1dG9yLCByZXNvbHZpbmcgdGhlIHByb21pc2Ugd2hlbiBhIHJlc3VsdFxuICAgKiB3YXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSBmbiAtIGZ1bmN0aW9uIHJldHVybmluZyBwcm9taXNlIHJlc3VsdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgZm4odCwgbikge1xuICAgIHJldHVybiBuZXcgVXQoYXN5bmMgKHIsIHMsIG8pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHIoYXdhaXQgdChvKSk7XG4gICAgICB9IGNhdGNoIChhKSB7XG4gICAgICAgIHMoYSk7XG4gICAgICB9XG4gICAgfSwgbik7XG4gIH1cbiAgc3RhdGljIHJlc29sdmUodCkge1xuICAgIHJldHVybiB0aGlzLmZuKCgpID0+IHQpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIFByb21pc2UucmVqZWN0XG4gICAqL1xuICBzdGF0aWMgcmVqZWN0KHQpIHtcbiAgICByZXR1cm4gbmV3IFV0KChuLCByKSA9PiB7XG4gICAgICByKHQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIHByb21pc2Ugd2l0aCB0aGUgY2FuY2VsIGVycm9yLlxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuYWJvcnQobmV3IFhhKCkpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIFByb21pc2UuY2F0Y2hcbiAgICovXG4gIGNhdGNoKHQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS5maW5hbGx5XG4gICAqL1xuICBmaW5hbGx5KHQpIHtcbiAgICByZXR1cm4gU3Ioc3VwZXIuZmluYWxseSh0KSwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS50aGVuXG4gICAqL1xuICB0aGVuKHQsIG4pIHtcbiAgICByZXR1cm4gU3Ioc3VwZXIudGhlbih0LCBuKSwgdGhpcyk7XG4gIH1cbn07XG5mdW5jdGlvbiBDcihlLCB0KSB7XG4gIHJldHVybiBlLnJlc29sdmUgPSB0LnJlc29sdmUsIGU7XG59XG5sZXQgQ2YgPSBjbGFzcyB6dCBleHRlbmRzIGZuIHtcbiAgY29uc3RydWN0b3IodCwgbikge1xuICAgIGxldCByLCBzO1xuICAgIHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIiA/IChyID0gdCwgcyA9IG4pIDogcyA9IHQ7XG4gICAgbGV0IG87XG4gICAgc3VwZXIoKGEsIGksIHUpID0+IHtcbiAgICAgIG8gPSBhLCByICYmIHIoYSwgaSwgdSk7XG4gICAgfSwgcyksIFd0KHRoaXMsIFwicmVzb2x2ZVwiKSwgdGhpcy5yZXNvbHZlID0gbztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBNYW51YWxQcm9taXNlIGluc3RhbmNlIHVzaW5nIGFuIGV4ZWN1dG9yLCByZXNvbHZpbmcgdGhlIHByb21pc2Ugd2hlbiBhIHJlc3VsdFxuICAgKiB3YXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSBmbiAtIGZ1bmN0aW9uIHJldHVybmluZyBwcm9taXNlIHJlc3VsdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgZm4odCwgbikge1xuICAgIHJldHVybiBuZXcgenQoKHIsIHMsIG8pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh0KG8pKS50aGVuKHIsIHMpO1xuICAgICAgfSBjYXRjaCAoYSkge1xuICAgICAgICBzKGEpO1xuICAgICAgfVxuICAgIH0sIG4pO1xuICB9XG4gIHN0YXRpYyByZXNvbHZlKHQpIHtcbiAgICByZXR1cm4gdGhpcy5mbigoKSA9PiB0KTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLnJlamVjdFxuICAgKi9cbiAgc3RhdGljIHJlamVjdCh0KSB7XG4gICAgcmV0dXJuIG5ldyB6dCgobiwgcikgPT4ge1xuICAgICAgcih0KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLmNhdGNoXG4gICAqL1xuICBjYXRjaCh0KSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIFByb21pc2UuZmluYWxseVxuICAgKi9cbiAgZmluYWxseSh0KSB7XG4gICAgcmV0dXJuIENyKHN1cGVyLmZpbmFsbHkodCksIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIFByb21pc2UudGhlblxuICAgKi9cbiAgdGhlbih0LCBuKSB7XG4gICAgcmV0dXJuIENyKHN1cGVyLnRoZW4odCwgbiksIHRoaXMpO1xuICB9XG59O1xuZnVuY3Rpb24gbmkoZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC9fW2Etel0vZywgKHQpID0+IHRbMV0udG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiByaShlKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKHQsIFtuLCByXSkgPT4gKHRbbmkobildID0gciwgdCksIHt9KTtcbn1cbmZ1bmN0aW9uIEd0KGUpIHtcbiAgY29uc3QgdCA9IHJpKGUpO1xuICBmb3IgKGNvbnN0IG4gaW4gdCkge1xuICAgIGNvbnN0IHIgPSB0W25dO1xuICAgIHIgJiYgdHlwZW9mIHIgPT0gXCJvYmplY3RcIiAmJiAhKHIgaW5zdGFuY2VvZiBEYXRlKSAmJiAodFtuXSA9IEFycmF5LmlzQXJyYXkocikgPyByLm1hcChHdCkgOiBHdChyKSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBocyhlKSB7XG4gIHJldHVybiBgdGFwcHMvJHtlfWA7XG59XG5mdW5jdGlvbiBfcyhlLCB0KSB7XG4gIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oaHMoZSksIEpTT04uc3RyaW5naWZ5KHQpKTtcbn1cbmZ1bmN0aW9uIHNpKGUpIHtcbiAgY29uc3QgdCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaHMoZSkpO1xuICB0cnkge1xuICAgIHJldHVybiB0ID8gSlNPTi5wYXJzZSh0KSA6IHZvaWQgMDtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbmZ1bmN0aW9uIG9pKC4uLmUpIHtcbiAgY29uc3QgdCA9IGUuZmxhdCgxKTtcbiAgcmV0dXJuIFtcbiAgICB0LnB1c2guYmluZCh0KSxcbiAgICAoKSA9PiB7XG4gICAgICB0LmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgbigpO1xuICAgICAgfSk7XG4gICAgfVxuICBdO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGFpKGUsIHQpIHtcbiAgdCB8fCAodCA9IHt9KTtcbiAgY29uc3Qge1xuICAgIHRleHRDb2xvcjogbixcbiAgICBiZ0NvbG9yOiByLFxuICAgIHNob3VsZExvZzogc1xuICB9ID0gdCwgbyA9IHMgPT09IHZvaWQgMCA/ICEwIDogcywgYSA9IHR5cGVvZiBvID09IFwiYm9vbGVhblwiID8gKCkgPT4gbyA6IG87XG4gIGZ1bmN0aW9uIGkodSwgYywgLi4ubCkge1xuICAgIGlmIChjIHx8IGEoKSkge1xuICAgICAgY29uc3QgcCA9IFwiZm9udC13ZWlnaHQ6Ym9sZDtwYWRkaW5nOjAgNXB4O2JvcmRlci1yYWRpdXM6NXB4XCI7XG4gICAgICBjb25zb2xlW3VdKFxuICAgICAgICBgJWMke0ludGwuRGF0ZVRpbWVGb3JtYXQoXCJlbi1HQlwiLCB7XG4gICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICAgICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDMsXG4gICAgICAgICAgdGltZVpvbmU6IFwiVVRDXCJcbiAgICAgICAgfSkuZm9ybWF0KC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKX0lYyAvICVjJHtlfWAsXG4gICAgICAgIGAke3B9O2JhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtjb2xvcjpibGFja2AsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIGAke3B9OyR7biA/IGBjb2xvcjoke259O2AgOiBcIlwifSR7ciA/IGBiYWNrZ3JvdW5kLWNvbG9yOiR7cn1gIDogXCJcIn1gLFxuICAgICAgICAuLi5sXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW2kuYmluZCh2b2lkIDAsIFwibG9nXCIpLCBpLmJpbmQodm9pZCAwLCBcImVycm9yXCIpXTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBicyhlKSB7XG4gIHJldHVybiB7XG4gICAgbGFuZzogKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUubGFuZykgPz8gdm9pZCAwLFxuICAgIG1lc3NhZ2U6IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUubWVzc2FnZSxcbiAgICBhYm9ydEVhcmx5OiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5hYm9ydEVhcmx5KSA/PyB2b2lkIDAsXG4gICAgYWJvcnRQaXBlRWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0UGlwZUVhcmx5KSA/PyB2b2lkIDBcbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBpaShlLCB0KSB7XG4gIHZhciBuO1xuICByZXR1cm4gKG4gPSB2b2lkIDApID09IG51bGwgPyB2b2lkIDAgOiBuLmdldCh0KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiB1aShlKSB7XG4gIHZhciB0LCBuO1xuICBjb25zdCByID0gdHlwZW9mIGU7XG4gIHJldHVybiByID09PSBcInN0cmluZ1wiID8gYFwiJHtlfVwiYCA6IHIgPT09IFwibnVtYmVyXCIgfHwgciA9PT0gXCJiaWdpbnRcIiB8fCByID09PSBcImJvb2xlYW5cIiA/IGAke2V9YCA6IHIgPT09IFwib2JqZWN0XCIgfHwgciA9PT0gXCJmdW5jdGlvblwiID8gKGUgJiYgKChuID0gKHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpID09IG51bGwgPyB2b2lkIDAgOiB0LmNvbnN0cnVjdG9yKSA9PSBudWxsID8gdm9pZCAwIDogbi5uYW1lKSkgPz8gXCJudWxsXCIgOiByO1xufVxuZnVuY3Rpb24gcShlLCB0LCBuLCByLCBzKSB7XG4gIGNvbnN0IG8gPSBzICYmIFwiaW5wdXRcIiBpbiBzID8gcy5pbnB1dCA6IG4udmFsdWUsIGEgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5leHBlY3RlZCkgPz8gZS5leHBlY3RzID8/IG51bGwsIGkgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5yZWNlaXZlZCkgPz8gLyogQF9fUFVSRV9fICovIHVpKG8pLCB1ID0ge1xuICAgIGtpbmQ6IGUua2luZCxcbiAgICB0eXBlOiBlLnR5cGUsXG4gICAgaW5wdXQ6IG8sXG4gICAgZXhwZWN0ZWQ6IGEsXG4gICAgcmVjZWl2ZWQ6IGksXG4gICAgbWVzc2FnZTogYEludmFsaWQgJHt0fTogJHthID8gYEV4cGVjdGVkICR7YX0gYnV0IHJgIDogXCJSXCJ9ZWNlaXZlZCAke2l9YCxcbiAgICByZXF1aXJlbWVudDogZS5yZXF1aXJlbWVudCxcbiAgICBwYXRoOiBzID09IG51bGwgPyB2b2lkIDAgOiBzLnBhdGgsXG4gICAgaXNzdWVzOiBzID09IG51bGwgPyB2b2lkIDAgOiBzLmlzc3VlcyxcbiAgICBsYW5nOiByLmxhbmcsXG4gICAgYWJvcnRFYXJseTogci5hYm9ydEVhcmx5LFxuICAgIGFib3J0UGlwZUVhcmx5OiByLmFib3J0UGlwZUVhcmx5XG4gIH0sIGMgPSBlLmtpbmQgPT09IFwic2NoZW1hXCIsIGwgPSAocyA9PSBudWxsID8gdm9pZCAwIDogcy5tZXNzYWdlKSA/PyBlLm1lc3NhZ2UgPz8gLyogQF9fUFVSRV9fICovIGlpKGUucmVmZXJlbmNlLCB1LmxhbmcpID8/IChjID8gKHUubGFuZywgdm9pZCAwKSA6IG51bGwpID8/IHIubWVzc2FnZSA/PyAodS5sYW5nLCB2b2lkIDApO1xuICBsICYmICh1Lm1lc3NhZ2UgPSB0eXBlb2YgbCA9PSBcImZ1bmN0aW9uXCIgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGwodSlcbiAgKSA6IGwpLCBjICYmIChuLnR5cGVkID0gITEpLCBuLmlzc3VlcyA/IG4uaXNzdWVzLnB1c2godSkgOiBuLmlzc3VlcyA9IFt1XTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBGKGUpIHtcbiAgcmV0dXJuIHtcbiAgICB2ZXJzaW9uOiAxLFxuICAgIHZlbmRvcjogXCJ2YWxpYm90XCIsXG4gICAgdmFsaWRhdGUodCkge1xuICAgICAgcmV0dXJuIGVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgLyogQF9fUFVSRV9fICovIGJzKCkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiB5cyhlLCB0KSB7XG4gIHJldHVybiBPYmplY3QuaGFzT3duKGUsIHQpICYmIHQgIT09IFwiX19wcm90b19fXCIgJiYgdCAhPT0gXCJwcm90b3R5cGVcIiAmJiB0ICE9PSBcImNvbnN0cnVjdG9yXCI7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gY2koZSwgdCkge1xuICBjb25zdCBuID0gWy4uLm5ldyBTZXQoZSldO1xuICByZXR1cm4gbi5sZW5ndGggPiAxID8gYCgke24uam9pbihgICR7dH0gYCl9KWAgOiBuWzBdID8/IFwibmV2ZXJcIjtcbn1cbnZhciBsaSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFZhbGlib3QgZXJyb3Igd2l0aCB1c2VmdWwgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBpc3N1ZXMgVGhlIGVycm9yIGlzc3Vlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlWzBdLm1lc3NhZ2UpLCB0aGlzLm5hbWUgPSBcIlZhbGlFcnJvclwiLCB0aGlzLmlzc3VlcyA9IGU7XG4gIH1cbn07XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZ3MoZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwidmFsaWRhdGlvblwiLFxuICAgIHR5cGU6IFwiY2hlY2tcIixcbiAgICByZWZlcmVuY2U6IGdzLFxuICAgIGFzeW5jOiAhMSxcbiAgICBleHBlY3RzOiBudWxsLFxuICAgIHJlcXVpcmVtZW50OiBlLFxuICAgIG1lc3NhZ2U6IHQsXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udHlwZWQgJiYgIXRoaXMucmVxdWlyZW1lbnQobi52YWx1ZSkgJiYgcSh0aGlzLCBcImlucHV0XCIsIG4sIHIpLCBuO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiB2cyhlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJ2YWxpZGF0aW9uXCIsXG4gICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgcmVmZXJlbmNlOiB2cyxcbiAgICBhc3luYzogITEsXG4gICAgZXhwZWN0czogbnVsbCxcbiAgICByZXF1aXJlbWVudDogTnVtYmVyLmlzSW50ZWdlcixcbiAgICBtZXNzYWdlOiBlLFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0LnR5cGVkICYmICF0aGlzLnJlcXVpcmVtZW50KHQudmFsdWUpICYmIHEodGhpcywgXCJpbnRlZ2VyXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBvZShlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJ0cmFuc2Zvcm1hdGlvblwiLFxuICAgIHR5cGU6IFwidHJhbnNmb3JtXCIsXG4gICAgcmVmZXJlbmNlOiBvZSxcbiAgICBhc3luYzogITEsXG4gICAgb3BlcmF0aW9uOiBlLFxuICAgIFwifnJ1blwiKHQpIHtcbiAgICAgIHJldHVybiB0LnZhbHVlID0gdGhpcy5vcGVyYXRpb24odC52YWx1ZSksIHQ7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHdzKGUsIHQsIG4pIHtcbiAgcmV0dXJuIHR5cGVvZiBlLmRlZmF1bHQgPT0gXCJmdW5jdGlvblwiID8gKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBlLmRlZmF1bHQodCwgbilcbiAgKSA6IChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgZS5kZWZhdWx0XG4gICk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gcGkoZSwgdCkge1xuICByZXR1cm4gIWVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgeyBhYm9ydEVhcmx5OiAhMCB9KS5pc3N1ZXM7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gQmUoZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgcmVmZXJlbmNlOiBCZSxcbiAgICBleHBlY3RzOiBcImJvb2xlYW5cIixcbiAgICBhc3luYzogITEsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdC52YWx1ZSA9PSBcImJvb2xlYW5cIiA/IHQudHlwZWQgPSAhMCA6IHEodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBFcyhlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImRhdGVcIixcbiAgICByZWZlcmVuY2U6IEVzLFxuICAgIGV4cGVjdHM6IFwiRGF0ZVwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBGKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHQudmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gaXNOYU4odC52YWx1ZSkgPyBxKHRoaXMsIFwidHlwZVwiLCB0LCBuLCB7XG4gICAgICAgIHJlY2VpdmVkOiAnXCJJbnZhbGlkIERhdGVcIidcbiAgICAgIH0pIDogdC50eXBlZCA9ICEwIDogcSh0aGlzLCBcInR5cGVcIiwgdCwgbiksIHQ7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uICRzKGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwiaW5zdGFuY2VcIixcbiAgICByZWZlcmVuY2U6ICRzLFxuICAgIGV4cGVjdHM6IGUubmFtZSxcbiAgICBhc3luYzogITEsXG4gICAgY2xhc3M6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHJldHVybiBuLnZhbHVlIGluc3RhbmNlb2YgdGhpcy5jbGFzcyA/IG4udHlwZWQgPSAhMCA6IHEodGhpcywgXCJ0eXBlXCIsIG4sIHIpLCBuO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBtbihlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImxhenlcIixcbiAgICByZWZlcmVuY2U6IG1uLFxuICAgIGV4cGVjdHM6IFwidW5rbm93blwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBnZXR0ZXI6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIEYodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXR0ZXIodC52YWx1ZSlbXCJ+cnVuXCJdKHQsIG4pO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBTZShlLCB0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImxvb3NlX29iamVjdFwiLFxuICAgIHJlZmVyZW5jZTogU2UsXG4gICAgZXhwZWN0czogXCJPYmplY3RcIixcbiAgICBhc3luYzogITEsXG4gICAgZW50cmllczogZSxcbiAgICBtZXNzYWdlOiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBGKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgdmFyIHM7XG4gICAgICBjb25zdCBvID0gbi52YWx1ZTtcbiAgICAgIGlmIChvICYmIHR5cGVvZiBvID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgbi50eXBlZCA9ICEwLCBuLnZhbHVlID0ge307XG4gICAgICAgIGZvciAoY29uc3QgYSBpbiB0aGlzLmVudHJpZXMpIHtcbiAgICAgICAgICBjb25zdCBpID0gdGhpcy5lbnRyaWVzW2FdO1xuICAgICAgICAgIGlmIChhIGluIG8gfHwgKGkudHlwZSA9PT0gXCJleGFjdF9vcHRpb25hbFwiIHx8IGkudHlwZSA9PT0gXCJvcHRpb25hbFwiIHx8IGkudHlwZSA9PT0gXCJudWxsaXNoXCIpICYmIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICBpLmRlZmF1bHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgdSA9IGEgaW4gbyA/IChcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICBvW2FdXG4gICAgICAgICAgICApIDogLyogQF9fUFVSRV9fICovIHdzKGkpLCBjID0gaVtcIn5ydW5cIl0oeyB2YWx1ZTogdSB9LCByKTtcbiAgICAgICAgICAgIGlmIChjLmlzc3Vlcykge1xuICAgICAgICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG8sXG4gICAgICAgICAgICAgICAga2V5OiBhLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB1XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBjLmlzc3VlcylcbiAgICAgICAgICAgICAgICBwLnBhdGggPyBwLnBhdGgudW5zaGlmdChsKSA6IHAucGF0aCA9IFtsXSwgKHMgPSBuLmlzc3VlcykgPT0gbnVsbCB8fCBzLnB1c2gocCk7XG4gICAgICAgICAgICAgIGlmIChuLmlzc3VlcyB8fCAobi5pc3N1ZXMgPSBjLmlzc3VlcyksIHIuYWJvcnRFYXJseSkge1xuICAgICAgICAgICAgICAgIG4udHlwZWQgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYy50eXBlZCB8fCAobi50eXBlZCA9ICExKSwgbi52YWx1ZVthXSA9IGMudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChpLnR5cGUgIT09IFwiZXhhY3Rfb3B0aW9uYWxcIiAmJiBpLnR5cGUgIT09IFwib3B0aW9uYWxcIiAmJiBpLnR5cGUgIT09IFwibnVsbGlzaFwiICYmIChxKHRoaXMsIFwia2V5XCIsIG4sIHIsIHtcbiAgICAgICAgICAgIGlucHV0OiB2b2lkIDAsXG4gICAgICAgICAgICBleHBlY3RlZDogYFwiJHthfVwiYCxcbiAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBvLFxuICAgICAgICAgICAgICAgIGtleTogYSxcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgdmFsdWU6IG9bYV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pLCByLmFib3J0RWFybHkpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuLmlzc3VlcyB8fCAhci5hYm9ydEVhcmx5KVxuICAgICAgICAgIGZvciAoY29uc3QgYSBpbiBvKVxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIHlzKG8sIGEpICYmICEoYSBpbiB0aGlzLmVudHJpZXMpICYmIChuLnZhbHVlW2FdID0gb1thXSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgcSh0aGlzLCBcInR5cGVcIiwgbiwgcik7XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gc3QoZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICByZWZlcmVuY2U6IHN0LFxuICAgIGV4cGVjdHM6IFwibnVtYmVyXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIEYodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHQudmFsdWUgPT0gXCJudW1iZXJcIiAmJiAhaXNOYU4odC52YWx1ZSkgPyB0LnR5cGVkID0gITAgOiBxKHRoaXMsIFwidHlwZVwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdihlLCB0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgcmVmZXJlbmNlOiB2LFxuICAgIGV4cGVjdHM6IGAoJHtlLmV4cGVjdHN9IHwgdW5kZWZpbmVkKWAsXG4gICAgYXN5bmM6ICExLFxuICAgIHdyYXBwZWQ6IGUsXG4gICAgZGVmYXVsdDogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHJldHVybiBuLnZhbHVlID09PSB2b2lkIDAgJiYgKHRoaXMuZGVmYXVsdCAhPT0gdm9pZCAwICYmIChuLnZhbHVlID0gLyogQF9fUFVSRV9fICovIHdzKHRoaXMsIG4sIHIpKSwgbi52YWx1ZSA9PT0gdm9pZCAwKSA/IChuLnR5cGVkID0gITAsIG4pIDogdGhpcy53cmFwcGVkW1wifnJ1blwiXShuLCByKTtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gU3MoZSwgdCwgbikge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICByZWZlcmVuY2U6IFNzLFxuICAgIGV4cGVjdHM6IFwiT2JqZWN0XCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGtleTogZSxcbiAgICB2YWx1ZTogdCxcbiAgICBtZXNzYWdlOiBuLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBGKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIociwgcykge1xuICAgICAgdmFyIG8sIGE7XG4gICAgICBjb25zdCBpID0gci52YWx1ZTtcbiAgICAgIGlmIChpICYmIHR5cGVvZiBpID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgci50eXBlZCA9ICEwLCByLnZhbHVlID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdSBpbiBpKVxuICAgICAgICAgIGlmICgvKiBAX19QVVJFX18gKi8geXMoaSwgdSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBpW3VdLCBsID0gdGhpcy5rZXlbXCJ+cnVuXCJdKHsgdmFsdWU6IHUgfSwgcyk7XG4gICAgICAgICAgICBpZiAobC5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogaSxcbiAgICAgICAgICAgICAgICBrZXk6IHUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGwuaXNzdWVzKVxuICAgICAgICAgICAgICAgIGYucGF0aCA9IFttXSwgKG8gPSByLmlzc3VlcykgPT0gbnVsbCB8fCBvLnB1c2goZik7XG4gICAgICAgICAgICAgIGlmIChyLmlzc3VlcyB8fCAoci5pc3N1ZXMgPSBsLmlzc3VlcyksIHMuYWJvcnRFYXJseSkge1xuICAgICAgICAgICAgICAgIHIudHlwZWQgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMudmFsdWVbXCJ+cnVuXCJdKFxuICAgICAgICAgICAgICB7IHZhbHVlOiBjIH0sXG4gICAgICAgICAgICAgIHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocC5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBpLFxuICAgICAgICAgICAgICAgIGtleTogdSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5pc3N1ZXMpXG4gICAgICAgICAgICAgICAgZi5wYXRoID8gZi5wYXRoLnVuc2hpZnQobSkgOiBmLnBhdGggPSBbbV0sIChhID0gci5pc3N1ZXMpID09IG51bGwgfHwgYS5wdXNoKGYpO1xuICAgICAgICAgICAgICBpZiAoci5pc3N1ZXMgfHwgKHIuaXNzdWVzID0gcC5pc3N1ZXMpLCBzLmFib3J0RWFybHkpIHtcbiAgICAgICAgICAgICAgICByLnR5cGVkID0gITE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICghbC50eXBlZCB8fCAhcC50eXBlZCkgJiYgKHIudHlwZWQgPSAhMSksIGwudHlwZWQgJiYgKHIudmFsdWVbbC52YWx1ZV0gPSBwLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2VcbiAgICAgICAgcSh0aGlzLCBcInR5cGVcIiwgciwgcyk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24geShlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHJlZmVyZW5jZTogeSxcbiAgICBleHBlY3RzOiBcInN0cmluZ1wiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBGKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0LnZhbHVlID09IFwic3RyaW5nXCIgPyB0LnR5cGVkID0gITAgOiBxKHRoaXMsIFwidHlwZVwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gQXIoZSkge1xuICBsZXQgdDtcbiAgaWYgKGUpXG4gICAgZm9yIChjb25zdCBuIG9mIGUpXG4gICAgICB0ID8gdC5wdXNoKC4uLm4uaXNzdWVzKSA6IHQgPSBuLmlzc3VlcztcbiAgcmV0dXJuIHQ7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gaG4oZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJ1bmlvblwiLFxuICAgIHJlZmVyZW5jZTogaG4sXG4gICAgZXhwZWN0czogLyogQF9fUFVSRV9fICovIGNpKFxuICAgICAgZS5tYXAoKG4pID0+IG4uZXhwZWN0cyksXG4gICAgICBcInxcIlxuICAgICksXG4gICAgYXN5bmM6ICExLFxuICAgIG9wdGlvbnM6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIGxldCBzLCBvLCBhO1xuICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMub3B0aW9ucykge1xuICAgICAgICBjb25zdCB1ID0gaVtcIn5ydW5cIl0oeyB2YWx1ZTogbi52YWx1ZSB9LCByKTtcbiAgICAgICAgaWYgKHUudHlwZWQpXG4gICAgICAgICAgaWYgKHUuaXNzdWVzKVxuICAgICAgICAgICAgbyA/IG8ucHVzaCh1KSA6IG8gPSBbdV07XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gdTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGEgPyBhLnB1c2godSkgOiBhID0gW3VdO1xuICAgICAgfVxuICAgICAgaWYgKHMpXG4gICAgICAgIHJldHVybiBzO1xuICAgICAgaWYgKG8pIHtcbiAgICAgICAgaWYgKG8ubGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBvWzBdO1xuICAgICAgICBxKHRoaXMsIFwidHlwZVwiLCBuLCByLCB7XG4gICAgICAgICAgaXNzdWVzOiAvKiBAX19QVVJFX18gKi8gQXIobylcbiAgICAgICAgfSksIG4udHlwZWQgPSAhMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgoYSA9PSBudWxsID8gdm9pZCAwIDogYS5sZW5ndGgpID09PSAxKVxuICAgICAgICAgIHJldHVybiBhWzBdO1xuICAgICAgICBxKHRoaXMsIFwidHlwZVwiLCBuLCByLCB7XG4gICAgICAgICAgaXNzdWVzOiAvKiBAX19QVVJFX18gKi8gQXIoYSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gQ3MoKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInVua25vd25cIixcbiAgICByZWZlcmVuY2U6IENzLFxuICAgIGV4cGVjdHM6IFwidW5rbm93blwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKGUpIHtcbiAgICAgIHJldHVybiBlLnR5cGVkID0gITAsIGU7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gQXMoZSwgdCwgbikge1xuICBjb25zdCByID0gZVtcIn5ydW5cIl0oeyB2YWx1ZTogdCB9LCAvKiBAX19QVVJFX18gKi8gYnMobikpO1xuICBpZiAoci5pc3N1ZXMpXG4gICAgdGhyb3cgbmV3IGxpKHIuaXNzdWVzKTtcbiAgcmV0dXJuIHIudmFsdWU7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gYWUoLi4uZSkge1xuICByZXR1cm4ge1xuICAgIC4uLmVbMF0sXG4gICAgcGlwZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gRih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIGZvciAoY29uc3QgciBvZiBlKVxuICAgICAgICBpZiAoci5raW5kICE9PSBcIm1ldGFkYXRhXCIpIHtcbiAgICAgICAgICBpZiAodC5pc3N1ZXMgJiYgKHIua2luZCA9PT0gXCJzY2hlbWFcIiB8fCByLmtpbmQgPT09IFwidHJhbnNmb3JtYXRpb25cIikpIHtcbiAgICAgICAgICAgIHQudHlwZWQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAoIXQuaXNzdWVzIHx8ICFuLmFib3J0RWFybHkgJiYgIW4uYWJvcnRQaXBlRWFybHkpICYmICh0ID0gcltcIn5ydW5cIl0odCwgbikpO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBkaShlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL19bYS16XS9nLCAodCkgPT4gdFsxXS50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGZpKGUpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLnJlZHVjZSgodCwgW24sIHJdKSA9PiAodFtkaShuKV0gPSByLCB0KSwge30pO1xufVxuZnVuY3Rpb24gUXQoZSkge1xuICBjb25zdCB0ID0gZmkoZSk7XG4gIGZvciAoY29uc3QgbiBpbiB0KSB7XG4gICAgY29uc3QgciA9IHRbbl07XG4gICAgciAmJiB0eXBlb2YgciA9PSBcIm9iamVjdFwiICYmICEociBpbnN0YW5jZW9mIERhdGUpICYmICh0W25dID0gQXJyYXkuaXNBcnJheShyKSA/IHIubWFwKFF0KSA6IFF0KHIpKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIF9uKGUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBvZSgodCkgPT4gZSA/IFF0KHQpIDogdCk7XG59XG5mdW5jdGlvbiBrcyhlKSB7XG4gIHJldHVybiAodCkgPT4gLyogQF9fUFVSRV9fICovIGFlKFxuICAgIGUsXG4gICAgX24odClcbiAgKTtcbn1cbmZ1bmN0aW9uIG1pKGUpIHtcbiAgcmV0dXJuICh0LCBuKSA9PiBBcyhcbiAgICAvKiBAX19QVVJFX18gKi8gYWUoZSwgX24obikpLFxuICAgIHRcbiAgKTtcbn1cbmZ1bmN0aW9uIGJuKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIG9lKEpTT04ucGFyc2UpO1xufVxuZnVuY3Rpb24geW4oZSkge1xuICBjb25zdCB0ID0ga3MoZSk7XG4gIHJldHVybiAobikgPT4gLyogQF9fUFVSRV9fICovIGFlKFxuICAgIC8qIEBfX1BVUkVfXyAqLyB5KCksXG4gICAgYm4oKSxcbiAgICB0KG4pXG4gICk7XG59XG5mdW5jdGlvbiBoaShlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gb2UoKHQpID0+IHtcbiAgICBjb25zdCBuID0ge307XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXModCkuZm9yRWFjaCgociwgcykgPT4ge1xuICAgICAgY29uc3QgbyA9IG5bc107XG4gICAgICBBcnJheS5pc0FycmF5KG8pID8gby5wdXNoKHIpIDogbyA9PT0gdm9pZCAwID8gbltzXSA9IHIgOiBuW3NdID0gW28sIHJdO1xuICAgIH0pLCBBcyhlLCBuKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBNcyhlKSB7XG4gIHJldHVybiAodCkgPT4gLyogQF9fUFVSRV9fICovIGFlKFxuICAgIC8qIEBfX1BVUkVfXyAqLyBobihbLyogQF9fUFVSRV9fICovIHkoKSwgLyogQF9fUFVSRV9fICovICRzKFVSTFNlYXJjaFBhcmFtcyldKSxcbiAgICBoaShlKSxcbiAgICBfbih0KVxuICApO1xufVxuY29uc3Qga3IgPSAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8gbW4oKCkgPT4gdmkoKSkpLCBfaSA9IC8qIEBfX1BVUkVfXyAqLyBTZSh7XG4gIGlkOiAvKiBAX19QVVJFX18gKi8gc3QoKSxcbiAgcGhvdG9fdXJsOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8geSgpKSxcbiAgdHlwZTogLyogQF9fUFVSRV9fICovIHkoKSxcbiAgdGl0bGU6IC8qIEBfX1BVUkVfXyAqLyB5KCksXG4gIHVzZXJuYW1lOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8geSgpKVxufSksIGJpID0gLyogQF9fUFVSRV9fICovIFNlKHtcbiAgYWRkZWRfdG9fYXR0YWNobWVudF9tZW51OiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8gQmUoKSksXG4gIGFsbG93c193cml0ZV90b19wbTogLyogQF9fUFVSRV9fICovIHYoLyogQF9fUFVSRV9fICovIEJlKCkpLFxuICBmaXJzdF9uYW1lOiAvKiBAX19QVVJFX18gKi8geSgpLFxuICBpZDogLyogQF9fUFVSRV9fICovIHN0KCksXG4gIGlzX2JvdDogLyogQF9fUFVSRV9fICovIHYoLyogQF9fUFVSRV9fICovIEJlKCkpLFxuICBpc19wcmVtaXVtOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8gQmUoKSksXG4gIGxhc3RfbmFtZTogLyogQF9fUFVSRV9fICovIHYoLyogQF9fUFVSRV9fICovIHkoKSksXG4gIGxhbmd1YWdlX2NvZGU6IC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyB5KCkpLFxuICBwaG90b191cmw6IC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyB5KCkpLFxuICB1c2VybmFtZTogLyogQF9fUFVSRV9fICovIHYoLyogQF9fUFVSRV9fICovIHkoKSlcbn0pLCB5aSA9IC8qIEBfX1BVUkVfXyAqLyBTZSh7XG4gIGF1dGhfZGF0ZTogLyogQF9fUFVSRV9fICovIGFlKFxuICAgIC8qIEBfX1BVUkVfXyAqLyB5KCksXG4gICAgLyogQF9fUFVSRV9fICovIG9lKChlKSA9PiBuZXcgRGF0ZShOdW1iZXIoZSkgKiAxZTMpKSxcbiAgICAvKiBAX19QVVJFX18gKi8gRXMoKVxuICApLFxuICBjYW5fc2VuZF9hZnRlcjogLyogQF9fUFVSRV9fICovIHYoLyogQF9fUFVSRV9fICovIGFlKC8qIEBfX1BVUkVfXyAqLyB5KCksIC8qIEBfX1BVUkVfXyAqLyBvZShOdW1iZXIpLCAvKiBAX19QVVJFX18gKi8gdnMoKSkpLFxuICBjaGF0OiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8gbW4oKCkgPT4gZ2koKSkpLFxuICBjaGF0X3R5cGU6IC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyB5KCkpLFxuICBjaGF0X2luc3RhbmNlOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8geSgpKSxcbiAgaGFzaDogLyogQF9fUFVSRV9fICovIHkoKSxcbiAgcXVlcnlfaWQ6IC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyB5KCkpLFxuICByZWNlaXZlcjoga3IsXG4gIHN0YXJ0X3BhcmFtOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8geSgpKSxcbiAgc2lnbmF0dXJlOiAvKiBAX19QVVJFX18gKi8geSgpLFxuICB1c2VyOiBrclxufSksIGdpID0geW4oX2kpLCB2aSA9IHluKGJpKSwgd2kgPSBNcyh5aSk7XG5mdW5jdGlvbiBFaShlKSB7XG4gIHJldHVybiAvXiNbXFxkYS1mXXs2fSQvaS50ZXN0KGUpO1xufVxuY29uc3QgUHMgPSBrcyhcbiAgLyogQF9fUFVSRV9fICovIFNzKFxuICAgIC8qIEBfX1BVUkVfXyAqLyB5KCksXG4gICAgLyogQF9fUFVSRV9fICovIGFlKFxuICAgICAgLyogQF9fUFVSRV9fICovIGhuKFsvKiBAX19QVVJFX18gKi8geSgpLCAvKiBAX19QVVJFX18gKi8gc3QoKV0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIG9lKChlKSA9PiB0eXBlb2YgZSA9PSBcIm51bWJlclwiID8gYCMkeyhlICYgMTY3NzcyMTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCBcIjBcIil9YCA6IGUpLFxuICAgICAgLyogQF9fUFVSRV9fICovIGdzKEVpKVxuICAgIClcbiAgKVxuKSwgTXQgPSAvKiBAX19QVVJFX18gKi8gdihcbiAgLyogQF9fUFVSRV9fICovIGFlKC8qIEBfX1BVUkVfXyAqLyB5KCksIC8qIEBfX1BVUkVfXyAqLyBvZSgoZSkgPT4gZSA9PT0gXCIxXCIpKVxuKSwgTXIgPSB5bihQcygpKSwgJGkgPSAvKiBAX19QVVJFX18gKi8gU2Uoe1xuICB0Z1dlYkFwcEJvdElubGluZTogTXQsXG4gIHRnV2ViQXBwRGF0YTogLyogQF9fUFVSRV9fICovIHYod2koKSksXG4gIHRnV2ViQXBwRGVmYXVsdENvbG9yczogLyogQF9fUFVSRV9fICovIHYoTXIoKSksXG4gIHRnV2ViQXBwRnVsbHNjcmVlbjogTXQsXG4gIHRnV2ViQXBwUGxhdGZvcm06IC8qIEBfX1BVUkVfXyAqLyB5KCksXG4gIHRnV2ViQXBwU2hvd1NldHRpbmdzOiBNdCxcbiAgdGdXZWJBcHBTdGFydFBhcmFtOiAvKiBAX19QVVJFX18gKi8gdigvKiBAX19QVVJFX18gKi8geSgpKSxcbiAgdGdXZWJBcHBUaGVtZVBhcmFtczogTXIoKSxcbiAgdGdXZWJBcHBWZXJzaW9uOiAvKiBAX19QVVJFX18gKi8geSgpXG59KSwgeHMgPSBNcygkaSksIGduID0gbWkoeHMoKSksIFRzID0gLyogQF9fUFVSRV9fICovIFNlKHtcbiAgZXZlbnRUeXBlOiAvKiBAX19QVVJFX18gKi8geSgpLFxuICBldmVudERhdGE6IC8qIEBfX1BVUkVfXyAqLyB2KC8qIEBfX1BVUkVfXyAqLyBDcygpKVxufSk7XG5mdW5jdGlvbiBCcyhlLCB0KSB7XG4gIHJldHVybiB0IHx8ICh0ID0gKG4sIHIpID0+IEpTT04uc3RyaW5naWZ5KHIpKSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKG4sIFtyLCBzXSkgPT4gKEFycmF5LmlzQXJyYXkocykgPyBuLnB1c2goLi4ucy5tYXAoKG8pID0+IFtyLCBTdHJpbmcobyldKSkgOiBzICE9IG51bGwgJiYgbi5wdXNoKFtcbiAgICAgIHIsXG4gICAgICBzIGluc3RhbmNlb2YgRGF0ZSA/IChzLmdldFRpbWUoKSAvIDFlMyB8IDApLnRvU3RyaW5nKCkgOiB0eXBlb2YgcyA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBzID09IFwibnVtYmVyXCIgPyBTdHJpbmcocykgOiB0eXBlb2YgcyA9PSBcImJvb2xlYW5cIiA/IHMgPyBcIjFcIiA6IFwiMFwiIDogdChyLCBzKVxuICAgIF0pLCBuKSwgW10pXG4gICkudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIFNpKGUpIHtcbiAgcmV0dXJuIEJzKGUpO1xufVxuZnVuY3Rpb24gQ2koZSkge1xuICByZXR1cm4gQnMoZSwgKHQsIG4pID0+IHQgPT09IFwidGdXZWJBcHBEYXRhXCIgPyBTaShuKSA6IEpTT04uc3RyaW5naWZ5KG4pKTtcbn1cbmZ1bmN0aW9uIE9zKGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHBpKHhzKCksIGUpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn1cbmZ1bmN0aW9uIEFpKGUpIHtcbiAgcmV0dXJuIHsgYWxsOiBlID0gZSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBvbjogZnVuY3Rpb24odCwgbikge1xuICAgIHZhciByID0gZS5nZXQodCk7XG4gICAgciA/IHIucHVzaChuKSA6IGUuc2V0KHQsIFtuXSk7XG4gIH0sIG9mZjogZnVuY3Rpb24odCwgbikge1xuICAgIHZhciByID0gZS5nZXQodCk7XG4gICAgciAmJiAobiA/IHIuc3BsaWNlKHIuaW5kZXhPZihuKSA+Pj4gMCwgMSkgOiBlLnNldCh0LCBbXSkpO1xuICB9LCBlbWl0OiBmdW5jdGlvbih0LCBuKSB7XG4gICAgdmFyIHIgPSBlLmdldCh0KTtcbiAgICByICYmIHIuc2xpY2UoKS5tYXAoZnVuY3Rpb24ocykge1xuICAgICAgcyhuKTtcbiAgICB9KSwgKHIgPSBlLmdldChcIipcIikpICYmIHIuc2xpY2UoKS5tYXAoZnVuY3Rpb24ocykge1xuICAgICAgcyh0LCBuKTtcbiAgICB9KTtcbiAgfSB9O1xufVxuZnVuY3Rpb24ga2koZSwgdCkge1xuICBjb25zdCBuID0gQWkoKSwgciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHMgPSAobywgYSwgaSkgPT4ge1xuICAgIGkgfHwgKGkgPSAhMSk7XG4gICAgY29uc3QgdSA9IHIuZ2V0KG8pIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgci5zZXQobywgdSk7XG4gICAgY29uc3QgYyA9IHUuZ2V0KGEpIHx8IFtdO1xuICAgIHUuc2V0KGEsIGMpO1xuICAgIGNvbnN0IGwgPSBjLmZpbmRJbmRleCgocCkgPT4gcFsxXSA9PT0gaSk7XG4gICAgbCA+PSAwICYmIChuLm9mZihvLCBjW2xdWzBdKSwgYy5zcGxpY2UobCwgMSksICFjLmxlbmd0aCAmJiB1LmRlbGV0ZShhKSwgdS5zaXplIHx8IChyLmRlbGV0ZShvKSwgIXIuc2l6ZSAmJiB0KCkpKTtcbiAgfTtcbiAgcmV0dXJuIFtcbiAgICBmdW5jdGlvbihvLCBhLCBpKSB7XG4gICAgICAhci5zaXplICYmIGUoKTtcbiAgICAgIGZ1bmN0aW9uIHUoKSB7XG4gICAgICAgIHMobywgYSwgaSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjKC4uLm0pIHtcbiAgICAgICAgaSAmJiB1KCksIG8gPT09IFwiKlwiID8gYShtKSA6IGEoLi4ubSk7XG4gICAgICB9XG4gICAgICBuLm9uKG8sIGMpO1xuICAgICAgY29uc3QgbCA9IHIuZ2V0KG8pIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICByLnNldChvLCBsKTtcbiAgICAgIGNvbnN0IHAgPSBsLmdldChhKSB8fCBbXTtcbiAgICAgIHJldHVybiBsLnNldChhLCBwKSwgcC5wdXNoKFtjLCBpIHx8ICExXSksIHU7XG4gICAgfSxcbiAgICBzLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICBuLmVtaXQsXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBvID0gbi5hbGwuc2l6ZTtcbiAgICAgIG4uYWxsLmNsZWFyKCksIHIuY2xlYXIoKSwgbyAmJiB0KCk7XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gUHIoZSwgdCkge1xuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7XG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyBldmVudFR5cGU6IGUsIGV2ZW50RGF0YTogdCB9KSxcbiAgICAvLyBXZSBzcGVjaWZ5IHdpbmRvdy5wYXJlbnQgdG8gaW1pdGF0ZSB0aGUgY2FzZSwgdGhlIHBhcmVudCBpZnJhbWUgc2VudCB1cyB0aGlzIGV2ZW50LlxuICAgIHNvdXJjZTogd2luZG93LnBhcmVudFxuICB9KSk7XG59XG5sZXQgemUgPSAhMTtcbmNvbnN0IFt2biwgTWldID0gLyogQF9fUFVSRV9fICovIGFpKFwiQnJpZGdlXCIsIHtcbiAgYmdDb2xvcjogXCIjOTE0N2ZmXCIsXG4gIHRleHRDb2xvcjogXCJ3aGl0ZVwiLFxuICBzaG91bGRMb2coKSB7XG4gICAgcmV0dXJuIHplO1xuICB9XG59KSwgeHIgPSAoZSkgPT4ge1xuICB2bighMSwgXCJFdmVudCByZWNlaXZlZDpcIiwgZSk7XG59O1xuZnVuY3Rpb24gUGkoZSkge1xuICBlICE9PSB6ZSAmJiAoemUgPSBlLCB6ZSA/IFMoXCIqXCIsIHhyKSA6IEIoXCIqXCIsIHhyKSk7XG59XG5jb25zdCB4aSA9IHtcbiAgY2xpcGJvYXJkX3RleHRfcmVjZWl2ZWQ6IC8qIEBfX1BVUkVfXyAqLyBVKHtcbiAgICByZXFfaWQ6IC8qIEBfX1BVUkVfXyAqLyByZSgpLFxuICAgIGRhdGE6IC8qIEBfX1BVUkVfXyAqLyBUZSgvKiBAX19QVVJFX18gKi8gcmUoKSlcbiAgfSksXG4gIGN1c3RvbV9tZXRob2RfaW52b2tlZDogLyogQF9fUFVSRV9fICovIFUoe1xuICAgIHJlcV9pZDogLyogQF9fUFVSRV9fICovIHJlKCksXG4gICAgcmVzdWx0OiAvKiBAX19QVVJFX18gKi8gSHQoLyogQF9fUFVSRV9fICovIGNzKCkpLFxuICAgIGVycm9yOiAvKiBAX19QVVJFX18gKi8gSHQoLyogQF9fUFVSRV9fICovIHJlKCkpXG4gIH0pLFxuICBwb3B1cF9jbG9zZWQ6IC8qIEBfX1BVUkVfXyAqLyBUZShcbiAgICAvKiBAX19QVVJFX18gKi8gVSh7IGJ1dHRvbl9pZDogLyogQF9fUFVSRV9fICovIFRlKC8qIEBfX1BVUkVfXyAqLyByZSgpLCAoKSA9PiB7XG4gICAgfSkgfSksXG4gICAge31cbiAgKSxcbiAgdmlld3BvcnRfY2hhbmdlZDogLyogQF9fUFVSRV9fICovIFUoe1xuICAgIGhlaWdodDogLyogQF9fUFVSRV9fICovIFJ0KCksXG4gICAgd2lkdGg6IC8qIEBfX1BVUkVfXyAqLyBUZSgvKiBAX19QVVJFX18gKi8gUnQoKSwgKCkgPT4gd2luZG93LmlubmVyV2lkdGgpLFxuICAgIGlzX3N0YXRlX3N0YWJsZTogLyogQF9fUFVSRV9fICovIEx0KCksXG4gICAgaXNfZXhwYW5kZWQ6IC8qIEBfX1BVUkVfXyAqLyBMdCgpXG4gIH0pLFxuICB0aGVtZV9jaGFuZ2VkOiAvKiBAX19QVVJFX18gKi8gVSh7XG4gICAgdGhlbWVfcGFyYW1zOiBQcygpXG4gIH0pXG59O1xuZnVuY3Rpb24gVHIoZSkge1xuICBpZiAoZS5zb3VyY2UgIT09IHdpbmRvdy5wYXJlbnQpXG4gICAgcmV0dXJuO1xuICBsZXQgdDtcbiAgdHJ5IHtcbiAgICB0ID0gRnQoLyogQF9fUFVSRV9fICovIGxzKC8qIEBfX1BVUkVfXyAqLyByZSgpLCBibigpLCBUcyksIGUuZGF0YSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB7IGV2ZW50VHlwZTogbiwgZXZlbnREYXRhOiByIH0gPSB0LCBzID0geGlbbl07XG4gIHRyeSB7XG4gICAgY29uc3QgbyA9IHMgPyBGdChzLCByKSA6IHI7XG4gICAgVGkobiwgbyk7XG4gIH0gY2F0Y2ggKG8pIHtcbiAgICBNaShcbiAgICAgICEwLFxuICAgICAgW1xuICAgICAgICBgQW4gZXJyb3Igb2NjdXJyZWQgcHJvY2Vzc2luZyB0aGUgXCIke259XCIgZXZlbnQgZnJvbSB0aGUgVGVsZWdyYW0gYXBwbGljYXRpb24uYCxcbiAgICAgICAgXCJQbGVhc2UsIGZpbGUgYW4gaXNzdWUgaGVyZTpcIixcbiAgICAgICAgXCJodHRwczovL2dpdGh1Yi5jb20vVGVsZWdyYW0tTWluaS1BcHBzL3RlbGVncmFtLWFwcHMvaXNzdWVzL25ldy9jaG9vc2VcIlxuICAgICAgXS5qb2luKGBcbmApLFxuICAgICAgdCxcbiAgICAgIG9cbiAgICApO1xuICB9XG59XG5jb25zdCBbXG4gIFMsXG4gIEIsXG4gIFRpLFxuICBBZlxuXSA9IGtpKFxuICAoKSA9PiB7XG4gICAgY29uc3QgZSA9IHdpbmRvdywgdCA9IHsgcmVjZWl2ZUV2ZW50OiBQciB9O1xuICAgIGUuVGVsZWdyYW1HYW1lUHJveHlfcmVjZWl2ZUV2ZW50ID0gUHIsIGUuVGVsZWdyYW1HYW1lUHJveHkgPSB0LCBlLlRlbGVncmFtID0geyBXZWJWaWV3OiB0IH0sIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBUcik7XG4gIH0sXG4gICgpID0+IHtcbiAgICBbXCJUZWxlZ3JhbUdhbWVQcm94eV9yZWNlaXZlRXZlbnRcIiwgXCJUZWxlZ3JhbUdhbWVQcm94eVwiLCBcIlRlbGVncmFtXCJdLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGRlbGV0ZSB3aW5kb3dbZV07XG4gICAgfSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBUcik7XG4gIH1cbik7XG52YXIgQmkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIE9pID0gKGUsIHQsIG4pID0+IHQgaW4gZSA/IEJpKGUsIHQsIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IG4gfSkgOiBlW3RdID0gbiwgSWkgPSAoZSwgdCwgbikgPT4gT2koZSwgdCArIFwiXCIsIG4pO1xuZnVuY3Rpb24gSXMoZSkge1xuICByZXR1cm4gKHQpID0+IHQgaW5zdGFuY2VvZiBlO1xufVxuZnVuY3Rpb24gQ2UoZSwgdCkge1xuICB0IHx8ICh0ID0gW10pO1xuICBjbGFzcyBuIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKC4uLnMpIHtcbiAgICAgIGNvbnN0IG8gPSB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyB0KC4uLnMpIDogdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IFt0XSA6IHQgfHwgW107XG4gICAgICBzdXBlciguLi5vKSwgdGhpcy5uYW1lID0gZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIm5hbWVcIiwgeyB2YWx1ZTogZSB9KSwgW24sIElzKG4pXTtcbn1cbmZ1bmN0aW9uIGppKGUsIHQsIG4pIHtcbiAgY2xhc3MgciBleHRlbmRzIENlKGUsIG4pWzBdIHtcbiAgICBjb25zdHJ1Y3RvciguLi5vKSB7XG4gICAgICBzdXBlciguLi5vKSwgSWkodGhpcywgXCJkYXRhXCIpLCB0aGlzLmRhdGEgPSB0KC4uLm8pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwibmFtZVwiLCB7IHZhbHVlOiBlIH0pLCBbciwgSXMocildO1xufVxuY29uc3QgW1xuICBxaSxcbiAga2Zcbl0gPSBDZShcbiAgXCJNZXRob2RVbnN1cHBvcnRlZEVycm9yXCIsXG4gIChlLCB0KSA9PiBbXG4gICAgYE1ldGhvZCBcIiR7ZX1cIiBpcyB1bnN1cHBvcnRlZCBpbiBNaW5pIEFwcHMgdmVyc2lvbiAke3R9YFxuICBdXG4pLCBbXG4gIERpLFxuICBNZlxuXSA9IENlKFxuICBcIk1ldGhvZFBhcmFtZXRlclVuc3VwcG9ydGVkRXJyb3JcIixcbiAgKGUsIHQsIG4pID0+IFtcbiAgICBgUGFyYW1ldGVyIFwiJHt0fVwiIG9mIFwiJHtlfVwiIG1ldGhvZCBpcyB1bnN1cHBvcnRlZCBpbiBNaW5pIEFwcHMgdmVyc2lvbiAke259YFxuICBdXG4pLCBbXG4gIE5pLFxuICBQZlxuXSA9IGppKFxuICBcIkxhdW5jaFBhcmFtc1JldHJpZXZlRXJyb3JcIixcbiAgKGUpID0+ICh7IGVycm9yczogZSB9KSxcbiAgKGUpID0+IFtcbiAgICBbXG4gICAgICBcIlVuYWJsZSB0byByZXRyaWV2ZSBsYXVuY2ggcGFyYW1ldGVycyBmcm9tIGFueSBrbm93biBzb3VyY2UuIFBlcmhhcHMsIHlvdSBoYXZlIG9wZW5lZCB5b3VyIGFwcCBvdXRzaWRlIFRlbGVncmFtP1wiLFxuICAgICAgXCLwn5OWIFJlZmVyIHRvIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb246XCIsXG4gICAgICBcImh0dHBzOi8vZG9jcy50ZWxlZ3JhbS1taW5pLWFwcHMuY29tL3BhY2thZ2VzL3RlbGVncmFtLWFwcHMtYnJpZGdlL2Vudmlyb25tZW50XCIsXG4gICAgICBcIlwiLFxuICAgICAgXCJDb2xsZWN0ZWQgZXJyb3JzOlwiLFxuICAgICAgLi4uZS5tYXAoKFt0LCBuXSkgPT4gYFNvdXJjZTogJHt0fSAvICR7biBpbnN0YW5jZW9mIEVycm9yID8gbi5tZXNzYWdlIDogU3RyaW5nKG4pfWApXG4gICAgXS5qb2luKGBcbmApXG4gIF1cbiksIFtcbiAgVmksXG4gIHhmXG5dID0gQ2UoXG4gIFwiSW52YWxpZExhdW5jaFBhcmFtc0Vycm9yXCIsXG4gIChlLCB0KSA9PiBbXG4gICAgYEludmFsaWQgdmFsdWUgZm9yIGxhdW5jaCBwYXJhbXM6ICR7ZX1gLFxuICAgIHsgY2F1c2U6IHQgfVxuICBdXG4pLCBbTGksIFRmXSA9IENlKFwiVW5rbm93bkVudkVycm9yXCIpLCBbXG4gIFJpLFxuICBCZlxuXSA9IENlKFxuICBcIkludm9rZUN1c3RvbU1ldGhvZEVycm9yXCIsXG4gIChlKSA9PiBbYFNlcnZlciByZXR1cm5lZCBlcnJvcjogJHtlfWBdXG4pO1xuZnVuY3Rpb24gSGkoZSwgdCkge1xuICB0KCk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24ganMoZSwgdCkge1xuICB0IHx8ICh0ID0ge30pO1xuICBjb25zdCBuID0gdC5lcXVhbHMgfHwgT2JqZWN0LmlzO1xuICBsZXQgciA9IFtdLCBzID0gZTtcbiAgY29uc3QgbyA9IChjKSA9PiB7XG4gICAgaWYgKCFuKHMsIGMpKSB7XG4gICAgICBjb25zdCBsID0gcztcbiAgICAgIHMgPSBjLCBIaSh1LCAoKSA9PiB7XG4gICAgICAgIFsuLi5yXS5mb3JFYWNoKChbcCwgbV0pID0+IHtcbiAgICAgICAgICBwKGMsIGwpLCBtICYmIGkocCwgITApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gYShjKSB7XG4gICAgY29uc3QgbCA9IHR5cGVvZiBjICE9IFwib2JqZWN0XCIgPyB7IG9uY2U6IGMgfSA6IGM7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uY2U6IGwub25jZSB8fCAhMSxcbiAgICAgIHNpZ25hbDogbC5zaWduYWwgfHwgITFcbiAgICB9O1xuICB9XG4gIGNvbnN0IGkgPSAoYywgbCkgPT4ge1xuICAgIGNvbnN0IHAgPSBhKGwpLCBtID0gci5maW5kSW5kZXgoKFtmLCBrXSkgPT4gZiA9PT0gYyAmJiBrLm9uY2UgPT09IHAub25jZSAmJiBrLnNpZ25hbCA9PT0gcC5zaWduYWwpO1xuICAgIG0gPj0gMCAmJiByLnNwbGljZShtLCAxKTtcbiAgfSwgdSA9IE9iamVjdC5hc3NpZ24oXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRmkodSksIHM7XG4gICAgfSxcbiAgICB7XG4gICAgICBkZXN0cm95KCkge1xuICAgICAgICByID0gW107XG4gICAgICB9LFxuICAgICAgc2V0OiBvLFxuICAgICAgcmVzZXQoKSB7XG4gICAgICAgIG8oZSk7XG4gICAgICB9LFxuICAgICAgc3ViKGMsIGwpIHtcbiAgICAgICAgcmV0dXJuIHIucHVzaChbYywgYShsKV0pLCAoKSA9PiBpKGMsIGwpO1xuICAgICAgfSxcbiAgICAgIHVuc3ViOiBpLFxuICAgICAgdW5zdWJBbGwoKSB7XG4gICAgICAgIHIgPSByLmZpbHRlcigoYykgPT4gY1sxXS5zaWduYWwpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHU7XG59XG5jb25zdCBQdCA9IFtdO1xuZnVuY3Rpb24gRmkoZSkge1xuICBQdC5sZW5ndGggJiYgUHRbUHQubGVuZ3RoIC0gMV0uYWRkKGUpO1xufVxuY29uc3QgR2UgPSAvKiBAX19QVVJFX18gKi8ganMoKC4uLmUpID0+IHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoLi4uZSkpLCBXaSA9ICguLi5lKSA9PiBHZSgpKC4uLmUpLCBVaSA9IC8qIEBfX1BVUkVfXyAqLyBqcyhcImh0dHBzOi8vd2ViLnRlbGVncmFtLm9yZ1wiKTtcbmZ1bmN0aW9uIHduKGUsIHQpIHtcbiAgdm4oITEsIFwiUG9zdGluZyBldmVudDpcIiwgdCA/IHsgZXZlbnRUeXBlOiBlLCBldmVudERhdGE6IHQgfSA6IHsgZXZlbnRUeXBlOiBlIH0pO1xuICBjb25zdCBuID0gd2luZG93LCByID0gSlNPTi5zdHJpbmdpZnkoeyBldmVudFR5cGU6IGUsIGV2ZW50RGF0YTogdCB9KTtcbiAgaWYgKGRzKCkpXG4gICAgcmV0dXJuIFdpKHIsIFVpKCkpO1xuICBpZiAocHMobikpIHtcbiAgICBuLlRlbGVncmFtV2Vidmlld1Byb3h5LnBvc3RFdmVudChlLCBKU09OLnN0cmluZ2lmeSh0KSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgvKiBAX19QVVJFX18gKi8gcnQoLyogQF9fUFVSRV9fICovIFUoeyBleHRlcm5hbDogLyogQF9fUFVSRV9fICovIFUoeyBub3RpZnk6IC8qIEBfX1BVUkVfXyAqLyBkbigpIH0pIH0pLCBuKSkge1xuICAgIG4uZXh0ZXJuYWwubm90aWZ5KHIpO1xuICAgIHJldHVybjtcbiAgfVxuICB0aHJvdyBuZXcgTGkoKTtcbn1cbmZ1bmN0aW9uIEVuKGUsIHQsIG4pIHtcbiAgbiB8fCAobiA9IHt9KTtcbiAgY29uc3QgeyBjYXB0dXJlOiByIH0gPSBuLCBbcywgb10gPSBvaSgpO1xuICByZXR1cm4gbmV3IGZuKChhKSA9PiB7XG4gICAgKEFycmF5LmlzQXJyYXkodCkgPyB0IDogW3RdKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBzKFxuICAgICAgICBTKGksICh1KSA9PiB7XG4gICAgICAgICAgKCFyIHx8IChBcnJheS5pc0FycmF5KHQpID8gcih7XG4gICAgICAgICAgICBldmVudDogaSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHVcbiAgICAgICAgICB9KSA6IHIodSkpKSAmJiBhKHUpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KSwgKG4ucG9zdEV2ZW50IHx8IHduKShlLCBuLnBhcmFtcyk7XG4gIH0sIG4pLmZpbmFsbHkobyk7XG59XG5jb25zdCBCciA9IFwibGF1bmNoUGFyYW1zXCI7XG5mdW5jdGlvbiBPcihlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL15bXj8jXSpbPyNdLywgXCJcIikucmVwbGFjZSgvWz8jXS9nLCBcIiZcIik7XG59XG5mdW5jdGlvbiBxcygpIHtcbiAgY29uc3QgZSA9IFtdO1xuICBmb3IgKGNvbnN0IFt0LCBuXSBvZiBbXG4gICAgLy8gVHJ5IHRvIHJldHJpZXZlIGxhdW5jaCBwYXJhbWV0ZXJzIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24uIFRoaXMgbWV0aG9kIGNhbiByZXR1cm5cbiAgICAvLyBub3RoaW5nIGluIGNhc2UsIGxvY2F0aW9uIHdhcyBjaGFuZ2VkLCBhbmQgdGhlbiB0aGUgcGFnZSB3YXMgcmVsb2FkZWQuXG4gICAgWygpID0+IE9yKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSwgXCJ3aW5kb3cubG9jYXRpb24uaHJlZlwiXSxcbiAgICAvLyBUaGVuLCB0cnkgdXNpbmcgdGhlIGxvd2VyIGxldmVsIEFQSSAtIHdpbmRvdy5wZXJmb3JtYW5jZS5cbiAgICBbKCkgPT4ge1xuICAgICAgY29uc3QgciA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xuICAgICAgcmV0dXJuIHIgJiYgT3Ioci5uYW1lKTtcbiAgICB9LCBcInBlcmZvcm1hbmNlIG5hdmlnYXRpb24gZW50cmllc1wiXSxcbiAgICBbKCkgPT4gc2koQnIpLCBcImxvY2FsIHN0b3JhZ2VcIl1cbiAgXSkge1xuICAgIGNvbnN0IHIgPSB0KCk7XG4gICAgaWYgKCFyKSB7XG4gICAgICBlLnB1c2goW24sIG5ldyBFcnJvcihcIlNvdXJjZSBpcyBlbXB0eVwiKV0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChPcyhyKSlcbiAgICAgIHJldHVybiBfcyhCciwgciksIHI7XG4gICAgdHJ5IHtcbiAgICAgIGduKHIpO1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgIGUucHVzaChbbiwgc10pO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgTmkoZSk7XG59XG5mdW5jdGlvbiAkbihlKSB7XG4gIGNvbnN0IHQgPSBnbihxcygpKTtcbiAgcmV0dXJuIGUgPyBHdCh0KSA6IHQ7XG59XG5mdW5jdGlvbiBJcihlLCB0KSB7XG4gIGlmICghZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICRuKCksICEwO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgcmV0dXJuIGZuLmZuKGFzeW5jIChuKSA9PiB7XG4gICAgaWYgKHBzKHdpbmRvdykpXG4gICAgICByZXR1cm4gITA7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBFbihcIndlYl9hcHBfcmVxdWVzdF90aGVtZVwiLCBcInRoZW1lX2NoYW5nZWRcIiwgbiksICEwO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSwgdCB8fCB7IHRpbWVvdXQ6IDEwMCB9KTtcbn1cbmZ1bmN0aW9uIE9mKHsgbGF1bmNoUGFyYW1zOiBlLCBvbkV2ZW50OiB0LCByZXNldFBvc3RNZXNzYWdlOiBuIH0gPSB7fSkge1xuICBpZiAoZSkge1xuICAgIGNvbnN0IG8gPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiIHx8IGUgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyBlLnRvU3RyaW5nKCkgOiAoXG4gICAgICAvLyBIZXJlIHdlIGhhdmUgdG8gdHJpY2sgc2VyaWFsaXplTGF1bmNoUGFyYW1zUXVlcnkgaW50byB0aGlua2luZywgaXQgc2VyaWFsaXplcyBhIHZhbGlkXG4gICAgICAvLyB2YWx1ZS4gV2UgYXJlIGRvaW5nIGl0IGJlY2F1c2Ugd2UgYXJlIHdvcmtpbmcgd2l0aCB0Z1dlYkFwcERhdGEgcHJlc2VudGVkIGFzIGFcbiAgICAgIC8vIHN0cmluZywgbm90IGFuIG9iamVjdCBhcyBzZXJpYWxpemVMYXVuY2hQYXJhbXNRdWVyeSByZXF1aXJlcy5cbiAgICAgIENpKHsgLi4uZSwgdGdXZWJBcHBEYXRhOiB2b2lkIDAgfSkgKyAoZS50Z1dlYkFwcERhdGEgPyBgJnRnV2ViQXBwRGF0YT0ke2VuY29kZVVSSUNvbXBvbmVudChlLnRnV2ViQXBwRGF0YS50b1N0cmluZygpKX1gIDogXCJcIilcbiAgICApO1xuICAgIGlmICghT3MobykpXG4gICAgICB0cnkge1xuICAgICAgICBnbihvKTtcbiAgICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZpKG8sIGEpO1xuICAgICAgfVxuICAgIF9zKFwibGF1bmNoUGFyYW1zXCIsIG8pO1xuICB9XG4gIGlmIChkcygpKSB7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG8gPSAvKiBAX19QVVJFX18gKi8gbHMoXG4gICAgICAvKiBAX19QVVJFX18gKi8gcmUoKSxcbiAgICAgIGJuKCksXG4gICAgICBUc1xuICAgICk7XG4gICAgbiAmJiBHZS5yZXNldCgpO1xuICAgIGNvbnN0IGEgPSBHZSgpO1xuICAgIEdlLnNldCgoLi4uaSkgPT4ge1xuICAgICAgY29uc3QgW3VdID0gaSwgYyA9ICgpID0+IHtcbiAgICAgICAgYSguLi5pKTtcbiAgICAgIH07XG4gICAgICBpZiAoLyogQF9fUFVSRV9fICovIHJ0KG8sIHUpKSB7XG4gICAgICAgIGNvbnN0IGwgPSBGdChvLCB1KTtcbiAgICAgICAgdChbbC5ldmVudFR5cGUsIGwuZXZlbnREYXRhXSwgYyk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgYygpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByID0gd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5IHx8IHt9LCBzID0gci5wb3N0RXZlbnQgfHwgKCgpID0+IHtcbiAgfSk7XG4gIHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eSA9IHtcbiAgICAuLi5yLFxuICAgIHBvc3RFdmVudChvLCBhKSB7XG4gICAgICBjb25zdCBpID0gKCkgPT4ge1xuICAgICAgICBzKG8sIGEpO1xuICAgICAgfTtcbiAgICAgIHQgPyB0KFtvLCBhID8gSlNPTi5wYXJzZShhKSA6IHZvaWQgMF0sIGkpIDogaSgpO1xuICAgIH1cbiAgfSwgdm4oITEsIFwiRW52aXJvbm1lbnQgd2FzIG1vY2tlZCBieSB0aGUgbW9ja1RlbGVncmFtRW52IGZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gemkoKSB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHFzKCkpLmdldChcInRnV2ViQXBwRGF0YVwiKSB8fCB2b2lkIDA7XG59XG5mdW5jdGlvbiBEcyhlKSB7XG4gIHJldHVybiAoeyByZXFfaWQ6IHQgfSkgPT4gdCA9PT0gZTtcbn1cbmZ1bmN0aW9uIGpyKGUpIHtcbiAgcmV0dXJuIGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO1xufVxuZnVuY3Rpb24gR2koZSwgdCkge1xuICBjb25zdCBuID0ganIoZSksIHIgPSBqcih0KSwgcyA9IE1hdGgubWF4KG4ubGVuZ3RoLCByLmxlbmd0aCk7XG4gIGZvciAobGV0IG8gPSAwOyBvIDwgczsgbyArPSAxKSB7XG4gICAgY29uc3QgYSA9IG5bb10gfHwgMCwgaSA9IHJbb10gfHwgMDtcbiAgICBpZiAoYSAhPT0gaSlcbiAgICAgIHJldHVybiBhID4gaSA/IDEgOiAtMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIFAoZSwgdCkge1xuICByZXR1cm4gR2koZSwgdCkgPD0gMDtcbn1cbmZ1bmN0aW9uIGZlKGUsIHQsIG4pIHtcbiAgaWYgKHR5cGVvZiBuID09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoZSA9PT0gXCJ3ZWJfYXBwX29wZW5fbGlua1wiKSB7XG4gICAgICBpZiAodCA9PT0gXCJ0cnlfaW5zdGFudF92aWV3XCIpXG4gICAgICAgIHJldHVybiBQKFwiNi40XCIsIG4pO1xuICAgICAgaWYgKHQgPT09IFwidHJ5X2Jyb3dzZXJcIilcbiAgICAgICAgcmV0dXJuIFAoXCI3LjZcIiwgbik7XG4gICAgfVxuICAgIGlmIChlID09PSBcIndlYl9hcHBfc2V0X2hlYWRlcl9jb2xvclwiICYmIHQgPT09IFwiY29sb3JcIilcbiAgICAgIHJldHVybiBQKFwiNi45XCIsIG4pO1xuICAgIGlmIChlID09PSBcIndlYl9hcHBfY2xvc2VcIiAmJiB0ID09PSBcInJldHVybl9iYWNrXCIpXG4gICAgICByZXR1cm4gUChcIjcuNlwiLCBuKTtcbiAgICBpZiAoZSA9PT0gXCJ3ZWJfYXBwX3NldHVwX21haW5fYnV0dG9uXCIgJiYgdCA9PT0gXCJoYXNfc2hpbmVfZWZmZWN0XCIpXG4gICAgICByZXR1cm4gUChcIjcuMTBcIiwgbik7XG4gIH1cbiAgc3dpdGNoIChlKSB7XG4gICAgY2FzZSBcIndlYl9hcHBfb3Blbl90Z19saW5rXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfb3Blbl9pbnZvaWNlXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc2V0dXBfYmFja19idXR0b25cIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zZXRfYmFja2dyb3VuZF9jb2xvclwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3NldF9oZWFkZXJfY29sb3JcIjpcbiAgICBjYXNlIFwid2ViX2FwcF90cmlnZ2VyX2hhcHRpY19mZWVkYmFja1wiOlxuICAgICAgcmV0dXJuIFAoXCI2LjFcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfb3Blbl9wb3B1cFwiOlxuICAgICAgcmV0dXJuIFAoXCI2LjJcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfY2xvc2Vfc2Nhbl9xcl9wb3B1cFwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX29wZW5fc2Nhbl9xcl9wb3B1cFwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlYWRfdGV4dF9mcm9tX2NsaXBib2FyZFwiOlxuICAgICAgcmV0dXJuIFAoXCI2LjRcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfc3dpdGNoX2lubGluZV9xdWVyeVwiOlxuICAgICAgcmV0dXJuIFAoXCI2LjdcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfaW52b2tlX2N1c3RvbV9tZXRob2RcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9yZXF1ZXN0X3dyaXRlX2FjY2Vzc1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3RfcGhvbmVcIjpcbiAgICAgIHJldHVybiBQKFwiNi45XCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX3NldHVwX3NldHRpbmdzX2J1dHRvblwiOlxuICAgICAgcmV0dXJuIFAoXCI2LjEwXCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX2Jpb21ldHJ5X2dldF9pbmZvXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfYmlvbWV0cnlfb3Blbl9zZXR0aW5nc1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2Jpb21ldHJ5X3JlcXVlc3RfYWNjZXNzXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfYmlvbWV0cnlfcmVxdWVzdF9hdXRoXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfYmlvbWV0cnlfdXBkYXRlX3Rva2VuXCI6XG4gICAgICByZXR1cm4gUChcIjcuMlwiLCB0KTtcbiAgICBjYXNlIFwid2ViX2FwcF9zZXR1cF9zd2lwZV9iZWhhdmlvclwiOlxuICAgICAgcmV0dXJuIFAoXCI3LjdcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfc2hhcmVfdG9fc3RvcnlcIjpcbiAgICAgIHJldHVybiBQKFwiNy44XCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX3NldHVwX3NlY29uZGFyeV9idXR0b25cIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zZXRfYm90dG9tX2Jhcl9jb2xvclwiOlxuICAgICAgcmV0dXJuIFAoXCI3LjEwXCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3Rfc2FmZV9hcmVhXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfcmVxdWVzdF9jb250ZW50X3NhZmVfYXJlYVwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3RfZnVsbHNjcmVlblwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2V4aXRfZnVsbHNjcmVlblwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3NldF9lbW9qaV9zdGF0dXNcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9hZGRfdG9faG9tZV9zY3JlZW5cIjpcbiAgICBjYXNlIFwid2ViX2FwcF9jaGVja19ob21lX3NjcmVlblwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3RfZW1vamlfc3RhdHVzX2FjY2Vzc1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2NoZWNrX2xvY2F0aW9uXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfb3Blbl9sb2NhdGlvbl9zZXR0aW5nc1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3RfZmlsZV9kb3dubG9hZFwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3JlcXVlc3RfbG9jYXRpb25cIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zZW5kX3ByZXBhcmVkX21lc3NhZ2VcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zdGFydF9hY2NlbGVyb21ldGVyXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc3RhcnRfZGV2aWNlX29yaWVudGF0aW9uXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc3RhcnRfZ3lyb3Njb3BlXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc3RvcF9hY2NlbGVyb21ldGVyXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc3RvcF9kZXZpY2Vfb3JpZW50YXRpb25cIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zdG9wX2d5cm9zY29wZVwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3RvZ2dsZV9vcmllbnRhdGlvbl9sb2NrXCI6XG4gICAgICByZXR1cm4gUChcIjguMFwiLCB0KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJpZnJhbWVfcmVhZHlcIixcbiAgICAgICAgXCJpZnJhbWVfd2lsbF9yZWxvYWRcIixcbiAgICAgICAgXCJ3ZWJfYXBwX2Nsb3NlXCIsXG4gICAgICAgIFwid2ViX2FwcF9kYXRhX3NlbmRcIixcbiAgICAgICAgXCJ3ZWJfYXBwX2V4cGFuZFwiLFxuICAgICAgICBcIndlYl9hcHBfb3Blbl9saW5rXCIsXG4gICAgICAgIFwid2ViX2FwcF9yZWFkeVwiLFxuICAgICAgICBcIndlYl9hcHBfcmVxdWVzdF90aGVtZVwiLFxuICAgICAgICBcIndlYl9hcHBfcmVxdWVzdF92aWV3cG9ydFwiLFxuICAgICAgICBcIndlYl9hcHBfc2V0dXBfbWFpbl9idXR0b25cIixcbiAgICAgICAgXCJ3ZWJfYXBwX3NldHVwX2Nsb3NpbmdfYmVoYXZpb3JcIlxuICAgICAgXS5pbmNsdWRlcyhlKTtcbiAgfVxufVxuZnVuY3Rpb24gUWkoZSwgdCkge1xuICB0IHx8ICh0ID0gXCJzdHJpY3RcIik7XG4gIGNvbnN0IG4gPSB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyB0IDogKHIpID0+IHtcbiAgICBjb25zdCB7IG1ldGhvZDogcywgdmVyc2lvbjogbyB9ID0gciwgYSA9IFwicGFyYW1cIiBpbiByID8gbmV3IERpKHMsIHIucGFyYW0sIG8pIDogbmV3IHFpKHMsIG8pO1xuICAgIGlmICh0ID09PSBcInN0cmljdFwiKVxuICAgICAgdGhyb3cgYTtcbiAgICByZXR1cm4gY29uc29sZS53YXJuKGEubWVzc2FnZSk7XG4gIH07XG4gIHJldHVybiAociwgcykgPT4gZmUociwgZSkgPyByID09PSBcIndlYl9hcHBfc2V0X2hlYWRlcl9jb2xvclwiICYmIC8qIEBfX1BVUkVfXyAqLyBydCgvKiBAX19QVVJFX18gKi8gVSh7IGNvbG9yOiAvKiBAX19QVVJFX18gKi8gdXMoKSB9KSwgcykgJiYgIWZlKHIsIFwiY29sb3JcIiwgZSkgPyBuKHsgdmVyc2lvbjogZSwgbWV0aG9kOiByLCBwYXJhbTogXCJjb2xvclwiIH0pIDogd24ociwgcykgOiBuKHsgdmVyc2lvbjogZSwgbWV0aG9kOiByIH0pO1xufVxuZnVuY3Rpb24gSmkoZSwgdCwgbiwgcikge1xuICByZXR1cm4gRW4oXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCIsIFwiY3VzdG9tX21ldGhvZF9pbnZva2VkXCIsIHtcbiAgICAuLi5yIHx8IHt9LFxuICAgIHBhcmFtczogeyBtZXRob2Q6IGUsIHBhcmFtczogdCwgcmVxX2lkOiBuIH0sXG4gICAgY2FwdHVyZTogRHMobilcbiAgfSkudGhlbigoeyByZXN1bHQ6IHMsIGVycm9yOiBvIH0pID0+IHtcbiAgICBpZiAobylcbiAgICAgIHRocm93IG5ldyBSaShvKTtcbiAgICByZXR1cm4gcztcbiAgfSk7XG59XG5mdW5jdGlvbiBOcyhlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL1tBLVpdL2csICh0KSA9PiBgLSR7dC50b0xvd2VyQ2FzZSgpfWApO1xufVxuZnVuY3Rpb24gS2koZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC9fKFthLXpdKS9nLCAodCwgbikgPT4gYC0ke24udG9Mb3dlckNhc2UoKX1gKTtcbn1cbmZ1bmN0aW9uIFZzKGUpIHtcbiAgcmV0dXJuIGB0YXBwcy8ke2V9YDtcbn1cbmZ1bmN0aW9uIHooZSwgdCkge1xuICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFZzKGUpLCBKU09OLnN0cmluZ2lmeSh0KSk7XG59XG5mdW5jdGlvbiBOKGUpIHtcbiAgY29uc3QgdCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVnMoZSkpO1xuICB0cnkge1xuICAgIHJldHVybiB0ID8gSlNPTi5wYXJzZSh0KSA6IHZvaWQgMDtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbmZ1bmN0aW9uIFNuKC4uLmUpIHtcbiAgY29uc3QgdCA9IGUuZmxhdCgxKTtcbiAgcmV0dXJuIFtcbiAgICB0LnB1c2guYmluZCh0KSxcbiAgICAoKSA9PiB7XG4gICAgICB0LmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgbigpO1xuICAgICAgfSk7XG4gICAgfVxuICBdO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIFlpKGUsIHQpIHtcbiAgdCB8fCAodCA9IHt9KTtcbiAgY29uc3Qge1xuICAgIHRleHRDb2xvcjogbixcbiAgICBiZ0NvbG9yOiByLFxuICAgIHNob3VsZExvZzogc1xuICB9ID0gdCwgbyA9IHMgPT09IHZvaWQgMCA/ICEwIDogcywgYSA9IHR5cGVvZiBvID09IFwiYm9vbGVhblwiID8gKCkgPT4gbyA6IG87XG4gIGZ1bmN0aW9uIGkodSwgYywgLi4ubCkge1xuICAgIGlmIChjIHx8IGEoKSkge1xuICAgICAgY29uc3QgcCA9IFwiZm9udC13ZWlnaHQ6Ym9sZDtwYWRkaW5nOjAgNXB4O2JvcmRlci1yYWRpdXM6NXB4XCI7XG4gICAgICBjb25zb2xlW3VdKFxuICAgICAgICBgJWMke0ludGwuRGF0ZVRpbWVGb3JtYXQoXCJlbi1HQlwiLCB7XG4gICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICAgICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDMsXG4gICAgICAgICAgdGltZVpvbmU6IFwiVVRDXCJcbiAgICAgICAgfSkuZm9ybWF0KC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKX0lYyAvICVjJHtlfWAsXG4gICAgICAgIGAke3B9O2JhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtjb2xvcjpibGFja2AsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIGAke3B9OyR7biA/IGBjb2xvcjoke259O2AgOiBcIlwifSR7ciA/IGBiYWNrZ3JvdW5kLWNvbG9yOiR7cn1gIDogXCJcIn1gLFxuICAgICAgICAuLi5sXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW2kuYmluZCh2b2lkIDAsIFwibG9nXCIpLCBpLmJpbmQodm9pZCAwLCBcImVycm9yXCIpXTtcbn1cbmZ1bmN0aW9uIFppKCkge1xuICByZXR1cm4gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIilbMF07XG59XG5mdW5jdGlvbiBWKCkge1xuICBjb25zdCBlID0gWmkoKTtcbiAgcmV0dXJuICEhZSAmJiBlLnR5cGUgPT09IFwicmVsb2FkXCI7XG59XG5sZXQgdmU7XG5mdW5jdGlvbiBYaShlLCB0KSB7XG4gIHZlICYmIHZlLnNldChlLCB0KSB8fCB0KCk7XG59XG5mdW5jdGlvbiBOZShlKSB7XG4gIGlmICh2ZSlcbiAgICByZXR1cm4gZSgpO1xuICB2ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHRyeSB7XG4gICAgZSgpO1xuICB9IGZpbmFsbHkge1xuICAgIHZlLmZvckVhY2goKHQpID0+IHQoKSksIHZlID0gdm9pZCAwO1xuICB9XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gTHMoZSwgdCkge1xuICB0IHx8ICh0ID0ge30pO1xuICBjb25zdCBuID0gdC5lcXVhbHMgfHwgT2JqZWN0LmlzO1xuICBsZXQgciA9IFtdLCBzID0gZTtcbiAgY29uc3QgbyA9IChjKSA9PiB7XG4gICAgaWYgKCFuKHMsIGMpKSB7XG4gICAgICBjb25zdCBsID0gcztcbiAgICAgIHMgPSBjLCBYaSh1LCAoKSA9PiB7XG4gICAgICAgIFsuLi5yXS5mb3JFYWNoKChbcCwgbV0pID0+IHtcbiAgICAgICAgICBwKGMsIGwpLCBtICYmIGkocCwgITApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gYShjKSB7XG4gICAgY29uc3QgbCA9IHR5cGVvZiBjICE9IFwib2JqZWN0XCIgPyB7IG9uY2U6IGMgfSA6IGM7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uY2U6IGwub25jZSB8fCAhMSxcbiAgICAgIHNpZ25hbDogbC5zaWduYWwgfHwgITFcbiAgICB9O1xuICB9XG4gIGNvbnN0IGkgPSAoYywgbCkgPT4ge1xuICAgIGNvbnN0IHAgPSBhKGwpLCBtID0gci5maW5kSW5kZXgoKFtmLCBrXSkgPT4gZiA9PT0gYyAmJiBrLm9uY2UgPT09IHAub25jZSAmJiBrLnNpZ25hbCA9PT0gcC5zaWduYWwpO1xuICAgIG0gPj0gMCAmJiByLnNwbGljZShtLCAxKTtcbiAgfSwgdSA9IE9iamVjdC5hc3NpZ24oXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXUodSksIHM7XG4gICAgfSxcbiAgICB7XG4gICAgICBkZXN0cm95KCkge1xuICAgICAgICByID0gW107XG4gICAgICB9LFxuICAgICAgc2V0OiBvLFxuICAgICAgcmVzZXQoKSB7XG4gICAgICAgIG8oZSk7XG4gICAgICB9LFxuICAgICAgc3ViKGMsIGwpIHtcbiAgICAgICAgcmV0dXJuIHIucHVzaChbYywgYShsKV0pLCAoKSA9PiBpKGMsIGwpO1xuICAgICAgfSxcbiAgICAgIHVuc3ViOiBpLFxuICAgICAgdW5zdWJBbGwoKSB7XG4gICAgICAgIHIgPSByLmZpbHRlcigoYykgPT4gY1sxXS5zaWduYWwpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHU7XG59XG5jb25zdCBJZSA9IFtdO1xuZnVuY3Rpb24gZXUoZSkge1xuICBJZS5sZW5ndGggJiYgSWVbSWUubGVuZ3RoIC0gMV0uYWRkKGUpO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHR1KGUsIHQpIHtcbiAgbGV0IG4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLCByO1xuICBmdW5jdGlvbiBzKCkge1xuICAgIHJldHVybiByIHx8IChyID0gLyogQF9fUFVSRV9fICovIExzKGEoKSwgdCkpO1xuICB9XG4gIGZ1bmN0aW9uIG8oKSB7XG4gICAgcygpLnNldChhKCkpO1xuICB9XG4gIGZ1bmN0aW9uIGEoKSB7XG4gICAgbi5mb3JFYWNoKChjKSA9PiB7XG4gICAgICBjLnVuc3ViKG8sIHsgc2lnbmFsOiAhMCB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBpID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgdTtcbiAgICBJZS5wdXNoKGkpO1xuICAgIHRyeSB7XG4gICAgICB1ID0gZSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBJZS5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIGkuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgYy5zdWIobywgeyBzaWduYWw6ICEwIH0pO1xuICAgIH0pLCBuID0gaSwgdTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcygpKCk7XG4gIH0sIHtcbiAgICBkZXN0cm95KCkge1xuICAgICAgcygpLmRlc3Ryb3koKTtcbiAgICB9LFxuICAgIHN1YiguLi5pKSB7XG4gICAgICByZXR1cm4gcygpLnN1YiguLi5pKTtcbiAgICB9LFxuICAgIHVuc3ViKC4uLmkpIHtcbiAgICAgIHMoKS51bnN1YiguLi5pKTtcbiAgICB9LFxuICAgIHVuc3ViQWxsKC4uLmkpIHtcbiAgICAgIHMoKS51bnN1YkFsbCguLi5pKTtcbiAgICB9XG4gIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIEFlKGUsIHQpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBMcyhlLCB0KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBoKGUsIHQpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB0dShlLCB0KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBiKGUsIHQpIHtcbiAgY29uc3QgbiA9IC8qIEBfX1BVUkVfXyAqLyBBZShlLCB0KTtcbiAgcmV0dXJuIFtuLCAvKiBAX19QVVJFX18gKi8gaChuKV07XG59XG5sZXQgUnMgPSAhMTtcbmNvbnN0IFtKdCwgSWZdID0gLyogQF9fUFVSRV9fICovIFlpKFwiU0RLXCIsIHtcbiAgYmdDb2xvcjogXCJmb3Jlc3RncmVlblwiLFxuICB0ZXh0Q29sb3I6IFwid2hpdGVcIixcbiAgc2hvdWxkTG9nKCkge1xuICAgIHJldHVybiBScztcbiAgfVxufSk7XG5mdW5jdGlvbiBqZihlKSB7XG4gIFJzID0gZSwgUGkoZSk7XG59XG5jb25zdCB4dCA9IC8qIEBfX1BVUkVfXyAqLyBBZSgwKSwgSHMgPSAvKiBAX19QVVJFX18gKi8gQWUod24pLCBbcXIsIFJlXSA9IC8qIEBfX1BVUkVfXyAqLyBiKHtcbiAgdGdXZWJBcHBQbGF0Zm9ybTogXCJ1bmtub3duXCIsXG4gIHRnV2ViQXBwVmVyc2lvbjogXCIwLjBcIlxufSksIHNlID0gLyogQF9fUFVSRV9fICovIGgoKCkgPT4gUmUoKS50Z1dlYkFwcFZlcnNpb24pO1xuZnVuY3Rpb24gbnUoZSkge1xuICBlIHx8IChlID0ge30pO1xuICBjb25zdCB7IHBvc3RFdmVudDogdCB9ID0gZSwgbiA9IGUubGF1bmNoUGFyYW1zIHx8ICRuKCk7XG4gIHFyLnNldChuKSwgSHMuc2V0KFxuICAgIHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIiA/IHQgOiBRaShuLnRnV2ViQXBwVmVyc2lvbilcbiAgKSwgSnQoITEsIFwiVGhlIHBhY2thZ2Ugd2FzIGNvbmZpZ3VyZWQuIExhdW5jaCBwYXJhbXM6XCIsIHFyKCkpO1xufVxuZnVuY3Rpb24gRnMoKSB7XG4gIHJldHVybiB4dC5zZXQoeHQoKSArIDEpLCB4dCgpLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBrZShlLCB0LCBuKSB7XG4gIHJldHVybiBKaShlLCB0LCBGcygpLCB7XG4gICAgLi4ubiB8fCB7fSxcbiAgICBwb3N0RXZlbnQ6IF9cbiAgfSk7XG59XG5jb25zdCBDID0gKGUsIHQsIG4pID0+IChuIHx8IChuID0ge30pLCBuLnBvc3RFdmVudCB8fCAobi5wb3N0RXZlbnQgPSBfKSwgRW4oZSwgdCwgbikpLCBfID0gKGUsIHQpID0+IEhzKCkoZSwgdCk7XG5mdW5jdGlvbiBHKGUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IGZlKGUsIHNlKCkpKTtcbn1cbmZ1bmN0aW9uIHJ1KGUpIHtcbiAgcmV0dXJuICh0KSA9PiB0IGluc3RhbmNlb2YgZTtcbn1cbmZ1bmN0aW9uIFkoZSwgdCkge1xuICB0IHx8ICh0ID0gW10pO1xuICBjbGFzcyBuIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKC4uLnMpIHtcbiAgICAgIGNvbnN0IG8gPSB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyB0KC4uLnMpIDogdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IFt0XSA6IHQgfHwgW107XG4gICAgICBzdXBlciguLi5vKSwgdGhpcy5uYW1lID0gZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIm5hbWVcIiwgeyB2YWx1ZTogZSB9KSwgW24sIHJ1KG4pXTtcbn1cbmZ1bmN0aW9uIGhlKGUpIHtcbiAgcmV0dXJuIFtlXTtcbn1cbmNvbnN0IFtcbiAgQ24sXG4gIHFmXG5dID0gWShcIkNTU1ZhcnNCb3VuZEVycm9yXCIsIFwiQ1NTIHZhcmlhYmxlcyBhcmUgYWxyZWFkeSBib3VuZFwiKSwgW1xuICBXcyxcbiAgRGZcbl0gPSBZKFwiTm90QXZhaWxhYmxlRXJyb3JcIiwgaGUpLCBbXG4gIE5mLFxuICBWZlxuXSA9IFkoXCJJbnZhbGlkRW52RXJyb3JcIiwgaGUpLCBbXG4gIHhlLFxuICBMZlxuXSA9IFkoXCJGdW5jdGlvbk5vdEF2YWlsYWJsZUVycm9yXCIsIGhlKSwgW1xuICBKLFxuICBSZlxuXSA9IFkoXG4gIFwiSW52YWxpZEFyZ3VtZW50c0Vycm9yXCIsXG4gIChlLCB0KSA9PiBbZSwgeyBjYXVzZTogdCB9XVxuKSwgW1xuICBzdSxcbiAgSGZcbl0gPSBZKFwiQ29uY3VycmVudENhbGxFcnJvclwiLCBoZSksIFtcbiAgb3UsXG4gIEZmXG5dID0gWShcbiAgXCJTZXRFbW9qaVN0YXR1c0Vycm9yXCIsXG4gIChlKSA9PiBbYEZhaWxlZCB0byBzZXQgZW1vamkgc3RhdHVzOiAke2V9YF1cbiksIFtcbiAgVXMsXG4gIFdmXG5dID0gWShcIkFjY2Vzc0RlbmllZEVycm9yXCIsIGhlKSwgW1xuICBhdSxcbiAgVWZcbl0gPSBZKFwiRnVsbHNjcmVlbkZhaWxlZEVycm9yXCIsIGhlKSwgW1xuICBpdSxcbiAgemZcbl0gPSBZKFwiU2hhcmVNZXNzYWdlRXJyb3JcIiwgaGUpO1xuZnVuY3Rpb24gRHIoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ID4gXCJ1XCI7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gQShlLCB0LCBuKSB7XG4gIG4gfHwgKG4gPSB7fSk7XG4gIGNvbnN0IHtcbiAgICBpc1N1cHBvcnRlZDogcixcbiAgICBpc01vdW50ZWQ6IHMsXG4gICAgaXNNb3VudGluZzogbyxcbiAgICBjb21wb25lbnQ6IGEsXG4gICAgc3VwcG9ydHM6IGlcbiAgfSA9IG4gfHwge30sIHUgPSBgJHthID8gYCR7YX0uYCA6IFwiXCJ9JHtlfSgpYCwgYyA9IHIgPyBBcnJheS5pc0FycmF5KHIpIHx8IHR5cGVvZiByID09IFwib2JqZWN0XCIgJiYgXCJhbnlcIiBpbiByID8gciA6IFtyXSA6IHZvaWQgMDtcbiAgZnVuY3Rpb24gbChFKSB7XG4gICAgaWYgKGkpIHtcbiAgICAgIGNvbnN0ICQgPSBpW0VdO1xuICAgICAgcmV0dXJuIGZlKCRbMF0sICRbMV0sIHNlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgZnVuY3Rpb24gcCgpIHtcbiAgICBpZiAoIWMpXG4gICAgICByZXR1cm47XG4gICAgZnVuY3Rpb24gRShSKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIFIgPT0gXCJmdW5jdGlvblwiID8gUigpIDogZmUoUiwgc2UoKSkgPyB2b2lkIDAgOiBgaXQgaXMgdW5zdXBwb3J0ZWQgaW4gTWluaSBBcHBzIHZlcnNpb24gJHtzZSgpfWA7XG4gICAgfVxuICAgIGNvbnN0ICQgPSBBcnJheS5pc0FycmF5KGMpID8gYyA6IGMuYW55LCBJID0gJC5tYXAoRSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGMpID8gSVswXSA6IEkubGVuZ3RoID09PSAkLmxlbmd0aCA/IElbSS5sZW5ndGggLSAxXSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBtKC4uLkUpIHtcbiAgICBmb3IgKGNvbnN0ICQgaW4gaSlcbiAgICAgIGlmIChpWyRdWzJdKC4uLkUpICYmICFsKCQpKVxuICAgICAgICByZXR1cm4gYG9wdGlvbiAkeyR9IGlzIG5vdCBzdXBwb3J0ZWQgaW4gTWluaSBBcHBzIHZlcnNpb24gJHtzZSgpfWA7XG4gIH1cbiAgbGV0IGY7XG4gIGlmIChpKSB7XG4gICAgZiA9IHt9O1xuICAgIGZvciAoY29uc3QgRSBpbiBpKVxuICAgICAgZltFXSA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IGwoRSkpO1xuICB9XG4gIGNvbnN0IGsgPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiAhcCgpKSwgZ2UgPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiBzZSgpICE9PSBcIjAuMFwiKSwgTSA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+ICFzIHx8IHMoKSksIG5lID0gLyogQF9fUFVSRV9fICovIGgoXG4gICAgKCkgPT4gSXIoKSAmJiAhRHIoKSAmJiBnZSgpICYmIGsoKSAmJiBNKClcbiAgKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgKC4uLkUpID0+IHtcbiAgICAgIGNvbnN0ICQgPSBgVW5hYmxlIHRvIGNhbGwgdGhlICR7dX0gJHthID8gXCJtZXRob2RcIiA6IFwiZnVuY3Rpb25cIn06YDtcbiAgICAgIGlmIChEcigpIHx8ICFJcigpKVxuICAgICAgICB0aHJvdyBuZXcgeGUoYCR7JH0gaXQgY2FuJ3QgYmUgY2FsbGVkIG91dHNpZGUgTWluaSBBcHBzYCk7XG4gICAgICBpZiAoIWdlKCkpXG4gICAgICAgIHRocm93IG5ldyB4ZShgJHskfSB0aGUgU0RLIHdhcyBub3QgaW5pdGlhbGl6ZWQuIFVzZSB0aGUgU0RLIGluaXQoKSBmdW5jdGlvbmApO1xuICAgICAgY29uc3QgSSA9IHAoKTtcbiAgICAgIGlmIChJKVxuICAgICAgICB0aHJvdyBuZXcgeGUoYCR7JH0gJHtJfWApO1xuICAgICAgY29uc3QgUiA9IG0oLi4uRSk7XG4gICAgICBpZiAoUilcbiAgICAgICAgdGhyb3cgbmV3IHhlKGAkeyR9ICR7Un1gKTtcbiAgICAgIGlmICghTSgpKSB7XG4gICAgICAgIGNvbnN0IGQgPSBvICYmIG8oKSA/IFwibW91bnRpbmcuIFdhaXQgZm9yIHRoZSBtb3VudCBjb21wbGV0aW9uXCIgOiBgdW5tb3VudGVkLiBVc2UgdGhlICR7YX0ubW91bnQoKSBtZXRob2RgO1xuICAgICAgICB0aHJvdyBuZXcgeGUoYCR7JH0gdGhlIGNvbXBvbmVudCBpcyAke2R9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdCguLi5FKTtcbiAgICB9LFxuICAgIHQsXG4gICAge1xuICAgICAgaXNBdmFpbGFibGU6IG5lLFxuICAgICAgaWZBdmFpbGFibGUoLi4uRSkge1xuICAgICAgICByZXR1cm4gbmUoKSA/IFshMCwgdCguLi5FKV0gOiBbITFdO1xuICAgICAgfVxuICAgIH0sXG4gICAgYyA/IHsgaXNTdXBwb3J0ZWQ6IGsgfSA6IHt9LFxuICAgIGYgPyB7IHN1cHBvcnRzOiBmIH0gOiB7fVxuICApO1xufVxuZnVuY3Rpb24gb3QoZSwgdCkge1xuICByZXR1cm4gdCB8fCAodCA9IHt9KSwgKG4sIHIsIHMsIG8pID0+IC8qIEBfX1BVUkVfXyAqLyBBKG4sIHIsIHtcbiAgICAuLi50LFxuICAgIGlzU3VwcG9ydGVkOiBzIHx8IHQuaXNTdXBwb3J0ZWQsXG4gICAgc3VwcG9ydHM6IG8sXG4gICAgY29tcG9uZW50OiBlXG4gIH0pO1xufVxuZnVuY3Rpb24gY2UoZSwgdCwgbikge1xuICByZXR1cm4gb3QoZSwgeyBpc1N1cHBvcnRlZDogbiwgaXNNb3VudGVkOiB0IH0pO1xufVxuZnVuY3Rpb24gTChlLCB0KSB7XG4gIHJldHVybiBvdChlLCB7IGlzU3VwcG9ydGVkOiB0IH0pO1xufVxuY29uc3QgYXQgPSBcIndlYl9hcHBfc2V0dXBfYmFja19idXR0b25cIiwgenMgPSBcImJhY2tfYnV0dG9uX3ByZXNzZWRcIiwgaXQgPSBcImJhY2tCdXR0b25cIiwgW05yLCB1dV0gPSAvKiBAX19QVVJFX18gKi8gYighMSksIFtLZSwgY3VdID0gLyogQF9fUFVSRV9fICovIGIoITEpLCBsdSA9IEcoYXQpLCBHcyA9IGNlKGl0LCBLZSwgYXQpLCBBbiA9IEwoaXQsIGF0KSwgcHUgPSBHcyhcImhpZGVcIiwgKCkgPT4ge1xuICBrbighMSk7XG59KSwgZHUgPSBBbihcIm1vdW50XCIsICgpID0+IHtcbiAgS2UoKSB8fCAoa24oVigpICYmIE4oaXQpIHx8ICExKSwgS2Uuc2V0KCEwKSk7XG59KTtcbmZ1bmN0aW9uIGtuKGUpIHtcbiAgZSAhPT0gTnIoKSAmJiAoXyhhdCwgeyBpc192aXNpYmxlOiBlIH0pLCB6KGl0LCBlKSwgTnIuc2V0KGUpKTtcbn1cbmNvbnN0IGZ1ID0gQW4oXG4gIFwib25DbGlja1wiLFxuICAoZSkgPT4gUyh6cywgZSlcbiksIG11ID0gQW4oXG4gIFwib2ZmQ2xpY2tcIixcbiAgKGUpID0+IHtcbiAgICBCKHpzLCBlKTtcbiAgfVxuKSwgaHUgPSBHcyhcInNob3dcIiwgKCkgPT4ge1xuICBrbighMCk7XG59KTtcbmZ1bmN0aW9uIF91KCkge1xuICBLZS5zZXQoITEpO1xufVxuY29uc3QgR2YgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBoaWRlOiBwdSxcbiAgaXNNb3VudGVkOiBjdSxcbiAgaXNTdXBwb3J0ZWQ6IGx1LFxuICBpc1Zpc2libGU6IHV1LFxuICBtb3VudDogZHUsXG4gIG9mZkNsaWNrOiBtdSxcbiAgb25DbGljazogZnUsXG4gIHNob3c6IGh1LFxuICB1bm1vdW50OiBfdVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbnZhciBidSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgeXUgPSAoZSwgdCwgbikgPT4gdCBpbiBlID8gYnUoZSwgdCwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogbiB9KSA6IGVbdF0gPSBuLCBLdCA9IChlLCB0LCBuKSA9PiB5dShlLCB0eXBlb2YgdCAhPSBcInN5bWJvbFwiID8gdCArIFwiXCIgOiB0LCBuKTtcbmZ1bmN0aW9uIGd1KGUpIHtcbiAgcmV0dXJuICh0KSA9PiB0IGluc3RhbmNlb2YgZTtcbn1cbmZ1bmN0aW9uIFFzKGUsIHQpIHtcbiAgdCB8fCAodCA9IFtdKTtcbiAgY2xhc3MgbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvciguLi5zKSB7XG4gICAgICBjb25zdCBvID0gdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiID8gdCguLi5zKSA6IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyBbdF0gOiB0IHx8IFtdO1xuICAgICAgc3VwZXIoLi4ubyksIHRoaXMubmFtZSA9IGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJuYW1lXCIsIHsgdmFsdWU6IGUgfSksIFtuLCBndShuKV07XG59XG5jb25zdCBbdnUsIHd1XSA9IFFzKFwiQ2FuY2VsbGVkRXJyb3JcIiwgXCJQcm9taXNlIHdhcyBjYW5jZWxlZFwiKSwgW0V1LCBRZl0gPSBRcyhcbiAgXCJUaW1lb3V0RXJyb3JcIixcbiAgKGUsIHQpID0+IFtgVGltZW91dCByZWFjaGVkOiAke2V9bXNgLCB7IGNhdXNlOiB0IH1dXG4pLCBKcyA9IFN5bWJvbChcIlJlc29sdmVkXCIpO1xuZnVuY3Rpb24gVnIoZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShlKSAmJiBlWzBdID09PSBKcztcbn1cbmZ1bmN0aW9uICR1KGUpIHtcbiAgcmV0dXJuIFtKcywgZV07XG59XG5mdW5jdGlvbiBMcihlLCB0KSB7XG4gIHJldHVybiBlLnJlamVjdCA9IHQucmVqZWN0LCBlLmFib3J0ID0gdC5hYm9ydCwgZTtcbn1cbmxldCB4ID0gY2xhc3MgWXQgZXh0ZW5kcyBQcm9taXNlIHtcbiAgY29uc3RydWN0b3IodCwgbikge1xuICAgIGxldCByLCBzO1xuICAgIHN1cGVyKChvLCBhKSA9PiB7XG4gICAgICBsZXQgaSwgdTtcbiAgICAgIHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIiA/IChpID0gdCwgdSA9IG4pIDogdSA9IHQ7XG4gICAgICBjb25zdCBjID0gW10sIGwgPSAoZCkgPT4gKC4uLmopID0+IHtcbiAgICAgICAgY29uc3QgZWUgPSBkKC4uLmopO1xuICAgICAgICByZXR1cm4gYy5mb3JFYWNoKChrdCkgPT4ga3QoKSksIGVlO1xuICAgICAgfSwgcCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgeyBzaWduYWw6IG0gfSA9IHA7XG4gICAgICBzID0gKGQpID0+IHtcbiAgICAgICAgIW0uYWJvcnRlZCAmJiBwLmFib3J0KGQpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGYgPSAoKSA9PiBtLnJlYXNvbiwgayA9IChkKSA9PiB7XG4gICAgICAgIGNvbnN0IGogPSAoKSA9PiB7XG4gICAgICAgICAgZChmKCkpO1xuICAgICAgICB9O1xuICAgICAgICBtLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBqLCAhMCk7XG4gICAgICAgIGNvbnN0IGVlID0gKCkgPT4ge1xuICAgICAgICAgIG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGosICEwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGMucHVzaChlZSksIGVlO1xuICAgICAgfSwgZ2UgPSBsKChkKSA9PiB7XG4gICAgICAgIG8oZCksIHMoJHUoZCkpO1xuICAgICAgfSk7XG4gICAgICByID0gbCgoZCkgPT4ge1xuICAgICAgICBhKGQpLCBzKGQpO1xuICAgICAgfSksIHUgfHwgKHUgPSB7fSk7XG4gICAgICBjb25zdCB7IGFib3J0U2lnbmFsOiBNLCByZWplY3RPbkFib3J0OiBuZSA9ICEwIH0gPSB1O1xuICAgICAgaWYgKE0pXG4gICAgICAgIGlmIChNLmFib3J0ZWQpIHtcbiAgICAgICAgICBjb25zdCB7IHJlYXNvbjogZCB9ID0gTTtcbiAgICAgICAgICBpZiAobmUpXG4gICAgICAgICAgICByZXR1cm4gcihkKTtcbiAgICAgICAgICBzKGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGQgPSAoKSA9PiB7XG4gICAgICAgICAgICBzKE0ucmVhc29uKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIE0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGQpLCBjLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgTS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIG5lICYmIGsoYSk7XG4gICAgICBjb25zdCB7IHRpbWVvdXQ6IEUgfSA9IHU7XG4gICAgICBpZiAoRSkge1xuICAgICAgICBjb25zdCBkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcyhuZXcgRXUoRSkpO1xuICAgICAgICB9LCBFKTtcbiAgICAgICAgYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgJCA9ICgpID0+IG0uYWJvcnRlZCwgSSA9ICgpID0+IFZyKGYoKSksIFIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGQgPSBmKCk7XG4gICAgICAgIHJldHVybiBWcihkKSA/IGRbMV0gOiB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZCA9IGkgJiYgaShnZSwgciwge1xuICAgICAgICAgIGFib3J0UmVhc29uOiBmLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBtLFxuICAgICAgICAgIGlzQWJvcnRlZDogJCxcbiAgICAgICAgICBpc1Jlc29sdmVkOiBJLFxuICAgICAgICAgIG9uQWJvcnRlZDogayxcbiAgICAgICAgICBvblJlc29sdmVkOiAoaikgPT4gaygoKSA9PiB7XG4gICAgICAgICAgICBJKCkgJiYgaihSKCkpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHJlc29sdmVkOiBSLFxuICAgICAgICAgIHRocm93SWZBYm9ydGVkKCkge1xuICAgICAgICAgICAgaWYgKCQoKSlcbiAgICAgICAgICAgICAgdGhyb3cgZigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGQgaW5zdGFuY2VvZiBQcm9taXNlICYmIGQuY2F0Y2gocik7XG4gICAgICB9IGNhdGNoIChkKSB7XG4gICAgICAgIHIoZCk7XG4gICAgICB9XG4gICAgfSksIEt0KHRoaXMsIFwiYWJvcnRcIiksIEt0KHRoaXMsIFwicmVqZWN0XCIpLCB0aGlzLmFib3J0ID0gcywgdGhpcy5yZWplY3QgPSByO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFib3J0YWJsZVByb21pc2UgaW5zdGFuY2UgdXNpbmcgYW4gZXhlY3V0b3IsIHJlc29sdmluZyB0aGUgcHJvbWlzZSB3aGVuIGEgcmVzdWx0XG4gICAqIHdhcyByZXR1cm5lZC5cbiAgICogQHBhcmFtIGZuIC0gZnVuY3Rpb24gcmV0dXJuaW5nIHByb21pc2UgcmVzdWx0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBmbih0LCBuKSB7XG4gICAgcmV0dXJuIG5ldyBZdChhc3luYyAociwgcywgbykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcihhd2FpdCB0KG8pKTtcbiAgICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgICAgcyhhKTtcbiAgICAgIH1cbiAgICB9LCBuKTtcbiAgfVxuICBzdGF0aWMgcmVzb2x2ZSh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZm4oKCkgPT4gdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS5yZWplY3RcbiAgICovXG4gIHN0YXRpYyByZWplY3QodCkge1xuICAgIHJldHVybiBuZXcgWXQoKG4sIHIpID0+IHtcbiAgICAgIHIodCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFib3J0cyB0aGUgcHJvbWlzZSB3aXRoIHRoZSBjYW5jZWwgZXJyb3IuXG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5hYm9ydChuZXcgdnUoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS5jYXRjaFxuICAgKi9cbiAgY2F0Y2godCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4odm9pZCAwLCB0KTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLmZpbmFsbHlcbiAgICovXG4gIGZpbmFsbHkodCkge1xuICAgIHJldHVybiBMcihzdXBlci5maW5hbGx5KHQpLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLnRoZW5cbiAgICovXG4gIHRoZW4odCwgbikge1xuICAgIHJldHVybiBMcihzdXBlci50aGVuKHQsIG4pLCB0aGlzKTtcbiAgfVxufTtcbmZ1bmN0aW9uIFJyKGUsIHQpIHtcbiAgcmV0dXJuIGUucmVzb2x2ZSA9IHQucmVzb2x2ZSwgZTtcbn1cbmxldCBTdSA9IGNsYXNzIFp0IGV4dGVuZHMgeCB7XG4gIGNvbnN0cnVjdG9yKHQsIG4pIHtcbiAgICBsZXQgciwgcztcbiAgICB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyAociA9IHQsIHMgPSBuKSA6IHMgPSB0O1xuICAgIGxldCBvO1xuICAgIHN1cGVyKChhLCBpLCB1KSA9PiB7XG4gICAgICBvID0gYSwgciAmJiByKGEsIGksIHUpO1xuICAgIH0sIHMpLCBLdCh0aGlzLCBcInJlc29sdmVcIiksIHRoaXMucmVzb2x2ZSA9IG87XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgTWFudWFsUHJvbWlzZSBpbnN0YW5jZSB1c2luZyBhbiBleGVjdXRvciwgcmVzb2x2aW5nIHRoZSBwcm9taXNlIHdoZW4gYSByZXN1bHRcbiAgICogd2FzIHJldHVybmVkLlxuICAgKiBAcGFyYW0gZm4gLSBmdW5jdGlvbiByZXR1cm5pbmcgcHJvbWlzZSByZXN1bHQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYWRkaXRpb25hbCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGZuKHQsIG4pIHtcbiAgICByZXR1cm4gbmV3IFp0KChyLCBzLCBvKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUodChvKSkudGhlbihyLCBzKTtcbiAgICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgICAgcyhhKTtcbiAgICAgIH1cbiAgICB9LCBuKTtcbiAgfVxuICBzdGF0aWMgcmVzb2x2ZSh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZm4oKCkgPT4gdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS5yZWplY3RcbiAgICovXG4gIHN0YXRpYyByZWplY3QodCkge1xuICAgIHJldHVybiBuZXcgWnQoKG4sIHIpID0+IHtcbiAgICAgIHIodCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUHJvbWlzZS5jYXRjaFxuICAgKi9cbiAgY2F0Y2godCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4odm9pZCAwLCB0KTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLmZpbmFsbHlcbiAgICovXG4gIGZpbmFsbHkodCkge1xuICAgIHJldHVybiBScihzdXBlci5maW5hbGx5KHQpLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBQcm9taXNlLnRoZW5cbiAgICovXG4gIHRoZW4odCwgbikge1xuICAgIHJldHVybiBScihzdXBlci50aGVuKHQsIG4pLCB0aGlzKTtcbiAgfVxufTtcbmZ1bmN0aW9uIE8oZSwgdCwgbikge1xuICBuIHx8IChuID0ge30pO1xuICBjb25zdCB7XG4gICAgcHJvbWlzZTogcixcbiAgICBlcnJvcjogc1xuICB9ID0gbiwgW28sIGFdID0gciA/IFtyLCAvKiBAX19QVVJFX18gKi8gaChyKV0gOiAvKiBAX19QVVJFX18gKi8gYigpLCBbaSwgdV0gPSBzID8gW3MsIC8qIEBfX1BVUkVfXyAqLyBoKHMpXSA6IC8qIEBfX1BVUkVfXyAqLyBiKCk7XG4gIHJldHVybiBbXG4gICAgT2JqZWN0LmFzc2lnbigoLi4uYykgPT4ge1xuICAgICAgaWYgKG8oKSkge1xuICAgICAgICBjb25zdCBwID0gbmV3IHN1KHQpO1xuICAgICAgICByZXR1cm4gaS5zZXQocCksIHgucmVqZWN0KHApO1xuICAgICAgfVxuICAgICAgTmUoKCkgPT4ge1xuICAgICAgICBvLnNldChlKC4uLmMpKSwgaS5zZXQodm9pZCAwKTtcbiAgICAgIH0pO1xuICAgICAgbGV0IGw7XG4gICAgICByZXR1cm4gbygpLmNhdGNoKChwKSA9PiB7XG4gICAgICAgIHRocm93IGwgPSBwLCBwO1xuICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIE5lKCgpID0+IHtcbiAgICAgICAgICBvLnNldCh2b2lkIDApLCBpLnNldChsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBlKSxcbiAgICBbbywgYSwgLyogQF9fUFVSRV9fICovIGgoKCkgPT4gISFvKCkpXSxcbiAgICBbaSwgdV1cbiAgXTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBIZShlLCB0LCBuKSB7XG4gIGNvbnN0IFtyLCAuLi5zXSA9IE8odCwgYFRoZSAke2V9IGNvbXBvbmVudCBpcyBhbHJlYWR5IG1vdW50aW5nYCksIFtvLCBhXSA9IC8qIEBfX1BVUkVfXyAqLyBiKCExKTtcbiAgcmV0dXJuIFtcbiAgICAoLi4uaSkgPT4gbygpID8geC5yZXNvbHZlKCkgOiByKC4uLmkpLnRoZW4oKHUpID0+IHtcbiAgICAgIE5lKCgpID0+IHtcbiAgICAgICAgby5zZXQoITApLCBuKHUpO1xuICAgICAgfSk7XG4gICAgfSksXG4gICAgLi4ucyxcbiAgICBbbywgYV1cbiAgXTtcbn1cbmNvbnN0IFtNbiwgQ3VdID0gLyogQF9fUFVSRV9fICovIGIoe1xuICBhdmFpbGFibGU6ICExLFxuICB0eXBlOiBcIlwiLFxuICBhY2Nlc3NHcmFudGVkOiAhMSxcbiAgYWNjZXNzUmVxdWVzdGVkOiAhMSxcbiAgZGV2aWNlSWQ6IFwiXCIsXG4gIHRva2VuU2F2ZWQ6ICExXG59KSwgQXUgPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiBNbigpLmF2YWlsYWJsZSksIEhyID0gXCJ3ZWJfYXBwX2Jpb21ldHJ5X2dldF9pbmZvXCIsIGt1ID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwicmVxdWVzdEJpb21ldHJ5XCIsXG4gIChlKSA9PiBDKEhyLCBcImJpb21ldHJ5X2luZm9fcmVjZWl2ZWRcIiwgZSksXG4gIHsgaXNTdXBwb3J0ZWQ6IEhyIH1cbik7XG5mdW5jdGlvbiBLcyhlKSB7XG4gIGlmICghd3UoZSkpXG4gICAgdGhyb3cgZTtcbn1cbmZ1bmN0aW9uIE1lKGUpIHtcbiAgY29uc3QgdCA9IGUoKTtcbiAgdCAmJiB0LmNhdGNoKEtzKS5jYW5jZWwoKTtcbn1cbmNvbnN0IFZlID0gXCJiaW9tZXRyeVwiLCB1dCA9IFwid2ViX2FwcF9iaW9tZXRyeV9yZXF1ZXN0X2F1dGhcIiwgUG4gPSBcImJpb21ldHJ5X2luZm9fcmVjZWl2ZWRcIiwgWXMgPSAoZSkgPT4ge1xuICBjdCh4bihlKSk7XG59O1xuZnVuY3Rpb24gWnMoKSB7XG4gIHRocm93IG5ldyBXcyhcIkJpb21ldHJ5IGlzIG5vdCBhdmFpbGFibGVcIik7XG59XG5mdW5jdGlvbiB4bihlKSB7XG4gIGxldCB0ID0gITEsIG4gPSAhMSwgciA9IFwiXCIsIHMgPSAhMSwgbyA9IFwiXCIsIGEgPSAhMTtcbiAgcmV0dXJuIGUuYXZhaWxhYmxlICYmICh0ID0gITAsIG4gPSBlLnRva2VuX3NhdmVkLCByID0gZS5kZXZpY2VfaWQsIHMgPSBlLmFjY2Vzc19yZXF1ZXN0ZWQsIG8gPSBlLnR5cGUsIGEgPSBlLmFjY2Vzc19ncmFudGVkKSwgeyBhdmFpbGFibGU6IHQsIHRva2VuU2F2ZWQ6IG4sIGRldmljZUlkOiByLCB0eXBlOiBvLCBhY2Nlc3NHcmFudGVkOiBhLCBhY2Nlc3NSZXF1ZXN0ZWQ6IHMgfTtcbn1cbmNvbnN0IE11ID0gRyh1dCksIFtcbiAgUHUsXG4gIHh1LFxuICBUdSxcbiAgWHNcbl0gPSAvKiBAX19QVVJFX18gKi8gSGUoXG4gIFZlLFxuICAoZSkgPT4ge1xuICAgIGNvbnN0IHQgPSBWKCkgJiYgTihWZSk7XG4gICAgcmV0dXJuIHQgPyB4LnJlc29sdmUodCkgOiBrdSh7IGFib3J0U2lnbmFsOiBlIH0pLnRoZW4oeG4pO1xuICB9LFxuICAoZSkgPT4ge1xuICAgIFMoUG4sIFlzKSwgY3QoZSk7XG4gIH1cbiksIGVvID0gTChWZSwgdXQpLCBUbiA9IGNlKFZlLCBYc1swXSwgdXQpLCBCdSA9IGVvKFwibW91bnRcIiwgUHUpLCBbLCB0bywgT3VdID0geHUsIFssIEl1XSA9IFR1LCBbanUsIHF1XSA9IFhzLCBbXG4gIER1LFxuICBOdSxcbiAgVnVcbl0gPSBPKFxuICAoZSkgPT4geC5mbihhc3luYyAodCkgPT4ge1xuICAgIGNvbnN0IG4gPSBNbigpO1xuICAgIG4uYXZhaWxhYmxlIHx8IFpzKCk7XG4gICAgY29uc3QgciA9IGF3YWl0IEModXQsIFwiYmlvbWV0cnlfYXV0aF9yZXF1ZXN0ZWRcIiwge1xuICAgICAgLi4uZSxcbiAgICAgIC4uLnQsXG4gICAgICBwYXJhbXM6IHsgcmVhc29uOiAoKGUgfHwge30pLnJlYXNvbiB8fCBcIlwiKS50cmltKCkgfVxuICAgIH0pLCB7IHRva2VuOiBzIH0gPSByO1xuICAgIHJldHVybiB0eXBlb2YgcyA9PSBcInN0cmluZ1wiICYmIGN0KHsgLi4ubiwgdG9rZW46IHMgfSksIHI7XG4gIH0sIGUpLFxuICBcIkJpb21ldHJ5IGF1dGhlbnRpY2F0aW9uIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIlxuKSwgTHUgPSBUbihcImF1dGhlbnRpY2F0ZVwiLCBEdSksIFssIG5vLCBSdV0gPSBOdSwgWywgSHVdID0gVnUsIEZ1ID0gZW8oXCJvcGVuU2V0dGluZ3NcIiwgKCkgPT4ge1xuICBfKFwid2ViX2FwcF9iaW9tZXRyeV9vcGVuX3NldHRpbmdzXCIpO1xufSksIFtcbiAgV3UsXG4gIFV1LFxuICB6dVxuXSA9IE8oXG4gIChlKSA9PiB4LmZuKGFzeW5jICh0KSA9PiB7XG4gICAgY29uc3QgbiA9IGF3YWl0IEMoXCJ3ZWJfYXBwX2Jpb21ldHJ5X3JlcXVlc3RfYWNjZXNzXCIsIFBuLCB7XG4gICAgICAuLi5lLFxuICAgICAgLi4udCxcbiAgICAgIHBhcmFtczogeyByZWFzb246IChlIHx8IHt9KS5yZWFzb24gfHwgXCJcIiB9XG4gICAgfSkudGhlbih4bik7XG4gICAgcmV0dXJuIG4uYXZhaWxhYmxlIHx8IFpzKCksIGN0KG4pLCBuLmFjY2Vzc0dyYW50ZWQ7XG4gIH0sIGUpLFxuICBcIkJpb21ldHJ5IGFjY2VzcyByZXF1ZXN0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIlxuKSwgR3UgPSBUbihcInJlcXVlc3RBY2Nlc3NcIiwgV3UpLCBbLCBybywgUXVdID0gVXUsIFssIEp1XSA9IHp1O1xuZnVuY3Rpb24gY3QoZSkge1xuICBNbi5zZXQoZSksIHooVmUsIGUpO1xufVxuZnVuY3Rpb24gS3UoKSB7XG4gIFtubywgcm8sIHRvXS5mb3JFYWNoKE1lKSwgQihQbiwgWXMpLCBqdS5zZXQoITEpO1xufVxuY29uc3QgWXUgPSBUbihcbiAgXCJ1cGRhdGVUb2tlblwiLFxuICAoZSkgPT4gKGUgfHwgKGUgPSB7fSksIEMoXCJ3ZWJfYXBwX2Jpb21ldHJ5X3VwZGF0ZV90b2tlblwiLCBcImJpb21ldHJ5X3Rva2VuX3VwZGF0ZWRcIiwge1xuICAgIC4uLmUsXG4gICAgcGFyYW1zOiB7XG4gICAgICB0b2tlbjogZS50b2tlbiB8fCBcIlwiLFxuICAgICAgcmVhc29uOiBlLnJlYXNvblxuICAgIH1cbiAgfSkudGhlbigodCkgPT4gdC5zdGF0dXMpKVxuKSwgSmYgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBhdXRoRXJyb3I6IEh1LFxuICBhdXRoUHJvbWlzZTogbm8sXG4gIGF1dGhlbnRpY2F0ZTogTHUsXG4gIGlzQXV0aGVudGljYXRpbmc6IFJ1LFxuICBpc0F2YWlsYWJsZTogQXUsXG4gIGlzTW91bnRlZDogcXUsXG4gIGlzTW91bnRpbmc6IE91LFxuICBpc1JlcXVlc3RpbmdBY2Nlc3M6IFF1LFxuICBpc1N1cHBvcnRlZDogTXUsXG4gIG1vdW50OiBCdSxcbiAgbW91bnRFcnJvcjogSXUsXG4gIG1vdW50UHJvbWlzZTogdG8sXG4gIG9wZW5TZXR0aW5nczogRnUsXG4gIHJlcXVlc3RBY2Nlc3M6IEd1LFxuICByZXF1ZXN0QWNjZXNzRXJyb3I6IEp1LFxuICByZXF1ZXN0QWNjZXNzUHJvbWlzZTogcm8sXG4gIHN0YXRlOiBDdSxcbiAgdW5tb3VudDogS3UsXG4gIHVwZGF0ZVRva2VuOiBZdVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbmZ1bmN0aW9uIGx0KGUsIHQpIHtcbiAgcmV0dXJuIG90KGUsIHsgaXNNb3VudGVkOiB0IH0pO1xufVxuY29uc3QgbGUgPSBvdCwgcHQgPSBcImNsb3NpbmdCZWhhdmlvclwiLCBbRnIsIFp1XSA9IC8qIEBfX1BVUkVfXyAqLyBiKCExKSwgW1h0LCBzb10gPSAvKiBAX19QVVJFX18gKi8gYighMSksIG9vID0gbHQocHQsIHNvKSwgWHUgPSBsZShwdCksIGVjID0gb28oXCJkaXNhYmxlQ29uZmlybWF0aW9uXCIsICgpID0+IHtcbiAgQm4oITEpO1xufSksIHRjID0gb28oXCJlbmFibGVDb25maXJtYXRpb25cIiwgKCkgPT4ge1xuICBCbighMCk7XG59KSwgbmMgPSBYdShcIm1vdW50XCIsICgpID0+IHtcbiAgWHQoKSB8fCAoQm4oXG4gICAgVigpICYmIE4ocHQpIHx8ICExXG4gICksIFh0LnNldCghMCkpO1xufSk7XG5mdW5jdGlvbiBCbihlKSB7XG4gIGUgIT09IEZyKCkgJiYgKF8oXCJ3ZWJfYXBwX3NldHVwX2Nsb3NpbmdfYmVoYXZpb3JcIiwgeyBuZWVkX2NvbmZpcm1hdGlvbjogZSB9KSwgeihwdCwgZSksIEZyLnNldChlKSk7XG59XG5mdW5jdGlvbiByYygpIHtcbiAgWHQuc2V0KCExKTtcbn1cbmNvbnN0IEtmID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZGlzYWJsZUNvbmZpcm1hdGlvbjogZWMsXG4gIGVuYWJsZUNvbmZpcm1hdGlvbjogdGMsXG4gIGlzQ29uZmlybWF0aW9uRW5hYmxlZDogWnUsXG4gIGlzTW91bnRlZDogc28sXG4gIG1vdW50OiBuYyxcbiAgdW5tb3VudDogcmNcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG52YXIgdGU7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gYW8oZSkge1xuICByZXR1cm4ge1xuICAgIGxhbmc6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmxhbmcpID8/ICh0ZSA9PSBudWxsID8gdm9pZCAwIDogdGUubGFuZyksXG4gICAgbWVzc2FnZTogZSA9PSBudWxsID8gdm9pZCAwIDogZS5tZXNzYWdlLFxuICAgIGFib3J0RWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0RWFybHkpID8/ICh0ZSA9PSBudWxsID8gdm9pZCAwIDogdGUuYWJvcnRFYXJseSksXG4gICAgYWJvcnRQaXBlRWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0UGlwZUVhcmx5KSA/PyAodGUgPT0gbnVsbCA/IHZvaWQgMCA6IHRlLmFib3J0UGlwZUVhcmx5KVxuICB9O1xufVxudmFyIFR0O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHNjKGUpIHtcbiAgcmV0dXJuIFR0ID09IG51bGwgPyB2b2lkIDAgOiBUdC5nZXQoZSk7XG59XG52YXIgQnQ7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gb2MoZSkge1xuICByZXR1cm4gQnQgPT0gbnVsbCA/IHZvaWQgMCA6IEJ0LmdldChlKTtcbn1cbnZhciBPdDtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBhYyhlLCB0KSB7XG4gIHZhciBuO1xuICByZXR1cm4gKG4gPSBPdCA9PSBudWxsID8gdm9pZCAwIDogT3QuZ2V0KGUpKSA9PSBudWxsID8gdm9pZCAwIDogbi5nZXQodCk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gaWMoZSkge1xuICB2YXIgbiwgcjtcbiAgY29uc3QgdCA9IHR5cGVvZiBlO1xuICByZXR1cm4gdCA9PT0gXCJzdHJpbmdcIiA/IGBcIiR7ZX1cImAgOiB0ID09PSBcIm51bWJlclwiIHx8IHQgPT09IFwiYmlnaW50XCIgfHwgdCA9PT0gXCJib29sZWFuXCIgPyBgJHtlfWAgOiB0ID09PSBcIm9iamVjdFwiIHx8IHQgPT09IFwiZnVuY3Rpb25cIiA/IChlICYmICgociA9IChuID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKSA9PSBudWxsID8gdm9pZCAwIDogbi5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IHIubmFtZSkpID8/IFwibnVsbFwiIDogdDtcbn1cbmZ1bmN0aW9uIEgoZSwgdCwgbiwgciwgcykge1xuICBjb25zdCBvID0gcyAmJiBcImlucHV0XCIgaW4gcyA/IHMuaW5wdXQgOiBuLnZhbHVlLCBhID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuZXhwZWN0ZWQpID8/IGUuZXhwZWN0cyA/PyBudWxsLCBpID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMucmVjZWl2ZWQpID8/IC8qIEBfX1BVUkVfXyAqLyBpYyhvKSwgdSA9IHtcbiAgICBraW5kOiBlLmtpbmQsXG4gICAgdHlwZTogZS50eXBlLFxuICAgIGlucHV0OiBvLFxuICAgIGV4cGVjdGVkOiBhLFxuICAgIHJlY2VpdmVkOiBpLFxuICAgIG1lc3NhZ2U6IGBJbnZhbGlkICR7dH06ICR7YSA/IGBFeHBlY3RlZCAke2F9IGJ1dCByYCA6IFwiUlwifWVjZWl2ZWQgJHtpfWAsXG4gICAgcmVxdWlyZW1lbnQ6IGUucmVxdWlyZW1lbnQsXG4gICAgcGF0aDogcyA9PSBudWxsID8gdm9pZCAwIDogcy5wYXRoLFxuICAgIGlzc3VlczogcyA9PSBudWxsID8gdm9pZCAwIDogcy5pc3N1ZXMsXG4gICAgbGFuZzogci5sYW5nLFxuICAgIGFib3J0RWFybHk6IHIuYWJvcnRFYXJseSxcbiAgICBhYm9ydFBpcGVFYXJseTogci5hYm9ydFBpcGVFYXJseVxuICB9LCBjID0gZS5raW5kID09PSBcInNjaGVtYVwiLCBsID0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMubWVzc2FnZSkgPz8gZS5tZXNzYWdlID8/IC8qIEBfX1BVUkVfXyAqLyBhYyhlLnJlZmVyZW5jZSwgdS5sYW5nKSA/PyAoYyA/IC8qIEBfX1BVUkVfXyAqLyBvYyh1LmxhbmcpIDogbnVsbCkgPz8gci5tZXNzYWdlID8/IC8qIEBfX1BVUkVfXyAqLyBzYyh1LmxhbmcpO1xuICBsICYmICh1Lm1lc3NhZ2UgPSB0eXBlb2YgbCA9PSBcImZ1bmN0aW9uXCIgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGwodSlcbiAgKSA6IGwpLCBjICYmIChuLnR5cGVkID0gITEpLCBuLmlzc3VlcyA/IG4uaXNzdWVzLnB1c2godSkgOiBuLmlzc3VlcyA9IFt1XTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBaKGUpIHtcbiAgcmV0dXJuIHtcbiAgICB2ZXJzaW9uOiAxLFxuICAgIHZlbmRvcjogXCJ2YWxpYm90XCIsXG4gICAgdmFsaWRhdGUodCkge1xuICAgICAgcmV0dXJuIGVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgLyogQF9fUFVSRV9fICovIGFvKCkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBpbyhlLCB0KSB7XG4gIHJldHVybiBPYmplY3QuaGFzT3duKGUsIHQpICYmIHQgIT09IFwiX19wcm90b19fXCIgJiYgdCAhPT0gXCJwcm90b3R5cGVcIiAmJiB0ICE9PSBcImNvbnN0cnVjdG9yXCI7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdWMoZSwgdCkge1xuICBjb25zdCBuID0gWy4uLm5ldyBTZXQoZSldO1xuICByZXR1cm4gbi5sZW5ndGggPiAxID8gYCgke24uam9pbihgICR7dH0gYCl9KWAgOiBuWzBdID8/IFwibmV2ZXJcIjtcbn1cbnZhciBlbiA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFZhbGlib3QgZXJyb3Igd2l0aCB1c2VmdWwgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBpc3N1ZXMgVGhlIGVycm9yIGlzc3Vlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlWzBdLm1lc3NhZ2UpLCB0aGlzLm5hbWUgPSBcIlZhbGlFcnJvclwiLCB0aGlzLmlzc3VlcyA9IGU7XG4gIH1cbn07XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdW8oZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwidmFsaWRhdGlvblwiLFxuICAgIHR5cGU6IFwiaW50ZWdlclwiLFxuICAgIHJlZmVyZW5jZTogdW8sXG4gICAgYXN5bmM6ICExLFxuICAgIGV4cGVjdHM6IG51bGwsXG4gICAgcmVxdWlyZW1lbnQ6IE51bWJlci5pc0ludGVnZXIsXG4gICAgbWVzc2FnZTogZSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdC50eXBlZCAmJiAhdGhpcy5yZXF1aXJlbWVudCh0LnZhbHVlKSAmJiBIKHRoaXMsIFwiaW50ZWdlclwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gT24oZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwidHJhbnNmb3JtYXRpb25cIixcbiAgICB0eXBlOiBcInRyYW5zZm9ybVwiLFxuICAgIHJlZmVyZW5jZTogT24sXG4gICAgYXN5bmM6ICExLFxuICAgIG9wZXJhdGlvbjogZSxcbiAgICBcIn5ydW5cIih0KSB7XG4gICAgICByZXR1cm4gdC52YWx1ZSA9IHRoaXMub3BlcmF0aW9uKHQudmFsdWUpLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBjbyhlLCB0LCBuKSB7XG4gIHJldHVybiB0eXBlb2YgZS5kZWZhdWx0ID09IFwiZnVuY3Rpb25cIiA/IChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgZS5kZWZhdWx0KHQsIG4pXG4gICkgOiAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGUuZGVmYXVsdFxuICApO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGxvKGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICByZWZlcmVuY2U6IGxvLFxuICAgIGV4cGVjdHM6IFwiQXJyYXlcIixcbiAgICBhc3luYzogITEsXG4gICAgaXRlbTogZSxcbiAgICBtZXNzYWdlOiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBaKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgdmFyIG87XG4gICAgICBjb25zdCBzID0gbi52YWx1ZTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHMpKSB7XG4gICAgICAgIG4udHlwZWQgPSAhMCwgbi52YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IHMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICBjb25zdCBpID0gc1thXSwgdSA9IHRoaXMuaXRlbVtcIn5ydW5cIl0oeyB2YWx1ZTogaSB9LCByKTtcbiAgICAgICAgICBpZiAodS5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgb3JpZ2luOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgIGlucHV0OiBzLFxuICAgICAgICAgICAgICBrZXk6IGEsXG4gICAgICAgICAgICAgIHZhbHVlOiBpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBsIG9mIHUuaXNzdWVzKVxuICAgICAgICAgICAgICBsLnBhdGggPyBsLnBhdGgudW5zaGlmdChjKSA6IGwucGF0aCA9IFtjXSwgKG8gPSBuLmlzc3VlcykgPT0gbnVsbCB8fCBvLnB1c2gobCk7XG4gICAgICAgICAgICBpZiAobi5pc3N1ZXMgfHwgKG4uaXNzdWVzID0gdS5pc3N1ZXMpLCByLmFib3J0RWFybHkpIHtcbiAgICAgICAgICAgICAgbi50eXBlZCA9ICExO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdS50eXBlZCB8fCAobi50eXBlZCA9ICExKSwgbi52YWx1ZS5wdXNoKHUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2VcbiAgICAgICAgSCh0aGlzLCBcInR5cGVcIiwgbiwgcik7XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gSW4oZSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJkYXRlXCIsXG4gICAgcmVmZXJlbmNlOiBJbixcbiAgICBleHBlY3RzOiBcIkRhdGVcIixcbiAgICBhc3luYzogITEsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gWih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0LnZhbHVlIGluc3RhbmNlb2YgRGF0ZSA/IGlzTmFOKHQudmFsdWUpID8gSCh0aGlzLCBcInR5cGVcIiwgdCwgbiwge1xuICAgICAgICByZWNlaXZlZDogJ1wiSW52YWxpZCBEYXRlXCInXG4gICAgICB9KSA6IHQudHlwZWQgPSAhMCA6IEgodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBwbyhlLCB0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImluc3RhbmNlXCIsXG4gICAgcmVmZXJlbmNlOiBwbyxcbiAgICBleHBlY3RzOiBlLm5hbWUsXG4gICAgYXN5bmM6ICExLFxuICAgIGNsYXNzOiBlLFxuICAgIG1lc3NhZ2U6IHQsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFoodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihuLCByKSB7XG4gICAgICByZXR1cm4gbi52YWx1ZSBpbnN0YW5jZW9mIHRoaXMuY2xhc3MgPyBuLnR5cGVkID0gITAgOiBIKHRoaXMsIFwidHlwZVwiLCBuLCByKSwgbjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gdG4oZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJsb29zZV9vYmplY3RcIixcbiAgICByZWZlcmVuY2U6IHRuLFxuICAgIGV4cGVjdHM6IFwiT2JqZWN0XCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGVudHJpZXM6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gWih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHZhciBvO1xuICAgICAgY29uc3QgcyA9IG4udmFsdWU7XG4gICAgICBpZiAocyAmJiB0eXBlb2YgcyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG4udHlwZWQgPSAhMCwgbi52YWx1ZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGEgaW4gdGhpcy5lbnRyaWVzKSB7XG4gICAgICAgICAgY29uc3QgaSA9IHRoaXMuZW50cmllc1thXTtcbiAgICAgICAgICBpZiAoYSBpbiBzIHx8IChpLnR5cGUgPT09IFwiZXhhY3Rfb3B0aW9uYWxcIiB8fCBpLnR5cGUgPT09IFwib3B0aW9uYWxcIiB8fCBpLnR5cGUgPT09IFwibnVsbGlzaFwiKSAmJiAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgaS5kZWZhdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBhIGluIHMgPyAoXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgc1thXVxuICAgICAgICAgICAgKSA6IC8qIEBfX1BVUkVfXyAqLyBjbyhpKSwgYyA9IGlbXCJ+cnVuXCJdKHsgdmFsdWU6IHUgfSwgcik7XG4gICAgICAgICAgICBpZiAoYy5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBzLFxuICAgICAgICAgICAgICAgIGtleTogYSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgYy5pc3N1ZXMpXG4gICAgICAgICAgICAgICAgcC5wYXRoID8gcC5wYXRoLnVuc2hpZnQobCkgOiBwLnBhdGggPSBbbF0sIChvID0gbi5pc3N1ZXMpID09IG51bGwgfHwgby5wdXNoKHApO1xuICAgICAgICAgICAgICBpZiAobi5pc3N1ZXMgfHwgKG4uaXNzdWVzID0gYy5pc3N1ZXMpLCByLmFib3J0RWFybHkpIHtcbiAgICAgICAgICAgICAgICBuLnR5cGVkID0gITE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMudHlwZWQgfHwgKG4udHlwZWQgPSAhMSksIG4udmFsdWVbYV0gPSBjLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaS50eXBlICE9PSBcImV4YWN0X29wdGlvbmFsXCIgJiYgaS50eXBlICE9PSBcIm9wdGlvbmFsXCIgJiYgaS50eXBlICE9PSBcIm51bGxpc2hcIiAmJiAoSCh0aGlzLCBcImtleVwiLCBuLCByLCB7XG4gICAgICAgICAgICBpbnB1dDogdm9pZCAwLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IGBcIiR7YX1cImAsXG4gICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcyxcbiAgICAgICAgICAgICAgICBrZXk6IGEsXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzW2FdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KSwgci5hYm9ydEVhcmx5KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbi5pc3N1ZXMgfHwgIXIuYWJvcnRFYXJseSlcbiAgICAgICAgICBmb3IgKGNvbnN0IGEgaW4gcylcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBpbyhzLCBhKSAmJiAhKGEgaW4gdGhpcy5lbnRyaWVzKSAmJiAobi52YWx1ZVthXSA9IHNbYV0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIEgodGhpcywgXCJ0eXBlXCIsIG4sIHIpO1xuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGpuKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgcmVmZXJlbmNlOiBqbixcbiAgICBleHBlY3RzOiBcIm51bWJlclwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBaKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0LnZhbHVlID09IFwibnVtYmVyXCIgJiYgIWlzTmFOKHQudmFsdWUpID8gdC50eXBlZCA9ICEwIDogSCh0aGlzLCBcInR5cGVcIiwgdCwgbiksIHQ7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGZvKGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICByZWZlcmVuY2U6IGZvLFxuICAgIGV4cGVjdHM6IGAoJHtlLmV4cGVjdHN9IHwgdW5kZWZpbmVkKWAsXG4gICAgYXN5bmM6ICExLFxuICAgIHdyYXBwZWQ6IGUsXG4gICAgZGVmYXVsdDogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gWih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIHJldHVybiBuLnZhbHVlID09PSB2b2lkIDAgJiYgKHRoaXMuZGVmYXVsdCAhPT0gdm9pZCAwICYmIChuLnZhbHVlID0gLyogQF9fUFVSRV9fICovIGNvKHRoaXMsIG4sIHIpKSwgbi52YWx1ZSA9PT0gdm9pZCAwKSA/IChuLnR5cGVkID0gITAsIG4pIDogdGhpcy53cmFwcGVkW1wifnJ1blwiXShuLCByKTtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gbW8oZSwgdCwgbikge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICByZWZlcmVuY2U6IG1vLFxuICAgIGV4cGVjdHM6IFwiT2JqZWN0XCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGtleTogZSxcbiAgICB2YWx1ZTogdCxcbiAgICBtZXNzYWdlOiBuLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBaKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIociwgcykge1xuICAgICAgdmFyIGEsIGk7XG4gICAgICBjb25zdCBvID0gci52YWx1ZTtcbiAgICAgIGlmIChvICYmIHR5cGVvZiBvID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgci50eXBlZCA9ICEwLCByLnZhbHVlID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdSBpbiBvKVxuICAgICAgICAgIGlmICgvKiBAX19QVVJFX18gKi8gaW8obywgdSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBvW3VdLCBsID0gdGhpcy5rZXlbXCJ+cnVuXCJdKHsgdmFsdWU6IHUgfSwgcyk7XG4gICAgICAgICAgICBpZiAobC5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJrZXlcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogbyxcbiAgICAgICAgICAgICAgICBrZXk6IHUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGwuaXNzdWVzKVxuICAgICAgICAgICAgICAgIGYucGF0aCA9IFttXSwgKGEgPSByLmlzc3VlcykgPT0gbnVsbCB8fCBhLnB1c2goZik7XG4gICAgICAgICAgICAgIGlmIChyLmlzc3VlcyB8fCAoci5pc3N1ZXMgPSBsLmlzc3VlcyksIHMuYWJvcnRFYXJseSkge1xuICAgICAgICAgICAgICAgIHIudHlwZWQgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMudmFsdWVbXCJ+cnVuXCJdKFxuICAgICAgICAgICAgICB7IHZhbHVlOiBjIH0sXG4gICAgICAgICAgICAgIHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocC5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBvLFxuICAgICAgICAgICAgICAgIGtleTogdSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5pc3N1ZXMpXG4gICAgICAgICAgICAgICAgZi5wYXRoID8gZi5wYXRoLnVuc2hpZnQobSkgOiBmLnBhdGggPSBbbV0sIChpID0gci5pc3N1ZXMpID09IG51bGwgfHwgaS5wdXNoKGYpO1xuICAgICAgICAgICAgICBpZiAoci5pc3N1ZXMgfHwgKHIuaXNzdWVzID0gcC5pc3N1ZXMpLCBzLmFib3J0RWFybHkpIHtcbiAgICAgICAgICAgICAgICByLnR5cGVkID0gITE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICghbC50eXBlZCB8fCAhcC50eXBlZCkgJiYgKHIudHlwZWQgPSAhMSksIGwudHlwZWQgJiYgKHIudmFsdWVbbC52YWx1ZV0gPSBwLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2VcbiAgICAgICAgSCh0aGlzLCBcInR5cGVcIiwgciwgcyk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gVyhlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHJlZmVyZW5jZTogVyxcbiAgICBleHBlY3RzOiBcInN0cmluZ1wiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBaKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0LnZhbHVlID09IFwic3RyaW5nXCIgPyB0LnR5cGVkID0gITAgOiBIKHRoaXMsIFwidHlwZVwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gV3IoZSkge1xuICBsZXQgdDtcbiAgaWYgKGUpXG4gICAgZm9yIChjb25zdCBuIG9mIGUpXG4gICAgICB0ID8gdC5wdXNoKC4uLm4uaXNzdWVzKSA6IHQgPSBuLmlzc3VlcztcbiAgcmV0dXJuIHQ7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gaG8oZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJ1bmlvblwiLFxuICAgIHJlZmVyZW5jZTogaG8sXG4gICAgZXhwZWN0czogLyogQF9fUFVSRV9fICovIHVjKFxuICAgICAgZS5tYXAoKG4pID0+IG4uZXhwZWN0cyksXG4gICAgICBcInxcIlxuICAgICksXG4gICAgYXN5bmM6ICExLFxuICAgIG9wdGlvbnM6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gWih0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKG4sIHIpIHtcbiAgICAgIGxldCBzLCBvLCBhO1xuICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMub3B0aW9ucykge1xuICAgICAgICBjb25zdCB1ID0gaVtcIn5ydW5cIl0oeyB2YWx1ZTogbi52YWx1ZSB9LCByKTtcbiAgICAgICAgaWYgKHUudHlwZWQpXG4gICAgICAgICAgaWYgKHUuaXNzdWVzKVxuICAgICAgICAgICAgbyA/IG8ucHVzaCh1KSA6IG8gPSBbdV07XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gdTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGEgPyBhLnB1c2godSkgOiBhID0gW3VdO1xuICAgICAgfVxuICAgICAgaWYgKHMpXG4gICAgICAgIHJldHVybiBzO1xuICAgICAgaWYgKG8pIHtcbiAgICAgICAgaWYgKG8ubGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBvWzBdO1xuICAgICAgICBIKHRoaXMsIFwidHlwZVwiLCBuLCByLCB7XG4gICAgICAgICAgaXNzdWVzOiAvKiBAX19QVVJFX18gKi8gV3IobylcbiAgICAgICAgfSksIG4udHlwZWQgPSAhMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgoYSA9PSBudWxsID8gdm9pZCAwIDogYS5sZW5ndGgpID09PSAxKVxuICAgICAgICAgIHJldHVybiBhWzBdO1xuICAgICAgICBIKHRoaXMsIFwidHlwZVwiLCBuLCByLCB7XG4gICAgICAgICAgaXNzdWVzOiAvKiBAX19QVVJFX18gKi8gV3IoYSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBkdChlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBlW1wifnJ1blwiXSh7IHZhbHVlOiB0IH0sIC8qIEBfX1BVUkVfXyAqLyBhbyhuKSk7XG4gIGlmIChyLmlzc3VlcylcbiAgICB0aHJvdyBuZXcgZW4oci5pc3N1ZXMpO1xuICByZXR1cm4gci52YWx1ZTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBRZSguLi5lKSB7XG4gIHJldHVybiB7XG4gICAgLi4uZVswXSxcbiAgICBwaXBlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBaKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgZm9yIChjb25zdCByIG9mIGUpXG4gICAgICAgIGlmIChyLmtpbmQgIT09IFwibWV0YWRhdGFcIikge1xuICAgICAgICAgIGlmICh0Lmlzc3VlcyAmJiAoci5raW5kID09PSBcInNjaGVtYVwiIHx8IHIua2luZCA9PT0gXCJ0cmFuc2Zvcm1hdGlvblwiKSkge1xuICAgICAgICAgICAgdC50eXBlZCA9ICExO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgICghdC5pc3N1ZXMgfHwgIW4uYWJvcnRFYXJseSAmJiAhbi5hYm9ydFBpcGVFYXJseSkgJiYgKHQgPSByW1wifnJ1blwiXSh0LCBuKSk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgfTtcbn1cbmNvbnN0IF9vID0gXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCIsIEZlID0gTChcImNsb3VkU3RvcmFnZVwiLCBfbyksIGNjID0gRyhfbyksIGJvID0gRmUoXCJkZWxldGVJdGVtXCIsIChlLCB0KSA9PiB7XG4gIGNvbnN0IG4gPSBBcnJheS5pc0FycmF5KGUpID8gZSA6IFtlXTtcbiAgcmV0dXJuIG4ubGVuZ3RoID8ga2UoXCJkZWxldGVTdG9yYWdlVmFsdWVzXCIsIHsga2V5czogbiB9LCB0KS50aGVuKCkgOiB4LnJlc29sdmUoKTtcbn0pO1xuZnVuY3Rpb24gbGMoZSwgdCkge1xuICBjb25zdCBuID0gQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07XG4gIHJldHVybiBuLmxlbmd0aCA/IGtlKFwiZ2V0U3RvcmFnZVZhbHVlc1wiLCB7IGtleXM6IG4gfSwgdCkudGhlbigocikgPT4ge1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICAvLyBGdWxmaWxsIHRoZSByZXNwb25zZSB3aXRoIHByb2JhYmx5IG1pc3Npbmcga2V5cy5cbiAgICAgIC4uLm4ucmVkdWNlKChvLCBhKSA9PiAob1thXSA9IFwiXCIsIG8pLCB7fSksXG4gICAgICAuLi5kdCgvKiBAX19QVVJFX18gKi8gbW8oLyogQF9fUFVSRV9fICovIFcoKSwgLyogQF9fUFVSRV9fICovIFcoKSksIHIpXG4gICAgfTtcbiAgICByZXR1cm4gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IHNbZV0gOiBzO1xuICB9KSA6IHgucmVzb2x2ZShBcnJheS5pc0FycmF5KGUpID8ge30gOiBcIlwiKTtcbn1cbmNvbnN0IHBjID0gRmUoXCJnZXRJdGVtXCIsIGxjKSwgeW8gPSBGZShcImdldEtleXNcIiwgKGUpID0+IGtlKFwiZ2V0U3RvcmFnZUtleXNcIiwge30sIGUpLnRoZW4oXG4gICh0KSA9PiBkdCgvKiBAX19QVVJFX18gKi8gbG8oLyogQF9fUFVSRV9fICovIFcoKSksIHQpXG4pKSwgZGMgPSBGZShcInNldEl0ZW1cIiwgKGUsIHQsIG4pID0+IGtlKFwic2F2ZVN0b3JhZ2VWYWx1ZVwiLCB7XG4gIGtleTogZSxcbiAgdmFsdWU6IHRcbn0sIG4pLnRoZW4oKSksIGZjID0gRmUoXCJjbGVhclwiLCAoZSkgPT4geW8oZSkudGhlbihibykpLCBZZiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGNsZWFyOiBmYyxcbiAgZGVsZXRlSXRlbTogYm8sXG4gIGdldEl0ZW06IHBjLFxuICBnZXRLZXlzOiB5byxcbiAgaXNTdXBwb3J0ZWQ6IGNjLFxuICBzZXRJdGVtOiBkY1xufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgV2UgPSBcIndlYl9hcHBfdHJpZ2dlcl9oYXB0aWNfZmVlZGJhY2tcIiwgcW4gPSBMKFwiaGFwdGljRmVlZGJhY2tcIiwgV2UpLCBtYyA9IEcoV2UpLCBoYyA9IHFuKFxuICBcImltcGFjdE9jY3VycmVkXCIsXG4gIChlKSA9PiB7XG4gICAgXyhXZSwge1xuICAgICAgdHlwZTogXCJpbXBhY3RcIixcbiAgICAgIGltcGFjdF9zdHlsZTogZVxuICAgIH0pO1xuICB9XG4pLCBfYyA9IHFuKFxuICBcIm5vdGlmaWNhdGlvbk9jY3VycmVkXCIsXG4gIChlKSA9PiB7XG4gICAgXyhXZSwge1xuICAgICAgdHlwZTogXCJub3RpZmljYXRpb25cIixcbiAgICAgIG5vdGlmaWNhdGlvbl90eXBlOiBlXG4gICAgfSk7XG4gIH1cbiksIGJjID0gcW4oXG4gIFwic2VsZWN0aW9uQ2hhbmdlZFwiLFxuICAoKSA9PiB7XG4gICAgXyhXZSwgeyB0eXBlOiBcInNlbGVjdGlvbl9jaGFuZ2VcIiB9KTtcbiAgfVxuKSwgWmYgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBpbXBhY3RPY2N1cnJlZDogaGMsXG4gIGlzU3VwcG9ydGVkOiBtYyxcbiAgbm90aWZpY2F0aW9uT2NjdXJyZWQ6IF9jLFxuICBzZWxlY3Rpb25DaGFuZ2VkOiBiY1xufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgW2dvLCB5Y10gPSAvKiBAX19QVVJFX18gKi8gYih2b2lkIDApO1xuZnVuY3Rpb24gWChlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiB7XG4gICAgY29uc3QgdCA9IGdvKCk7XG4gICAgcmV0dXJuIHQgPyB0W2VdIDogdm9pZCAwO1xuICB9KTtcbn1cbmNvbnN0IHZvID0gWChcImF1dGhfZGF0ZVwiKSwgd28gPSBYKFwiY2FuX3NlbmRfYWZ0ZXJcIiksIGdjID0gLyogQF9fUFVSRV9fICovIGgoKCkgPT4ge1xuICBjb25zdCBlID0gdm8oKSwgdCA9IHdvKCk7XG4gIHJldHVybiB0ICYmIGUgPyBuZXcgRGF0ZShlLmdldFRpbWUoKSArIHQgKiAxZTMpIDogdm9pZCAwO1xufSksIHZjID0gWChcImNoYXRcIiksIHdjID0gWChcImNoYXRfdHlwZVwiKSwgRWMgPSBYKFwiY2hhdF9pbnN0YW5jZVwiKSwgJGMgPSBYKFwiaGFzaFwiKSwgU2MgPSBYKFwicXVlcnlfaWRcIiksIFtDYywgQWNdID0gLyogQF9fUFVSRV9fICovIGIoKSwga2MgPSBYKFwicmVjZWl2ZXJcIik7XG5mdW5jdGlvbiBNYygpIHtcbiAgY29uc3QgZSA9ICRuKCk7XG4gIGdvLnNldChlLnRnV2ViQXBwRGF0YSksIENjLnNldCh6aSgpKTtcbn1cbmNvbnN0IFBjID0gWChcInN0YXJ0X3BhcmFtXCIpLCB4YyA9IFgoXCJ1c2VyXCIpLCBYZiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGF1dGhEYXRlOiB2byxcbiAgY2FuU2VuZEFmdGVyOiB3byxcbiAgY2FuU2VuZEFmdGVyRGF0ZTogZ2MsXG4gIGNoYXQ6IHZjLFxuICBjaGF0SW5zdGFuY2U6IEVjLFxuICBjaGF0VHlwZTogd2MsXG4gIGhhc2g6ICRjLFxuICBxdWVyeUlkOiBTYyxcbiAgcmF3OiBBYyxcbiAgcmVjZWl2ZXI6IGtjLFxuICByZXN0b3JlOiBNYyxcbiAgc3RhcnRQYXJhbTogUGMsXG4gIHN0YXRlOiB5YyxcbiAgdXNlcjogeGNcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIERuID0gXCJ3ZWJfYXBwX29wZW5faW52b2ljZVwiLCBUYyA9IEwoXCJpbnZvaWNlXCIsIERuKSwgQmMgPSBHKERuKTtcbmZ1bmN0aW9uIE9jKGUsIHQsIG4pIHtcbiAgbGV0IHI7XG4gIGlmICh0ID09PSBcInVybFwiKSB7XG4gICAgY29uc3QgeyBob3N0bmFtZTogcywgcGF0aG5hbWU6IG8gfSA9IG5ldyBVUkwoZSwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIGlmIChzICE9PSBcInQubWVcIilcbiAgICAgIHRocm93IG5ldyBKKGBMaW5rIGhhcyB1bmV4cGVjdGVkIGhvc3RuYW1lOiAke3N9YCk7XG4gICAgY29uc3QgYSA9IG8ubWF0Y2goL15cXC8oXFwkfGludm9pY2VcXC8pKFtBLVphLXowLTlcXC1fPV0rKSQvKTtcbiAgICBpZiAoIWEpXG4gICAgICB0aHJvdyBuZXcgSihcbiAgICAgICAgJ0V4cGVjdGVkIHRvIHJlY2VpdmUgYSBsaW5rIHdpdGggYSBwYXRobmFtZSBpbiBmb3JtYXQgXCIvaW52b2ljZS97c2x1Z31cIiBvciBcIi8ke3NsdWd9XCInXG4gICAgICApO1xuICAgIFssICwgcl0gPSBhO1xuICB9IGVsc2VcbiAgICByID0gZSwgbiA9IHQ7XG4gIHJldHVybiBDKERuLCBcImludm9pY2VfY2xvc2VkXCIsIHtcbiAgICAuLi5uLFxuICAgIHBhcmFtczogeyBzbHVnOiByIH0sXG4gICAgY2FwdHVyZTogKHMpID0+IHIgPT09IHMuc2x1Z1xuICB9KS50aGVuKChzKSA9PiBzLnN0YXR1cyk7XG59XG5jb25zdCBbXG4gIEljLFxuICBqYyxcbiAgcWNcbl0gPSBPKE9jLCBcIkludm9pY2UgaXMgYWxyZWFkeSBvcGVuZWRcIiksIERjID0gVGMoXCJvcGVuXCIsIEljKSwgWywgTmMsIFZjXSA9IGpjLCBbLCBMY10gPSBxYywgZW0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBpc09wZW5lZDogVmMsXG4gIGlzU3VwcG9ydGVkOiBCYyxcbiAgb3BlbjogRGMsXG4gIG9wZW5FcnJvcjogTGMsXG4gIG9wZW5Qcm9taXNlOiBOY1xufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgamUgPSBcImxvY2F0aW9uTWFuYWdlclwiLCBObiA9IFwid2ViX2FwcF9jaGVja19sb2NhdGlvblwiLCBVciA9IFwid2ViX2FwcF9vcGVuX2xvY2F0aW9uX3NldHRpbmdzXCIsIFllID0gLyogQF9fUFVSRV9fICovIEFlKHtcbiAgYXZhaWxhYmxlOiAhMSxcbiAgYWNjZXNzR3JhbnRlZDogITEsXG4gIGFjY2Vzc1JlcXVlc3RlZDogITFcbn0pO1xuZnVuY3Rpb24gVm4oZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgoKCkgPT4gWWUoKVtlXSk7XG59XG5jb25zdCBSYyA9IEcoTm4pLCBIYyA9IFZuKFwiYXZhaWxhYmxlXCIpLCBGYyA9IFZuKFwiYWNjZXNzR3JhbnRlZFwiKSwgV2MgPSBWbihcImFjY2Vzc1JlcXVlc3RlZFwiKTtcbmZ1bmN0aW9uIFVjKGUpIHtcbiAgbGV0IHQgPSAhMSwgbiwgcjtcbiAgcmV0dXJuIGUuYXZhaWxhYmxlICYmICh0ID0gITAsIG4gPSBlLmFjY2Vzc19yZXF1ZXN0ZWQsIHIgPSBlLmFjY2Vzc19ncmFudGVkKSwge1xuICAgIGF2YWlsYWJsZTogdCxcbiAgICBhY2Nlc3NHcmFudGVkOiByIHx8ICExLFxuICAgIGFjY2Vzc1JlcXVlc3RlZDogbiB8fCAhMVxuICB9O1xufVxuY29uc3QgW1xuICB6YyxcbiAgR2MsXG4gIFFjLFxuICBFb1xuXSA9IC8qIEBfX1BVUkVfXyAqLyBIZShcbiAgamUsXG4gIChlKSA9PiB7XG4gICAgY29uc3QgdCA9IFYoKSAmJiBOKGplKTtcbiAgICByZXR1cm4gdCA/IHgucmVzb2x2ZSh0KSA6IEMoXCJ3ZWJfYXBwX2NoZWNrX2xvY2F0aW9uXCIsIFwibG9jYXRpb25fY2hlY2tlZFwiLCBlKS50aGVuKFVjKTtcbiAgfSxcbiAgKGUpID0+IHtcbiAgICBZZS5zZXQoZSksIHooamUsIGUpO1xuICB9XG4pLCAkbyA9IEwoamUsIE5uKSwgSmMgPSBjZShqZSwgRW9bMF0sIE5uKSwgS2MgPSAkbyhcIm1vdW50XCIsIHpjKSwgWywgWWMsIFpjXSA9IEdjLCBbLCBYY10gPSBRYywgW2VsLCB0bF0gPSBFbywgW1xuICBubCxcbiAgcmwsXG4gIHNsXG5dID0gTyhcbiAgKGUpID0+IEMoXCJ3ZWJfYXBwX3JlcXVlc3RfbG9jYXRpb25cIiwgXCJsb2NhdGlvbl9yZXF1ZXN0ZWRcIiwgZSkudGhlbigodCkgPT4ge1xuICAgIGlmICghdC5hdmFpbGFibGUpXG4gICAgICB0aHJvdyBZZS5zZXQoeyAuLi5ZZSgpLCBhdmFpbGFibGU6ICExIH0pLCBuZXcgV3MoXCJMb2NhdGlvbiBkYXRhIHRyYWNraW5nIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgY29uc3QgeyBhdmFpbGFibGU6IG4sIC4uLnIgfSA9IHQ7XG4gICAgcmV0dXJuIHI7XG4gIH0pLFxuICBcIkxvY2F0aW9uIHJlcXVlc3QgaXMgY3VycmVudGx5IGluIHByb2dyZXNzXCJcbiksIG9sID0gSmMoXCJyZXF1ZXN0TG9jYXRpb25cIiwgbmwpLCBbLCBTbywgYWxdID0gcmwsIFssIGlsXSA9IHNsLCB1bCA9ICRvKFwib3BlblNldHRpbmdzXCIsICgpID0+IHtcbiAgXyhVcik7XG59LCBVcik7XG5mdW5jdGlvbiBjbCgpIHtcbiAgTWUoU28pLCBlbC5zZXQoITEpO1xufVxuY29uc3QgdG0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBpc0FjY2Vzc0dyYW50ZWQ6IEZjLFxuICBpc0FjY2Vzc1JlcXVlc3RlZDogV2MsXG4gIGlzQXZhaWxhYmxlOiBIYyxcbiAgaXNNb3VudGVkOiB0bCxcbiAgaXNNb3VudGluZzogWmMsXG4gIGlzUmVxdWVzdGluZ0xvY2F0aW9uOiBhbCxcbiAgaXNTdXBwb3J0ZWQ6IFJjLFxuICBtb3VudDogS2MsXG4gIG1vdW50RXJyb3I6IFhjLFxuICBtb3VudFByb21pc2U6IFljLFxuICBvcGVuU2V0dGluZ3M6IHVsLFxuICByZXF1ZXN0TG9jYXRpb246IG9sLFxuICByZXF1ZXN0TG9jYXRpb25FcnJvcjogaWwsXG4gIHJlcXVlc3RMb2NhdGlvblByb21pc2U6IFNvLFxuICB1bm1vdW50OiBjbFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbmZ1bmN0aW9uIExuKGUpIHtcbiAgY29uc3QgdCA9IHt9O1xuICBmb3IgKGNvbnN0IG4gaW4gZSkge1xuICAgIGNvbnN0IHIgPSBlW25dO1xuICAgIHIgIT09IHZvaWQgMCAmJiAodFtuXSA9IHIpO1xuICB9XG4gIHJldHVybiB0O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIENvKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBsYW5nOiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5sYW5nKSA/PyB2b2lkIDAsXG4gICAgbWVzc2FnZTogZSA9PSBudWxsID8gdm9pZCAwIDogZS5tZXNzYWdlLFxuICAgIGFib3J0RWFybHk6IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmFib3J0RWFybHkpID8/IHZvaWQgMCxcbiAgICBhYm9ydFBpcGVFYXJseTogKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYWJvcnRQaXBlRWFybHkpID8/IHZvaWQgMFxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGxsKGUsIHQpIHtcbiAgdmFyIG47XG4gIHJldHVybiAobiA9IHZvaWQgMCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0KHQpO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHBsKGUpIHtcbiAgdmFyIHQsIG47XG4gIGNvbnN0IHIgPSB0eXBlb2YgZTtcbiAgcmV0dXJuIHIgPT09IFwic3RyaW5nXCIgPyBgXCIke2V9XCJgIDogciA9PT0gXCJudW1iZXJcIiB8fCByID09PSBcImJpZ2ludFwiIHx8IHIgPT09IFwiYm9vbGVhblwiID8gYCR7ZX1gIDogciA9PT0gXCJvYmplY3RcIiB8fCByID09PSBcImZ1bmN0aW9uXCIgPyAoZSAmJiAoKG4gPSAodCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBuLm5hbWUpKSA/PyBcIm51bGxcIiA6IHI7XG59XG5mdW5jdGlvbiBEKGUsIHQsIG4sIHIsIHMpIHtcbiAgY29uc3QgbyA9IHMgJiYgXCJpbnB1dFwiIGluIHMgPyBzLmlucHV0IDogbi52YWx1ZSwgYSA9IChzID09IG51bGwgPyB2b2lkIDAgOiBzLmV4cGVjdGVkKSA/PyBlLmV4cGVjdHMgPz8gbnVsbCwgaSA9IChzID09IG51bGwgPyB2b2lkIDAgOiBzLnJlY2VpdmVkKSA/PyAvKiBAX19QVVJFX18gKi8gcGwobyksIHUgPSB7XG4gICAga2luZDogZS5raW5kLFxuICAgIHR5cGU6IGUudHlwZSxcbiAgICBpbnB1dDogbyxcbiAgICBleHBlY3RlZDogYSxcbiAgICByZWNlaXZlZDogaSxcbiAgICBtZXNzYWdlOiBgSW52YWxpZCAke3R9OiAke2EgPyBgRXhwZWN0ZWQgJHthfSBidXQgcmAgOiBcIlJcIn1lY2VpdmVkICR7aX1gLFxuICAgIHJlcXVpcmVtZW50OiBlLnJlcXVpcmVtZW50LFxuICAgIHBhdGg6IHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMucGF0aCxcbiAgICBpc3N1ZXM6IHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaXNzdWVzLFxuICAgIGxhbmc6IHIubGFuZyxcbiAgICBhYm9ydEVhcmx5OiByLmFib3J0RWFybHksXG4gICAgYWJvcnRQaXBlRWFybHk6IHIuYWJvcnRQaXBlRWFybHlcbiAgfSwgYyA9IGUua2luZCA9PT0gXCJzY2hlbWFcIiwgbCA9IChzID09IG51bGwgPyB2b2lkIDAgOiBzLm1lc3NhZ2UpID8/IGUubWVzc2FnZSA/PyAvKiBAX19QVVJFX18gKi8gbGwoZS5yZWZlcmVuY2UsIHUubGFuZykgPz8gKGMgPyAodS5sYW5nLCB2b2lkIDApIDogbnVsbCkgPz8gci5tZXNzYWdlID8/ICh1LmxhbmcsIHZvaWQgMCk7XG4gIGwgJiYgKHUubWVzc2FnZSA9IHR5cGVvZiBsID09IFwiZnVuY3Rpb25cIiA/IChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgbCh1KVxuICApIDogbCksIGMgJiYgKG4udHlwZWQgPSAhMSksIG4uaXNzdWVzID8gbi5pc3N1ZXMucHVzaCh1KSA6IG4uaXNzdWVzID0gW3VdO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIFEoZSkge1xuICByZXR1cm4ge1xuICAgIHZlcnNpb246IDEsXG4gICAgdmVuZG9yOiBcInZhbGlib3RcIixcbiAgICB2YWxpZGF0ZSh0KSB7XG4gICAgICByZXR1cm4gZVtcIn5ydW5cIl0oeyB2YWx1ZTogdCB9LCAvKiBAX19QVVJFX18gKi8gQ28oKSk7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIEFvKGUsIHQpIHtcbiAgcmV0dXJuIE9iamVjdC5oYXNPd24oZSwgdCkgJiYgdCAhPT0gXCJfX3Byb3RvX19cIiAmJiB0ICE9PSBcInByb3RvdHlwZVwiICYmIHQgIT09IFwiY29uc3RydWN0b3JcIjtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkbChlLCB0KSB7XG4gIGNvbnN0IG4gPSBbLi4ubmV3IFNldChlKV07XG4gIHJldHVybiBuLmxlbmd0aCA+IDEgPyBgKCR7bi5qb2luKGAgJHt0fSBgKX0pYCA6IG5bMF0gPz8gXCJuZXZlclwiO1xufVxudmFyIGZsID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgVmFsaWJvdCBlcnJvciB3aXRoIHVzZWZ1bCBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGlzc3VlcyBUaGUgZXJyb3IgaXNzdWVzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKGVbMF0ubWVzc2FnZSksIHRoaXMubmFtZSA9IFwiVmFsaUVycm9yXCIsIHRoaXMuaXNzdWVzID0gZTtcbiAgfVxufTtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBrbyhlLCB0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJ2YWxpZGF0aW9uXCIsXG4gICAgdHlwZTogXCJjaGVja1wiLFxuICAgIHJlZmVyZW5jZToga28sXG4gICAgYXN5bmM6ICExLFxuICAgIGV4cGVjdHM6IG51bGwsXG4gICAgcmVxdWlyZW1lbnQ6IGUsXG4gICAgbWVzc2FnZTogdCxcbiAgICBcIn5ydW5cIihuLCByKSB7XG4gICAgICByZXR1cm4gbi50eXBlZCAmJiAhdGhpcy5yZXF1aXJlbWVudChuLnZhbHVlKSAmJiBEKHRoaXMsIFwiaW5wdXRcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIE1vKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInZhbGlkYXRpb25cIixcbiAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICByZWZlcmVuY2U6IE1vLFxuICAgIGFzeW5jOiAhMSxcbiAgICBleHBlY3RzOiBudWxsLFxuICAgIHJlcXVpcmVtZW50OiBOdW1iZXIuaXNJbnRlZ2VyLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHQudHlwZWQgJiYgIXRoaXMucmVxdWlyZW1lbnQodC52YWx1ZSkgJiYgRCh0aGlzLCBcImludGVnZXJcIiwgdCwgbiksIHQ7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGllKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInRyYW5zZm9ybWF0aW9uXCIsXG4gICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICByZWZlcmVuY2U6IGllLFxuICAgIGFzeW5jOiAhMSxcbiAgICBvcGVyYXRpb246IGUsXG4gICAgXCJ+cnVuXCIodCkge1xuICAgICAgcmV0dXJuIHQudmFsdWUgPSB0aGlzLm9wZXJhdGlvbih0LnZhbHVlKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gUG8oZSwgdCwgbikge1xuICByZXR1cm4gdHlwZW9mIGUuZGVmYXVsdCA9PSBcImZ1bmN0aW9uXCIgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGUuZGVmYXVsdCh0LCBuKVxuICApIDogKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBlLmRlZmF1bHRcbiAgKTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBPZShlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICByZWZlcmVuY2U6IE9lLFxuICAgIGV4cGVjdHM6IFwiYm9vbGVhblwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBtZXNzYWdlOiBlLFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBRKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIodCwgbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0LnZhbHVlID09IFwiYm9vbGVhblwiID8gdC50eXBlZCA9ICEwIDogRCh0aGlzLCBcInR5cGVcIiwgdCwgbiksIHQ7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHhvKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgIHJlZmVyZW5jZTogeG8sXG4gICAgZXhwZWN0czogXCJEYXRlXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFEodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdC52YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBpc05hTih0LnZhbHVlKSA/IEQodGhpcywgXCJ0eXBlXCIsIHQsIG4sIHtcbiAgICAgICAgcmVjZWl2ZWQ6ICdcIkludmFsaWQgRGF0ZVwiJ1xuICAgICAgfSkgOiB0LnR5cGVkID0gITAgOiBEKHRoaXMsIFwidHlwZVwiLCB0LCBuKSwgdDtcbiAgICB9XG4gIH07XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gVG8oZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwic2NoZW1hXCIsXG4gICAgdHlwZTogXCJpbnN0YW5jZVwiLFxuICAgIHJlZmVyZW5jZTogVG8sXG4gICAgZXhwZWN0czogZS5uYW1lLFxuICAgIGFzeW5jOiAhMSxcbiAgICBjbGFzczogZSxcbiAgICBtZXNzYWdlOiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBRKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udmFsdWUgaW5zdGFuY2VvZiB0aGlzLmNsYXNzID8gbi50eXBlZCA9ICEwIDogRCh0aGlzLCBcInR5cGVcIiwgbiwgciksIG47XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIFJuKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwibGF6eVwiLFxuICAgIHJlZmVyZW5jZTogUm4sXG4gICAgZXhwZWN0czogXCJ1bmtub3duXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIGdldHRlcjogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUSh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldHRlcih0LnZhbHVlKVtcIn5ydW5cIl0odCwgbik7XG4gICAgfVxuICB9O1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIFVlKGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwibG9vc2Vfb2JqZWN0XCIsXG4gICAgcmVmZXJlbmNlOiBVZSxcbiAgICBleHBlY3RzOiBcIk9iamVjdFwiLFxuICAgIGFzeW5jOiAhMSxcbiAgICBlbnRyaWVzOiBlLFxuICAgIG1lc3NhZ2U6IHQsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFEodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihuLCByKSB7XG4gICAgICB2YXIgcztcbiAgICAgIGNvbnN0IG8gPSBuLnZhbHVlO1xuICAgICAgaWYgKG8gJiYgdHlwZW9mIG8gPT0gXCJvYmplY3RcIikge1xuICAgICAgICBuLnR5cGVkID0gITAsIG4udmFsdWUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBhIGluIHRoaXMuZW50cmllcykge1xuICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLmVudHJpZXNbYV07XG4gICAgICAgICAgaWYgKGEgaW4gbyB8fCAoaS50eXBlID09PSBcImV4YWN0X29wdGlvbmFsXCIgfHwgaS50eXBlID09PSBcIm9wdGlvbmFsXCIgfHwgaS50eXBlID09PSBcIm51bGxpc2hcIikgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgIGkuZGVmYXVsdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCB1ID0gYSBpbiBvID8gKFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgIG9bYV1cbiAgICAgICAgICAgICkgOiAvKiBAX19QVVJFX18gKi8gUG8oaSksIGMgPSBpW1wifnJ1blwiXSh7IHZhbHVlOiB1IH0sIHIpO1xuICAgICAgICAgICAgaWYgKGMuaXNzdWVzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGwgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogbyxcbiAgICAgICAgICAgICAgICBrZXk6IGEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIGMuaXNzdWVzKVxuICAgICAgICAgICAgICAgIHAucGF0aCA/IHAucGF0aC51bnNoaWZ0KGwpIDogcC5wYXRoID0gW2xdLCAocyA9IG4uaXNzdWVzKSA9PSBudWxsIHx8IHMucHVzaChwKTtcbiAgICAgICAgICAgICAgaWYgKG4uaXNzdWVzIHx8IChuLmlzc3VlcyA9IGMuaXNzdWVzKSwgci5hYm9ydEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgbi50eXBlZCA9ICExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjLnR5cGVkIHx8IChuLnR5cGVkID0gITEpLCBuLnZhbHVlW2FdID0gYy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkudHlwZSAhPT0gXCJleGFjdF9vcHRpb25hbFwiICYmIGkudHlwZSAhPT0gXCJvcHRpb25hbFwiICYmIGkudHlwZSAhPT0gXCJudWxsaXNoXCIgJiYgKEQodGhpcywgXCJrZXlcIiwgbiwgciwge1xuICAgICAgICAgICAgaW5wdXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBgXCIke2F9XCJgLFxuICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG8sXG4gICAgICAgICAgICAgICAga2V5OiBhLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICB2YWx1ZTogb1thXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSksIHIuYWJvcnRFYXJseSkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW4uaXNzdWVzIHx8ICFyLmFib3J0RWFybHkpXG4gICAgICAgICAgZm9yIChjb25zdCBhIGluIG8pXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gQW8obywgYSkgJiYgIShhIGluIHRoaXMuZW50cmllcykgJiYgKG4udmFsdWVbYV0gPSBvW2FdKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBEKHRoaXMsIFwidHlwZVwiLCBuLCByKTtcbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBmdChlKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHJlZmVyZW5jZTogZnQsXG4gICAgZXhwZWN0czogXCJudW1iZXJcIixcbiAgICBhc3luYzogITEsXG4gICAgbWVzc2FnZTogZSxcbiAgICBnZXQgXCJ+c3RhbmRhcmRcIigpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUSh0aGlzKTtcbiAgICB9LFxuICAgIFwifnJ1blwiKHQsIG4pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdC52YWx1ZSA9PSBcIm51bWJlclwiICYmICFpc05hTih0LnZhbHVlKSA/IHQudHlwZWQgPSAhMCA6IEQodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiB3KGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICByZWZlcmVuY2U6IHcsXG4gICAgZXhwZWN0czogYCgke2UuZXhwZWN0c30gfCB1bmRlZmluZWQpYCxcbiAgICBhc3luYzogITEsXG4gICAgd3JhcHBlZDogZSxcbiAgICBkZWZhdWx0OiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBRKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgcmV0dXJuIG4udmFsdWUgPT09IHZvaWQgMCAmJiAodGhpcy5kZWZhdWx0ICE9PSB2b2lkIDAgJiYgKG4udmFsdWUgPSAvKiBAX19QVVJFX18gKi8gUG8odGhpcywgbiwgcikpLCBuLnZhbHVlID09PSB2b2lkIDApID8gKG4udHlwZWQgPSAhMCwgbikgOiB0aGlzLndyYXBwZWRbXCJ+cnVuXCJdKG4sIHIpO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBCbyhlLCB0LCBuKSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgIHJlZmVyZW5jZTogQm8sXG4gICAgZXhwZWN0czogXCJPYmplY3RcIixcbiAgICBhc3luYzogITEsXG4gICAga2V5OiBlLFxuICAgIHZhbHVlOiB0LFxuICAgIG1lc3NhZ2U6IG4sXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFEodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIihyLCBzKSB7XG4gICAgICB2YXIgbywgYTtcbiAgICAgIGNvbnN0IGkgPSByLnZhbHVlO1xuICAgICAgaWYgKGkgJiYgdHlwZW9mIGkgPT0gXCJvYmplY3RcIikge1xuICAgICAgICByLnR5cGVkID0gITAsIHIudmFsdWUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB1IGluIGkpXG4gICAgICAgICAgaWYgKC8qIEBfX1BVUkVfXyAqLyBBbyhpLCB1KSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IGlbdV0sIGwgPSB0aGlzLmtleVtcIn5ydW5cIl0oeyB2YWx1ZTogdSB9LCBzKTtcbiAgICAgICAgICAgIGlmIChsLmlzc3Vlcykge1xuICAgICAgICAgICAgICBjb25zdCBtID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBpLFxuICAgICAgICAgICAgICAgIGtleTogdSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgbC5pc3N1ZXMpXG4gICAgICAgICAgICAgICAgZi5wYXRoID0gW21dLCAobyA9IHIuaXNzdWVzKSA9PSBudWxsIHx8IG8ucHVzaChmKTtcbiAgICAgICAgICAgICAgaWYgKHIuaXNzdWVzIHx8IChyLmlzc3VlcyA9IGwuaXNzdWVzKSwgcy5hYm9ydEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgci50eXBlZCA9ICExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy52YWx1ZVtcIn5ydW5cIl0oXG4gICAgICAgICAgICAgIHsgdmFsdWU6IGMgfSxcbiAgICAgICAgICAgICAgc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChwLmlzc3Vlcykge1xuICAgICAgICAgICAgICBjb25zdCBtID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGksXG4gICAgICAgICAgICAgICAga2V5OiB1LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBwLmlzc3VlcylcbiAgICAgICAgICAgICAgICBmLnBhdGggPyBmLnBhdGgudW5zaGlmdChtKSA6IGYucGF0aCA9IFttXSwgKGEgPSByLmlzc3VlcykgPT0gbnVsbCB8fCBhLnB1c2goZik7XG4gICAgICAgICAgICAgIGlmIChyLmlzc3VlcyB8fCAoci5pc3N1ZXMgPSBwLmlzc3VlcyksIHMuYWJvcnRFYXJseSkge1xuICAgICAgICAgICAgICAgIHIudHlwZWQgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKCFsLnR5cGVkIHx8ICFwLnR5cGVkKSAmJiAoci50eXBlZCA9ICExKSwgbC50eXBlZCAmJiAoci52YWx1ZVtsLnZhbHVlXSA9IHAudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICBEKHRoaXMsIFwidHlwZVwiLCByLCBzKTtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBnKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInNjaGVtYVwiLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgcmVmZXJlbmNlOiBnLFxuICAgIGV4cGVjdHM6IFwic3RyaW5nXCIsXG4gICAgYXN5bmM6ICExLFxuICAgIG1lc3NhZ2U6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFEodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHQudmFsdWUgPT0gXCJzdHJpbmdcIiA/IHQudHlwZWQgPSAhMCA6IEQodGhpcywgXCJ0eXBlXCIsIHQsIG4pLCB0O1xuICAgIH1cbiAgfTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiB6cihlKSB7XG4gIGxldCB0O1xuICBpZiAoZSlcbiAgICBmb3IgKGNvbnN0IG4gb2YgZSlcbiAgICAgIHQgPyB0LnB1c2goLi4ubi5pc3N1ZXMpIDogdCA9IG4uaXNzdWVzO1xuICByZXR1cm4gdDtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBIbihlLCB0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJzY2hlbWFcIixcbiAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgcmVmZXJlbmNlOiBIbixcbiAgICBleHBlY3RzOiAvKiBAX19QVVJFX18gKi8gZGwoXG4gICAgICBlLm1hcCgobikgPT4gbi5leHBlY3RzKSxcbiAgICAgIFwifFwiXG4gICAgKSxcbiAgICBhc3luYzogITEsXG4gICAgb3B0aW9uczogZSxcbiAgICBtZXNzYWdlOiB0LFxuICAgIGdldCBcIn5zdGFuZGFyZFwiKCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBRKHRoaXMpO1xuICAgIH0sXG4gICAgXCJ+cnVuXCIobiwgcikge1xuICAgICAgbGV0IHMsIG8sIGE7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5vcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHUgPSBpW1wifnJ1blwiXSh7IHZhbHVlOiBuLnZhbHVlIH0sIHIpO1xuICAgICAgICBpZiAodS50eXBlZClcbiAgICAgICAgICBpZiAodS5pc3N1ZXMpXG4gICAgICAgICAgICBvID8gby5wdXNoKHUpIDogbyA9IFt1XTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHMgPSB1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgYSA/IGEucHVzaCh1KSA6IGEgPSBbdV07XG4gICAgICB9XG4gICAgICBpZiAocylcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICBpZiAobykge1xuICAgICAgICBpZiAoby5sZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG9bMF07XG4gICAgICAgIEQodGhpcywgXCJ0eXBlXCIsIG4sIHIsIHtcbiAgICAgICAgICBpc3N1ZXM6IC8qIEBfX1BVUkVfXyAqLyB6cihvKVxuICAgICAgICB9KSwgbi50eXBlZCA9ICEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChhID09IG51bGwgPyB2b2lkIDAgOiBhLmxlbmd0aCkgPT09IDEpXG4gICAgICAgICAgcmV0dXJuIGFbMF07XG4gICAgICAgIEQodGhpcywgXCJ0eXBlXCIsIG4sIHIsIHtcbiAgICAgICAgICBpc3N1ZXM6IC8qIEBfX1BVUkVfXyAqLyB6cihhKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIE9vKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IGVbXCJ+cnVuXCJdKHsgdmFsdWU6IHQgfSwgLyogQF9fUFVSRV9fICovIENvKG4pKTtcbiAgaWYgKHIuaXNzdWVzKVxuICAgIHRocm93IG5ldyBmbChyLmlzc3Vlcyk7XG4gIHJldHVybiByLnZhbHVlO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIHVlKC4uLmUpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5lWzBdLFxuICAgIHBpcGU6IGUsXG4gICAgZ2V0IFwifnN0YW5kYXJkXCIoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFEodGhpcyk7XG4gICAgfSxcbiAgICBcIn5ydW5cIih0LCBuKSB7XG4gICAgICBmb3IgKGNvbnN0IHIgb2YgZSlcbiAgICAgICAgaWYgKHIua2luZCAhPT0gXCJtZXRhZGF0YVwiKSB7XG4gICAgICAgICAgaWYgKHQuaXNzdWVzICYmIChyLmtpbmQgPT09IFwic2NoZW1hXCIgfHwgci5raW5kID09PSBcInRyYW5zZm9ybWF0aW9uXCIpKSB7XG4gICAgICAgICAgICB0LnR5cGVkID0gITE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgKCF0Lmlzc3VlcyB8fCAhbi5hYm9ydEVhcmx5ICYmICFuLmFib3J0UGlwZUVhcmx5KSAmJiAodCA9IHJbXCJ+cnVuXCJdKHQsIG4pKTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gbWwoZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC9fW2Etel0vZywgKHQpID0+IHRbMV0udG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBobChlKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKHQsIFtuLCByXSkgPT4gKHRbbWwobildID0gciwgdCksIHt9KTtcbn1cbmZ1bmN0aW9uIG5uKGUpIHtcbiAgY29uc3QgdCA9IGhsKGUpO1xuICBmb3IgKGNvbnN0IG4gaW4gdCkge1xuICAgIGNvbnN0IHIgPSB0W25dO1xuICAgIHIgJiYgdHlwZW9mIHIgPT0gXCJvYmplY3RcIiAmJiAhKHIgaW5zdGFuY2VvZiBEYXRlKSAmJiAodFtuXSA9IEFycmF5LmlzQXJyYXkocikgPyByLm1hcChubikgOiBubihyKSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBGbihlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaWUoKHQpID0+IGUgPyBubih0KSA6IHQpO1xufVxuZnVuY3Rpb24gSW8oZSkge1xuICByZXR1cm4gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyB1ZShcbiAgICBlLFxuICAgIEZuKHQpXG4gICk7XG59XG5mdW5jdGlvbiBqbyhlKSB7XG4gIHJldHVybiAodCwgbikgPT4gT28oXG4gICAgLyogQF9fUFVSRV9fICovIHVlKGUsIEZuKG4pKSxcbiAgICB0XG4gICk7XG59XG5mdW5jdGlvbiBxbygpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBpZShKU09OLnBhcnNlKTtcbn1cbmZ1bmN0aW9uIFduKGUpIHtcbiAgY29uc3QgdCA9IElvKGUpO1xuICByZXR1cm4gKG4pID0+IC8qIEBfX1BVUkVfXyAqLyB1ZShcbiAgICAvKiBAX19QVVJFX18gKi8gZygpLFxuICAgIHFvKCksXG4gICAgdChuKVxuICApO1xufVxuZnVuY3Rpb24gRG8oZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGllKCh0KSA9PiB7XG4gICAgY29uc3QgbiA9IHt9O1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHQpLmZvckVhY2goKHIsIHMpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBuW3NdO1xuICAgICAgQXJyYXkuaXNBcnJheShvKSA/IG8ucHVzaChyKSA6IG8gPT09IHZvaWQgMCA/IG5bc10gPSByIDogbltzXSA9IFtvLCByXTtcbiAgICB9KSwgT28oZSwgbik7XG4gIH0pO1xufVxuZnVuY3Rpb24gTm8oZSkge1xuICByZXR1cm4gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyB1ZShcbiAgICAvKiBAX19QVVJFX18gKi8gSG4oWy8qIEBfX1BVUkVfXyAqLyBnKCksIC8qIEBfX1BVUkVfXyAqLyBUbyhVUkxTZWFyY2hQYXJhbXMpXSksXG4gICAgRG8oZSksXG4gICAgRm4odClcbiAgKTtcbn1cbmNvbnN0IEdyID0gLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIFJuKCgpID0+IHZsKCkpKSwgX2wgPSAvKiBAX19QVVJFX18gKi8gVWUoe1xuICBpZDogLyogQF9fUFVSRV9fICovIGZ0KCksXG4gIHBob3RvX3VybDogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIGcoKSksXG4gIHR5cGU6IC8qIEBfX1BVUkVfXyAqLyBnKCksXG4gIHRpdGxlOiAvKiBAX19QVVJFX18gKi8gZygpLFxuICB1c2VybmFtZTogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIGcoKSlcbn0pLCBibCA9IC8qIEBfX1BVUkVfXyAqLyBVZSh7XG4gIGFkZGVkX3RvX2F0dGFjaG1lbnRfbWVudTogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIE9lKCkpLFxuICBhbGxvd3Nfd3JpdGVfdG9fcG06IC8qIEBfX1BVUkVfXyAqLyB3KC8qIEBfX1BVUkVfXyAqLyBPZSgpKSxcbiAgZmlyc3RfbmFtZTogLyogQF9fUFVSRV9fICovIGcoKSxcbiAgaWQ6IC8qIEBfX1BVUkVfXyAqLyBmdCgpLFxuICBpc19ib3Q6IC8qIEBfX1BVUkVfXyAqLyB3KC8qIEBfX1BVUkVfXyAqLyBPZSgpKSxcbiAgaXNfcHJlbWl1bTogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIE9lKCkpLFxuICBsYXN0X25hbWU6IC8qIEBfX1BVUkVfXyAqLyB3KC8qIEBfX1BVUkVfXyAqLyBnKCkpLFxuICBsYW5ndWFnZV9jb2RlOiAvKiBAX19QVVJFX18gKi8gdygvKiBAX19QVVJFX18gKi8gZygpKSxcbiAgcGhvdG9fdXJsOiAvKiBAX19QVVJFX18gKi8gdygvKiBAX19QVVJFX18gKi8gZygpKSxcbiAgdXNlcm5hbWU6IC8qIEBfX1BVUkVfXyAqLyB3KC8qIEBfX1BVUkVfXyAqLyBnKCkpXG59KSwgeWwgPSAvKiBAX19QVVJFX18gKi8gVWUoe1xuICBhdXRoX2RhdGU6IC8qIEBfX1BVUkVfXyAqLyB1ZShcbiAgICAvKiBAX19QVVJFX18gKi8gZygpLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBpZSgoZSkgPT4gbmV3IERhdGUoTnVtYmVyKGUpICogMWUzKSksXG4gICAgLyogQF9fUFVSRV9fICovIHhvKClcbiAgKSxcbiAgY2FuX3NlbmRfYWZ0ZXI6IC8qIEBfX1BVUkVfXyAqLyB3KC8qIEBfX1BVUkVfXyAqLyB1ZSgvKiBAX19QVVJFX18gKi8gZygpLCAvKiBAX19QVVJFX18gKi8gaWUoTnVtYmVyKSwgLyogQF9fUFVSRV9fICovIE1vKCkpKSxcbiAgY2hhdDogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIFJuKCgpID0+IGdsKCkpKSxcbiAgY2hhdF90eXBlOiAvKiBAX19QVVJFX18gKi8gdygvKiBAX19QVVJFX18gKi8gZygpKSxcbiAgY2hhdF9pbnN0YW5jZTogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIGcoKSksXG4gIGhhc2g6IC8qIEBfX1BVUkVfXyAqLyBnKCksXG4gIHF1ZXJ5X2lkOiAvKiBAX19QVVJFX18gKi8gdygvKiBAX19QVVJFX18gKi8gZygpKSxcbiAgcmVjZWl2ZXI6IEdyLFxuICBzdGFydF9wYXJhbTogLyogQF9fUFVSRV9fICovIHcoLyogQF9fUFVSRV9fICovIGcoKSksXG4gIHNpZ25hdHVyZTogLyogQF9fUFVSRV9fICovIGcoKSxcbiAgdXNlcjogR3Jcbn0pLCBnbCA9IFduKF9sKSwgdmwgPSBXbihibCksIFZvID0gTm8oeWwpO1xuZnVuY3Rpb24gRWUoZSkge1xuICByZXR1cm4gL14jW1xcZGEtZl17Nn0kL2kudGVzdChlKTtcbn1cbmZ1bmN0aW9uIHdsKGUpIHtcbiAgcmV0dXJuIC9eI1tcXGRhLWZdezN9JC9pLnRlc3QoZSk7XG59XG5mdW5jdGlvbiBFbChlKSB7XG4gIGNvbnN0IHQgPSBlLnJlcGxhY2UoL1xccy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoRWUodCkpXG4gICAgcmV0dXJuIHQ7XG4gIGlmICh3bCh0KSkge1xuICAgIGxldCByID0gXCIjXCI7XG4gICAgZm9yIChsZXQgcyA9IDA7IHMgPCAzOyBzICs9IDEpXG4gICAgICByICs9IHRbMSArIHNdLnJlcGVhdCgyKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuICBjb25zdCBuID0gdC5tYXRjaCgvXnJnYlxcKChcXGR7MSwzfSksKFxcZHsxLDN9KSwoXFxkezEsM30pXFwpJC8pIHx8IHQubWF0Y2goL15yZ2JhXFwoKFxcZHsxLDN9KSwoXFxkezEsM30pLChcXGR7MSwzfSksXFxkezEsM31cXCkkLyk7XG4gIGlmICghbilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIFwiJHtlfVwiIGRvZXMgbm90IHNhdGlzZnkgYW55IG9mIGtub3duIFJHQiBmb3JtYXRzLmApO1xuICByZXR1cm4gbi5zbGljZSgxKS5yZWR1Y2UoKHIsIHMpID0+IHIgKyBwYXJzZUludChzLCAxMCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSwgXCIjXCIpO1xufVxuY29uc3QgJGwgPSBJbyhcbiAgLyogQF9fUFVSRV9fICovIEJvKFxuICAgIC8qIEBfX1BVUkVfXyAqLyBnKCksXG4gICAgLyogQF9fUFVSRV9fICovIHVlKFxuICAgICAgLyogQF9fUFVSRV9fICovIEhuKFsvKiBAX19QVVJFX18gKi8gZygpLCAvKiBAX19QVVJFX18gKi8gZnQoKV0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGllKChlKSA9PiB0eXBlb2YgZSA9PSBcIm51bWJlclwiID8gYCMkeyhlICYgMTY3NzcyMTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCBcIjBcIil9YCA6IGUpLFxuICAgICAgLyogQF9fUFVSRV9fICovIGtvKEVlKVxuICAgIClcbiAgKVxuKSwgSXQgPSAvKiBAX19QVVJFX18gKi8gdyhcbiAgLyogQF9fUFVSRV9fICovIHVlKC8qIEBfX1BVUkVfXyAqLyBnKCksIC8qIEBfX1BVUkVfXyAqLyBpZSgoZSkgPT4gZSA9PT0gXCIxXCIpKVxuKSwgUXIgPSBXbigkbCgpKSwgU2wgPSAvKiBAX19QVVJFX18gKi8gVWUoe1xuICB0Z1dlYkFwcEJvdElubGluZTogSXQsXG4gIHRnV2ViQXBwRGF0YTogLyogQF9fUFVSRV9fICovIHcoVm8oKSksXG4gIHRnV2ViQXBwRGVmYXVsdENvbG9yczogLyogQF9fUFVSRV9fICovIHcoUXIoKSksXG4gIHRnV2ViQXBwRnVsbHNjcmVlbjogSXQsXG4gIHRnV2ViQXBwUGxhdGZvcm06IC8qIEBfX1BVUkVfXyAqLyBnKCksXG4gIHRnV2ViQXBwU2hvd1NldHRpbmdzOiBJdCxcbiAgdGdXZWJBcHBTdGFydFBhcmFtOiAvKiBAX19QVVJFX18gKi8gdygvKiBAX19QVVJFX18gKi8gZygpKSxcbiAgdGdXZWJBcHBUaGVtZVBhcmFtczogUXIoKSxcbiAgdGdXZWJBcHBWZXJzaW9uOiAvKiBAX19QVVJFX18gKi8gZygpXG59KSwgQ2wgPSBObyhTbCksIG5tID0gam8oVm8oKSksIHJtID0gam8oQ2woKSk7XG5mdW5jdGlvbiBMbyhlLCB0KSB7XG4gIHJldHVybiB0IHx8ICh0ID0gKG4sIHIpID0+IEpTT04uc3RyaW5naWZ5KHIpKSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKG4sIFtyLCBzXSkgPT4gKEFycmF5LmlzQXJyYXkocykgPyBuLnB1c2goLi4ucy5tYXAoKG8pID0+IFtyLCBTdHJpbmcobyldKSkgOiBzICE9IG51bGwgJiYgbi5wdXNoKFtcbiAgICAgIHIsXG4gICAgICBzIGluc3RhbmNlb2YgRGF0ZSA/IChzLmdldFRpbWUoKSAvIDFlMyB8IDApLnRvU3RyaW5nKCkgOiB0eXBlb2YgcyA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBzID09IFwibnVtYmVyXCIgPyBTdHJpbmcocykgOiB0eXBlb2YgcyA9PSBcImJvb2xlYW5cIiA/IHMgPyBcIjFcIiA6IFwiMFwiIDogdChyLCBzKVxuICAgIF0pLCBuKSwgW10pXG4gICkudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIEFsKGUpIHtcbiAgcmV0dXJuIExvKGUpO1xufVxuZnVuY3Rpb24gc20oZSkge1xuICByZXR1cm4gTG8oZSwgKHQsIG4pID0+IHQgPT09IFwidGdXZWJBcHBEYXRhXCIgPyBBbChuKSA6IEpTT04uc3RyaW5naWZ5KG4pKTtcbn1cbmZ1bmN0aW9uIFJvKGUpIHtcbiAgY29uc3QgdCA9IEVsKGUpO1xuICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgIFswLjI5OSwgMC41ODcsIDAuMTE0XS5yZWR1Y2UoKG4sIHIsIHMpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBwYXJzZUludCh0LnNsaWNlKDEgKyBzICogMiwgMSArIChzICsgMSkgKiAyKSwgMTYpO1xuICAgICAgcmV0dXJuIG4gKyBvICogbyAqIHI7XG4gICAgfSwgMClcbiAgKSA8IDEyMDtcbn1cbmNvbnN0IFtqdCwga2xdID0gLyogQF9fUFVSRV9fICovIGIoITEpLCBbZGUsIE1sXSA9IC8qIEBfX1BVUkVfXyAqLyBiKHt9KTtcbmZ1bmN0aW9uIFQoZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgoKCkgPT4gZGUoKVtlXSk7XG59XG5jb25zdCBQbCA9IFQoXCJhY2NlbnRfdGV4dF9jb2xvclwiKSwgbXQgPSBUKFwiYmdfY29sb3JcIiksIFVuID0gVChcImJ1dHRvbl9jb2xvclwiKSwgSG8gPSBUKFwiYnV0dG9uX3RleHRfY29sb3JcIiksIEZvID0gVChcImJvdHRvbV9iYXJfYmdfY29sb3JcIiksIHhsID0gVChcImRlc3RydWN0aXZlX3RleHRfY29sb3JcIiksIFRsID0gVChcImhlYWRlcl9iZ19jb2xvclwiKSwgQmwgPSBUKFwiaGludF9jb2xvclwiKSwgT2wgPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiB7XG4gIGNvbnN0IGUgPSBtdCgpO1xuICByZXR1cm4gIWUgfHwgUm8oZSk7XG59KSwgSWwgPSBUKFwibGlua19jb2xvclwiKSwgWmUgPSBUKFwic2Vjb25kYXJ5X2JnX2NvbG9yXCIpLCBqbCA9IFQoXCJzZWN0aW9uX2JnX2NvbG9yXCIpLCBxbCA9IFQoXCJzZWN0aW9uX2hlYWRlcl90ZXh0X2NvbG9yXCIpLCBEbCA9IFQoXCJzZWN0aW9uX3NlcGFyYXRvcl9jb2xvclwiKSwgTmwgPSBUKFwic3VidGl0bGVfdGV4dF9jb2xvclwiKSwgVmwgPSBUKFwidGV4dF9jb2xvclwiKTtcbmZ1bmN0aW9uIF9lKGUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IHpuKClbZV0pO1xufVxuY29uc3QgcWUgPSAvKiBAX19QVVJFX18gKi8gQWUoe1xuICBoYXNTaGluZUVmZmVjdDogITEsXG4gIGlzRW5hYmxlZDogITAsXG4gIGlzTG9hZGVyVmlzaWJsZTogITEsXG4gIGlzVmlzaWJsZTogITEsXG4gIHRleHQ6IFwiQ29udGludWVcIlxufSksIHpuID0gLyogQF9fUFVSRV9fICovIGgoKCkgPT4ge1xuICBjb25zdCBlID0gcWUoKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5lLFxuICAgIGJhY2tncm91bmRDb2xvcjogZS5iYWNrZ3JvdW5kQ29sb3IgfHwgVW4oKSB8fCBcIiMyNDgxY2NcIixcbiAgICB0ZXh0Q29sb3I6IGUudGV4dENvbG9yIHx8IEhvKCkgfHwgXCIjZmZmZmZmXCJcbiAgfTtcbn0pLCBbcm4sIFdvXSA9IC8qIEBfX1BVUkVfXyAqLyBiKCExKSwgTGwgPSBfZShcImJhY2tncm91bmRDb2xvclwiKSwgUmwgPSBfZShcImhhc1NoaW5lRWZmZWN0XCIpLCBIbCA9IF9lKFwiaXNFbmFibGVkXCIpLCBGbCA9IF9lKFwiaXNMb2FkZXJWaXNpYmxlXCIpLCBXbCA9IF9lKFwiaXNWaXNpYmxlXCIpLCBVbCA9IF9lKFwidGV4dFwiKSwgemwgPSBfZShcInRleHRDb2xvclwiKSwgR2wgPSBcIndlYl9hcHBfc2V0dXBfbWFpbl9idXR0b25cIiwgVW8gPSBcIm1haW5fYnV0dG9uX3ByZXNzZWRcIiwgaHQgPSBcIm1haW5CdXR0b25cIiwgR24gPSBsZShodCksIFFsID0gbHQoaHQsIFdvKSwgSmwgPSBHbihcIm1vdW50XCIsICgpID0+IHtcbiAgaWYgKCFybigpKSB7XG4gICAgY29uc3QgZSA9IFYoKSAmJiBOKGh0KTtcbiAgICBlICYmIHFlLnNldChlKSwgcm4uc2V0KCEwKTtcbiAgfVxufSksIEtsID0gR24oXG4gIFwib25DbGlja1wiLFxuICAoZSkgPT4gUyhVbywgZSlcbiksIFlsID0gR24oXG4gIFwib2ZmQ2xpY2tcIixcbiAgKGUpID0+IHtcbiAgICBCKFVvLCBlKTtcbiAgfVxuKSwgWmwgPSBRbChcbiAgXCJzZXRQYXJhbXNcIixcbiAgKGUpID0+IHtcbiAgICBxZS5zZXQoeyAuLi5xZSgpLCAuLi5MbihlKSB9KSwgeihodCwgcWUoKSk7XG4gICAgY29uc3QgdCA9IHpuKCk7XG4gICAgdC50ZXh0ICYmIF8oR2wsIHtcbiAgICAgIGNvbG9yOiB0LmJhY2tncm91bmRDb2xvcixcbiAgICAgIGhhc19zaGluZV9lZmZlY3Q6IHQuaGFzU2hpbmVFZmZlY3QsXG4gICAgICBpc19hY3RpdmU6IHQuaXNFbmFibGVkLFxuICAgICAgaXNfcHJvZ3Jlc3NfdmlzaWJsZTogdC5pc0xvYWRlclZpc2libGUsXG4gICAgICBpc192aXNpYmxlOiB0LmlzVmlzaWJsZSxcbiAgICAgIHRleHQ6IHQudGV4dCxcbiAgICAgIHRleHRfY29sb3I6IHQudGV4dENvbG9yXG4gICAgfSk7XG4gIH1cbik7XG5mdW5jdGlvbiBYbCgpIHtcbiAgcm4uc2V0KCExKTtcbn1cbmNvbnN0IG9tID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFja2dyb3VuZENvbG9yOiBMbCxcbiAgaGFzU2hpbmVFZmZlY3Q6IFJsLFxuICBpc0VuYWJsZWQ6IEhsLFxuICBpc0xvYWRlclZpc2libGU6IEZsLFxuICBpc01vdW50ZWQ6IFdvLFxuICBpc1Zpc2libGU6IFdsLFxuICBtb3VudDogSmwsXG4gIG9mZkNsaWNrOiBZbCxcbiAgb25DbGljazogS2wsXG4gIHNldFBhcmFtczogWmwsXG4gIHN0YXRlOiB6bixcbiAgdGV4dDogVWwsXG4gIHRleHRDb2xvcjogemwsXG4gIHVubW91bnQ6IFhsXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpO1xuZnVuY3Rpb24gUW4oZSwgdCkge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoZSwgdCk7XG59XG5mdW5jdGlvbiBKbihlKSB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKTtcbn1cbmNvbnN0ICRlID0gXCJ0aGVtZVBhcmFtc1wiLCBLbiA9IFwidGhlbWVfY2hhbmdlZFwiLCB6byA9IGxlKCRlKSwgWW4gPSAoeyB0aGVtZV9wYXJhbXM6IGUgfSkgPT4ge1xuICBkZS5zZXQoZSksIHooJGUsIGUpO1xufSwgW1xuICBlcCxcbiAgR28sXG4gIHRwLFxuICBRb1xuXSA9IC8qIEBfX1BVUkVfXyAqLyBIZShcbiAgJGUsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgKGUpID0+IHgucmVzb2x2ZShcbiAgICBWKCkgJiYgTigkZSkgfHwgUmUoKS50Z1dlYkFwcFRoZW1lUGFyYW1zIHx8IHt9XG4gICksXG4gIChlKSA9PiB7XG4gICAgUyhLbiwgWW4pLCBkZS5zZXQoZSk7XG4gIH1cbiksIG5wID0gbHQoJGUsIFFvWzBdKSwgcnAgPSBucChcbiAgXCJiaW5kQ3NzVmFyc1wiLFxuICAoZSkgPT4ge1xuICAgIGlmIChqdCgpKVxuICAgICAgdGhyb3cgbmV3IENuKCk7XG4gICAgZSB8fCAoZSA9IChyKSA9PiBgLS10Zy10aGVtZS0ke0tpKHIpfWApO1xuICAgIGZ1bmN0aW9uIHQocikge1xuICAgICAgT2JqZWN0LmVudHJpZXMoZGUoKSkuZm9yRWFjaCgoW3MsIG9dKSA9PiB7XG4gICAgICAgIG8gJiYgcihzLCBvKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKCkge1xuICAgICAgdCgociwgcykgPT4ge1xuICAgICAgICBRbihlKHIpLCBzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbigpLCBkZS5zdWIobiksIGp0LnNldCghMCksICgpID0+IHtcbiAgICAgIHQoSm4pLCBkZS51bnN1YihuKSwganQuc2V0KCExKTtcbiAgICB9O1xuICB9XG4pLCBKbyA9IHpvKFwibW91bnRcIiwgZXApLCBzcCA9IEdvWzJdLCBLbyA9IEdvWzFdLCBvcCA9IHRwWzFdLCBbc24sIGFwXSA9IFFvLCBZbyA9IHpvKFwibW91bnRTeW5jXCIsICgpID0+IHtcbiAgaWYgKCFzbigpKSB7XG4gICAgY29uc3QgZSA9IFYoKSAmJiBOKCRlKSB8fCBSZSgpLnRnV2ViQXBwVGhlbWVQYXJhbXMgfHwge307XG4gICAgUyhLbiwgWW4pLCBOZSgoKSA9PiB7XG4gICAgICBkZS5zZXQoZSksIHNuLnNldCghMCk7XG4gICAgfSk7XG4gIH1cbn0pO1xuZnVuY3Rpb24gaXAoKSB7XG4gIE1lKEtvKSwgQihLbiwgWW4pLCBzbi5zZXQoITEpO1xufVxuY29uc3QgYW0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBhY2NlbnRUZXh0Q29sb3I6IFBsLFxuICBiYWNrZ3JvdW5kQ29sb3I6IG10LFxuICBiaW5kQ3NzVmFyczogcnAsXG4gIGJvdHRvbUJhckJnQ29sb3I6IEZvLFxuICBidXR0b25Db2xvcjogVW4sXG4gIGJ1dHRvblRleHRDb2xvcjogSG8sXG4gIGRlc3RydWN0aXZlVGV4dENvbG9yOiB4bCxcbiAgaGVhZGVyQmFja2dyb3VuZENvbG9yOiBUbCxcbiAgaGludENvbG9yOiBCbCxcbiAgaXNDc3NWYXJzQm91bmQ6IGtsLFxuICBpc0Rhcms6IE9sLFxuICBpc01vdW50ZWQ6IGFwLFxuICBpc01vdW50aW5nOiBzcCxcbiAgbGlua0NvbG9yOiBJbCxcbiAgbW91bnQ6IEpvLFxuICBtb3VudEVycm9yOiBvcCxcbiAgbW91bnRQcm9taXNlOiBLbyxcbiAgbW91bnRTeW5jOiBZbyxcbiAgc2Vjb25kYXJ5QmFja2dyb3VuZENvbG9yOiBaZSxcbiAgc2VjdGlvbkJhY2tncm91bmRDb2xvcjogamwsXG4gIHNlY3Rpb25IZWFkZXJUZXh0Q29sb3I6IHFsLFxuICBzZWN0aW9uU2VwYXJhdG9yQ29sb3I6IERsLFxuICBzdGF0ZTogTWwsXG4gIHN1YnRpdGxlVGV4dENvbG9yOiBObCxcbiAgdGV4dENvbG9yOiBWbCxcbiAgdW5tb3VudDogaXBcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gWm8oZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSBlKCk7XG4gICAgcmV0dXJuIEVlKHQpID8gdCA6IHQgPT09IFwiYmdfY29sb3JcIiA/IG10KCkgOiBaZSgpO1xuICB9KTtcbn1cbmNvbnN0IFtYZSwgdXBdID0gLyogQF9fUFVSRV9fICovIGIoXCJiZ19jb2xvclwiKSwgWm4gPSAvKiBAX19QVVJFX18gKi8gWm8oWGUpLCBbZXQsIGNwXSA9IC8qIEBfX1BVUkVfXyAqLyBiKFwiYm90dG9tX2Jhcl9iZ19jb2xvclwiKSwgWG4gPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiB7XG4gIGNvbnN0IGUgPSBldCgpO1xuICByZXR1cm4gRWUoZSkgPyBlIDogZSA9PT0gXCJib3R0b21fYmFyX2JnX2NvbG9yXCIgPyBGbygpIHx8IFplKCkgOiBlID09PSBcInNlY29uZGFyeV9iZ19jb2xvclwiID8gWmUoKSA6IG10KCk7XG59KSwgW3R0LCBscF0gPSAvKiBAX19QVVJFX18gKi8gYihcImJnX2NvbG9yXCIpLCBYbyA9IC8qIEBfX1BVUkVfXyAqLyBabyh0dCksIFtxdCwgcHBdID0gLyogQF9fUFVSRV9fICovIGIoITEpLCBkcCA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IHtcbiAgY29uc3QgZSA9IFpuKCk7XG4gIHJldHVybiBlID8gUm8oZSkgOiAhMTtcbn0pLCBbX3QsIGZwXSA9IC8qIEBfX1BVUkVfXyAqLyBiKCEwKSwgZWEgPSAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiAoe1xuICBiYWNrZ3JvdW5kQ29sb3I6IFhlKCksXG4gIGJvdHRvbUJhckNvbG9yOiBldCgpLFxuICBoZWFkZXJDb2xvcjogdHQoKSxcbiAgaXNBY3RpdmU6IF90KClcbn0pKSwgb24gPSBcIndlYl9hcHBfc2V0X2JhY2tncm91bmRfY29sb3JcIiwgYW4gPSBcIndlYl9hcHBfc2V0X2JvdHRvbV9iYXJfY29sb3JcIiwgSmUgPSBcIndlYl9hcHBfc2V0X2hlYWRlcl9jb2xvclwiLCBlciA9IFwidmlzaWJpbGl0eV9jaGFuZ2VkXCIsIG1lID0gXCJtaW5pQXBwXCIsIHRyID0ge1xuICBhbnk6IFtcbiAgICBvbixcbiAgICBhbixcbiAgICBKZVxuICBdXG59LCBtcCA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IHRyLmFueS5zb21lKChlKSA9PiBmZShlLCBzZSgpKSkpLCBuciA9IChlKSA9PiB7XG4gIF90LnNldChlLmlzX3Zpc2libGUpLCB5dCgpO1xufSwgW1xuICBocCxcbiAgdGEsXG4gIF9wLFxuICBuYVxuXSA9IC8qIEBfX1BVUkVfXyAqLyBIZShcbiAgbWUsXG4gIChlKSA9PiBKbyhlKS50aGVuKCgpID0+IFYoKSAmJiBOKG1lKSB8fCB2b2lkIDApLFxuICAoZSkgPT4ge1xuICAgIHJyLmlmQXZhaWxhYmxlKGUgPyBlLmJhY2tncm91bmRDb2xvciA6IFwiYmdfY29sb3JcIiksIHNyLmlmQXZhaWxhYmxlKGUgPyBlLmJvdHRvbUJhckNvbG9yIDogXCJib3R0b21fYmFyX2JnX2NvbG9yXCIpLCBvci5pZkF2YWlsYWJsZShlID8gZS5oZWFkZXJDb2xvciA6IFwiYmdfY29sb3JcIiksIF90LnNldChlID8gZS5pc0FjdGl2ZSA6ICEwKSwgUyhlciwgbnIpO1xuICB9XG4pLCByYSA9IGxlKG1lKSwgc2EgPSBMKG1lLCB0ciksIGJ0ID0gY2UobWUsIG5hWzBdLCB0ciksIGJwID0gYnQoXG4gIFwiYmluZENzc1ZhcnNcIixcbiAgKGUpID0+IHtcbiAgICBpZiAocXQoKSlcbiAgICAgIHRocm93IG5ldyBDbigpO1xuICAgIGNvbnN0IFt0LCBuXSA9IFNuKCk7XG4gICAgZnVuY3Rpb24gcihzLCBvKSB7XG4gICAgICBmdW5jdGlvbiBhKCkge1xuICAgICAgICBRbihzLCBvKCkgfHwgbnVsbCk7XG4gICAgICB9XG4gICAgICBhKCksIHQoby5zdWIoYSksIEpuLmJpbmQobnVsbCwgcykpO1xuICAgIH1cbiAgICByZXR1cm4gZSB8fCAoZSA9IChzKSA9PiBgLS10Zy0ke05zKHMpfWApLCByKGUoXCJiZ0NvbG9yXCIpLCBabiksIHIoZShcImJvdHRvbUJhckNvbG9yXCIpLCBYbiksIHIoZShcImhlYWRlckNvbG9yXCIpLCBYbyksIHQoKCkgPT4ge1xuICAgICAgcXQuc2V0KCExKTtcbiAgICB9KSwgcXQuc2V0KCEwKSwgbjtcbiAgfVxuKSwgeXAgPSByYShcImNsb3NlXCIsIChlKSA9PiB7XG4gIF8oXCJ3ZWJfYXBwX2Nsb3NlXCIsIHsgcmV0dXJuX2JhY2s6IGUgfSk7XG59KSwgZ3AgPSBzYShcIm1vdW50XCIsIGhwKSwgdnAgPSB0YVsyXSwgb2EgPSB0YVsxXSwgd3AgPSBfcFsxXSwgW3VuLCBFcF0gPSBuYSwgJHAgPSBzYShcIm1vdW50U3luY1wiLCAoKSA9PiB7XG4gIGlmICghdW4oKSkge1xuICAgIFlvKCk7XG4gICAgY29uc3QgZSA9IFYoKSAmJiBOKG1lKSB8fCB2b2lkIDA7XG4gICAgcnIuaWZBdmFpbGFibGUoZSA/IGUuYmFja2dyb3VuZENvbG9yIDogXCJiZ19jb2xvclwiKSwgc3IuaWZBdmFpbGFibGUoZSA/IGUuYm90dG9tQmFyQ29sb3IgOiBcImJvdHRvbV9iYXJfYmdfY29sb3JcIiksIG9yLmlmQXZhaWxhYmxlKGUgPyBlLmhlYWRlckNvbG9yIDogXCJiZ19jb2xvclwiKSwgUyhlciwgbnIpLCBOZSgoKSA9PiB7XG4gICAgICBfdC5zZXQoZSA/IGUuaXNBY3RpdmUgOiAhMCksIHVuLnNldCghMCk7XG4gICAgfSk7XG4gIH1cbn0pLCBTcCA9IHJhKFwicmVhZHlcIiwgKCkgPT4ge1xuICBfKFwid2ViX2FwcF9yZWFkeVwiKTtcbn0pO1xuZnVuY3Rpb24geXQoKSB7XG4gIHoobWUsIGVhKCkpO1xufVxuY29uc3QgcnIgPSBidChcbiAgXCJzZXRCYWNrZ3JvdW5kQ29sb3JcIixcbiAgKGUpID0+IHtcbiAgICBlICE9PSBYZSgpICYmIChfKG9uLCB7IGNvbG9yOiBlIH0pLCBYZS5zZXQoZSksIHl0KCkpO1xuICB9LFxuICBvblxuKSwgc3IgPSBidChcbiAgXCJzZXRCb3R0b21CYXJDb2xvclwiLFxuICAoZSkgPT4ge1xuICAgIGUgIT09IGV0KCkgJiYgKF8oYW4sIHsgY29sb3I6IGUgfSksIGV0LnNldChlKSwgeXQoKSk7XG4gIH0sXG4gIGFuXG4pLCBvciA9IGJ0KFxuICBcInNldEhlYWRlckNvbG9yXCIsXG4gIChlKSA9PiB7XG4gICAgZSAhPT0gdHQoKSAmJiAoXyhKZSwgRWUoZSkgPyB7IGNvbG9yOiBlIH0gOiB7IGNvbG9yX2tleTogZSB9KSwgdHQuc2V0KGUpLCB5dCgpKTtcbiAgfSxcbiAgSmUsXG4gIHtcbiAgICByZ2I6IFtKZSwgXCJjb2xvclwiLCBFZV1cbiAgfVxuKTtcbmZ1bmN0aW9uIENwKCkge1xuICBNZShvYSksIEIoZXIsIG5yKSwgdW4uc2V0KCExKTtcbn1cbmNvbnN0IGltID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFja2dyb3VuZENvbG9yOiB1cCxcbiAgYmFja2dyb3VuZENvbG9yUkdCOiBabixcbiAgYmluZENzc1ZhcnM6IGJwLFxuICBib3R0b21CYXJDb2xvcjogY3AsXG4gIGJvdHRvbUJhckNvbG9yUkdCOiBYbixcbiAgY2xvc2U6IHlwLFxuICBoZWFkZXJDb2xvcjogbHAsXG4gIGhlYWRlckNvbG9yUkdCOiBYbyxcbiAgaXNBY3RpdmU6IGZwLFxuICBpc0Nzc1ZhcnNCb3VuZDogcHAsXG4gIGlzRGFyazogZHAsXG4gIGlzTW91bnRlZDogRXAsXG4gIGlzTW91bnRpbmc6IHZwLFxuICBpc1N1cHBvcnRlZDogbXAsXG4gIG1vdW50OiBncCxcbiAgbW91bnRFcnJvcjogd3AsXG4gIG1vdW50UHJvbWlzZTogb2EsXG4gIG1vdW50U3luYzogJHAsXG4gIHJlYWR5OiBTcCxcbiAgc2V0QmFja2dyb3VuZENvbG9yOiBycixcbiAgc2V0Qm90dG9tQmFyQ29sb3I6IHNyLFxuICBzZXRIZWFkZXJDb2xvcjogb3IsXG4gIHN0YXRlOiBlYSxcbiAgdW5tb3VudDogQ3Bcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG5mdW5jdGlvbiBBcChlKSB7XG4gIGNvbnN0IHQgPSBlLm1lc3NhZ2UudHJpbSgpLCBuID0gKGUudGl0bGUgfHwgXCJcIikudHJpbSgpLCByID0gZS5idXR0b25zIHx8IFtdO1xuICBpZiAobi5sZW5ndGggPiA2NClcbiAgICB0aHJvdyBuZXcgSihgSW52YWxpZCB0aXRsZTogJHtufWApO1xuICBpZiAoIXQgfHwgdC5sZW5ndGggPiAyNTYpXG4gICAgdGhyb3cgbmV3IEooYEludmFsaWQgbWVzc2FnZTogJHt0fWApO1xuICBpZiAoci5sZW5ndGggPiAzKVxuICAgIHRocm93IG5ldyBKKGBJbnZhbGlkIGJ1dHRvbnMgY291bnQ6ICR7ci5sZW5ndGh9YCk7XG4gIHJldHVybiB7XG4gICAgdGl0bGU6IG4sXG4gICAgbWVzc2FnZTogdCxcbiAgICBidXR0b25zOiByLmxlbmd0aCA/IHIubWFwKChzLCBvKSA9PiB7XG4gICAgICBjb25zdCBhID0gcy5pZCB8fCBcIlwiO1xuICAgICAgaWYgKGEubGVuZ3RoID4gNjQpXG4gICAgICAgIHRocm93IG5ldyBKKGBCdXR0b24gd2l0aCBpbmRleCAke299IGhhcyBpbnZhbGlkIGlkOiAke2F9YCk7XG4gICAgICBpZiAoIXMudHlwZSB8fCBzLnR5cGUgPT09IFwiZGVmYXVsdFwiIHx8IHMudHlwZSA9PT0gXCJkZXN0cnVjdGl2ZVwiKSB7XG4gICAgICAgIGNvbnN0IGkgPSBzLnRleHQudHJpbSgpO1xuICAgICAgICBpZiAoIWkgfHwgaS5sZW5ndGggPiA2NClcbiAgICAgICAgICB0aHJvdyBuZXcgSihgQnV0dG9uIHdpdGggaW5kZXggJHtvfSBoYXMgaW52YWxpZCB0ZXh0OiAke2l9YCk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IHMudHlwZSwgdGV4dDogaSwgaWQ6IGEgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHR5cGU6IHMudHlwZSwgaWQ6IGEgfTtcbiAgICB9KSA6IFt7IHR5cGU6IFwiY2xvc2VcIiwgaWQ6IFwiXCIgfV1cbiAgfTtcbn1cbmNvbnN0IGFyID0gXCJ3ZWJfYXBwX29wZW5fcG9wdXBcIiwgYWEgPSBMKFwicG9wdXBcIiwgYXIpLCBrcCA9IEcoYXIpLCBbaWEsIGlyLCB1YV0gPSBPKFxuICAoZSkgPT4gQyhhciwgXCJwb3B1cF9jbG9zZWRcIiwge1xuICAgIC4uLmUsXG4gICAgcGFyYW1zOiBBcChlKVxuICB9KS50aGVuKCh7IGJ1dHRvbl9pZDogdCB9KSA9PiB0ID09PSB2b2lkIDAgPyBudWxsIDogdCksXG4gIFwiQSBwb3B1cCBpcyBhbHJlYWR5IG9wZW5lZFwiXG4pLCBNcCA9IGFhKFwib3BlblwiLCBpYSksIFBwID0gaXJbMV0sIHhwID0gaXJbMl0sIFRwID0gdWFbMV0sIEJwID0gYWEoXCJzaG93XCIsIGlhKSwgWywgT3AsIElwXSA9IGlyLCBbLCBqcF0gPSB1YSwgdW0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBpc09wZW5lZDogeHAsXG4gIGlzU2hvd246IElwLFxuICBpc1N1cHBvcnRlZDoga3AsXG4gIG9wZW46IE1wLFxuICBvcGVuRXJyb3I6IFRwLFxuICBvcGVuUHJvbWlzZTogUHAsXG4gIHNob3c6IEJwLFxuICBzaG93RXJyb3I6IGpwLFxuICBzaG93UHJvbWlzZTogT3Bcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIGNhID0gXCJ3ZWJfYXBwX2Nsb3NlX3NjYW5fcXJfcG9wdXBcIiwgdXIgPSBcIndlYl9hcHBfb3Blbl9zY2FuX3FyX3BvcHVwXCIsIHFwID0gXCJzY2FuX3FyX3BvcHVwX2Nsb3NlZFwiLCBEcCA9IFwicXJfdGV4dF9yZWNlaXZlZFwiLCBsYSA9IEwoXCJxclNjYW5uZXJcIiwgdXIpLCBOcCA9IGxhKFwiY2xvc2VcIiwgKCkgPT4ge1xuICBfKGNhKSwgTWUocGEpO1xufSksIFZwID0gRyh1cik7XG5mdW5jdGlvbiBMcChlKSB7XG4gIGUgfHwgKGUgPSB7fSk7XG4gIGNvbnN0IHsgb25DYXB0dXJlZDogdCwgdGV4dDogbiwgY2FwdHVyZTogciB9ID0gZSwgWywgc10gPSBTbihcbiAgICBTKHFwLCAoKSA9PiB7XG4gICAgICBvLnJlc29sdmUoKTtcbiAgICB9KSxcbiAgICBTKERwLCAoYSkgPT4ge1xuICAgICAgdCA/IHQoYS5kYXRhKSA6ICghciB8fCByKGEuZGF0YSkpICYmIChvLnJlc29sdmUoYS5kYXRhKSwgXyhjYSkpO1xuICAgIH0pXG4gICksIG8gPSBuZXcgU3UoZSk7XG4gIHJldHVybiAoZS5wb3N0RXZlbnQgfHwgXykodXIsIHsgdGV4dDogbiB9KSwgeC5yZXNvbHZlKG8pLmNhdGNoKEtzKS5maW5hbGx5KHMpO1xufVxuY29uc3QgW1xuICBScCxcbiAgSHAsXG4gIEZwXG5dID0gTyhMcCwgXCJUaGUgUVIgU2Nhbm5lciBpcyBhbHJlYWR5IG9wZW5lZFwiKSwgV3AgPSBsYShcIm9wZW5cIiwgUnApLCBbLCBwYSwgVXBdID0gSHAsIFssIHpwXSA9IEZwLCBjbSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGNsb3NlOiBOcCxcbiAgaXNPcGVuZWQ6IFVwLFxuICBpc1N1cHBvcnRlZDogVnAsXG4gIG9wZW46IFdwLFxuICBvcGVuRXJyb3I6IHpwLFxuICBvcGVuUHJvbWlzZTogcGFcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG5mdW5jdGlvbiBwZShlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiBjcigpW2VdKTtcbn1cbmNvbnN0IERlID0gLyogQF9fUFVSRV9fICovIEFlKHtcbiAgaGFzU2hpbmVFZmZlY3Q6ICExLFxuICBpc0VuYWJsZWQ6ICEwLFxuICBpc0xvYWRlclZpc2libGU6ICExLFxuICBpc1Zpc2libGU6ICExLFxuICBwb3NpdGlvbjogXCJsZWZ0XCIsXG4gIHRleHQ6IFwiQ2FuY2VsXCJcbn0pLCBjciA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IHtcbiAgY29uc3QgZSA9IERlKCk7XG4gIHJldHVybiB7XG4gICAgLi4uZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGUuYmFja2dyb3VuZENvbG9yIHx8IFhuKCkgfHwgXCIjMDAwMDAwXCIsXG4gICAgdGV4dENvbG9yOiBlLnRleHRDb2xvciB8fCBVbigpIHx8IFwiIzI0ODFjY1wiXG4gIH07XG59KSwgW2NuLCBkYV0gPSAvKiBAX19QVVJFX18gKi8gYighMSksIEdwID0gcGUoXCJiYWNrZ3JvdW5kQ29sb3JcIiksIFFwID0gcGUoXCJoYXNTaGluZUVmZmVjdFwiKSwgSnAgPSBwZShcImlzRW5hYmxlZFwiKSwgS3AgPSBwZShcImlzTG9hZGVyVmlzaWJsZVwiKSwgWXAgPSBwZShcImlzVmlzaWJsZVwiKSwgWnAgPSBwZShcInBvc2l0aW9uXCIpLCBYcCA9IHBlKFwidGV4dFwiKSwgZWQgPSBwZShcInRleHRDb2xvclwiKSwgZ3QgPSBcIndlYl9hcHBfc2V0dXBfc2Vjb25kYXJ5X2J1dHRvblwiLCBmYSA9IFwic2Vjb25kYXJ5X2J1dHRvbl9wcmVzc2VkXCIsIHZ0ID0gXCJzZWNvbmRhcnlCdXR0b25cIiwgbHIgPSBMKHZ0LCBndCksIHRkID0gY2UodnQsIGRhLCBndCksIG5kID0gRyhndCksIHJkID0gbHIoXCJtb3VudFwiLCAoKSA9PiB7XG4gIGlmICghY24oKSkge1xuICAgIGNvbnN0IGUgPSBWKCkgJiYgTih2dCk7XG4gICAgZSAmJiBEZS5zZXQoZSksIGNuLnNldCghMCk7XG4gIH1cbn0pLCBzZCA9IGxyKFxuICBcIm9uQ2xpY2tcIixcbiAgKGUpID0+IFMoZmEsIGUpXG4pLCBvZCA9IGxyKFxuICBcIm9mZkNsaWNrXCIsXG4gIChlKSA9PiB7XG4gICAgQihmYSwgZSk7XG4gIH1cbiksIGFkID0gdGQoXG4gIFwic2V0UGFyYW1zXCIsXG4gIChlKSA9PiB7XG4gICAgRGUuc2V0KHsgLi4uRGUoKSwgLi4uTG4oZSkgfSksIHoodnQsIERlKCkpO1xuICAgIGNvbnN0IHQgPSBjcigpO1xuICAgIHQudGV4dCAmJiBfKGd0LCB7XG4gICAgICBjb2xvcjogdC5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBoYXNfc2hpbmVfZWZmZWN0OiB0Lmhhc1NoaW5lRWZmZWN0LFxuICAgICAgaXNfYWN0aXZlOiB0LmlzRW5hYmxlZCxcbiAgICAgIGlzX3Byb2dyZXNzX3Zpc2libGU6IHQuaXNMb2FkZXJWaXNpYmxlLFxuICAgICAgaXNfdmlzaWJsZTogdC5pc1Zpc2libGUsXG4gICAgICBwb3NpdGlvbjogdC5wb3NpdGlvbixcbiAgICAgIHRleHQ6IHQudGV4dCxcbiAgICAgIHRleHRfY29sb3I6IHQudGV4dENvbG9yXG4gICAgfSk7XG4gIH1cbik7XG5mdW5jdGlvbiBpZCgpIHtcbiAgY24uc2V0KCExKTtcbn1cbmNvbnN0IGxtID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFja2dyb3VuZENvbG9yOiBHcCxcbiAgaGFzU2hpbmVFZmZlY3Q6IFFwLFxuICBpc0VuYWJsZWQ6IEpwLFxuICBpc0xvYWRlclZpc2libGU6IEtwLFxuICBpc01vdW50ZWQ6IGRhLFxuICBpc1N1cHBvcnRlZDogbmQsXG4gIGlzVmlzaWJsZTogWXAsXG4gIG1vdW50OiByZCxcbiAgb2ZmQ2xpY2s6IG9kLFxuICBvbkNsaWNrOiBzZCxcbiAgcG9zaXRpb246IFpwLFxuICBzZXRQYXJhbXM6IGFkLFxuICBzdGF0ZTogY3IsXG4gIHRleHQ6IFhwLFxuICB0ZXh0Q29sb3I6IGVkLFxuICB1bm1vdW50OiBpZFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgd3QgPSBcIndlYl9hcHBfc2V0dXBfc2V0dGluZ3NfYnV0dG9uXCIsIG1hID0gXCJzZXR0aW5nc19idXR0b25fcHJlc3NlZFwiLCBFdCA9IFwic2V0dGluZ3NCdXR0b25cIiwgW0pyLCB1ZF0gPSAvKiBAX19QVVJFX18gKi8gYighMSksIFtudCwgY2RdID0gLyogQF9fUFVSRV9fICovIGIoITEpLCBsZCA9IEcod3QpLCBwciA9IEwoRXQsIHd0KSwgaGEgPSBjZShFdCwgbnQsIHd0KSwgcGQgPSBoYShcImhpZGVcIiwgKCkgPT4ge1xuICBkcighMSk7XG59KSwgZGQgPSBwcihcIm1vdW50XCIsICgpID0+IHtcbiAgbnQoKSB8fCAoZHIoVigpICYmIE4oRXQpIHx8ICExKSwgbnQuc2V0KCEwKSk7XG59KTtcbmZ1bmN0aW9uIGRyKGUpIHtcbiAgZSAhPT0gSnIoKSAmJiAoXyh3dCwgeyBpc192aXNpYmxlOiBlIH0pLCB6KEV0LCBlKSwgSnIuc2V0KGUpKTtcbn1cbmNvbnN0IGZkID0gcHIoXG4gIFwib25DbGlja1wiLFxuICAoZSkgPT4gUyhtYSwgZSlcbiksIG1kID0gcHIoXG4gIFwib2ZmQ2xpY2tcIixcbiAgKGUpID0+IHtcbiAgICBCKG1hLCBlKTtcbiAgfVxuKSwgaGQgPSBoYShcInNob3dcIiwgKCkgPT4ge1xuICBkcighMCk7XG59KTtcbmZ1bmN0aW9uIF9kKCkge1xuICBudC5zZXQoITEpO1xufVxuY29uc3QgcG0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBoaWRlOiBwZCxcbiAgaXNNb3VudGVkOiBjZCxcbiAgaXNTdXBwb3J0ZWQ6IGxkLFxuICBpc1Zpc2libGU6IHVkLFxuICBtb3VudDogZGQsXG4gIG9mZkNsaWNrOiBtZCxcbiAgb25DbGljazogZmQsXG4gIHNob3c6IGhkLFxuICB1bm1vdW50OiBfZFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgJHQgPSBcIndlYl9hcHBfc2V0dXBfc3dpcGVfYmVoYXZpb3JcIiwgU3QgPSBcInN3aXBlQmVoYXZpb3JcIiwgW0xlLCBiZF0gPSAvKiBAX19QVVJFX18gKi8gYighMSksIHlkID0gRygkdCksIFtsbiwgZ2RdID0gLyogQF9fUFVSRV9fICovIGIoITApLCB2ZCA9IEwoU3QsICR0KSwgX2EgPSBjZShTdCwgTGUsICR0KSwgd2QgPSBfYShcImRpc2FibGVWZXJ0aWNhbFwiLCAoKSA9PiB7XG4gIGZyKCExKTtcbn0pLCBFZCA9IF9hKFwiZW5hYmxlVmVydGljYWxcIiwgKCkgPT4ge1xuICBmcighMCk7XG59KSwgJGQgPSB2ZChcIm1vdW50XCIsICgpID0+IHtcbiAgTGUoKSB8fCAoZnIoXG4gICAgVigpICYmIE4oU3QpIHx8ICExLFxuICAgICEwXG4gICksIExlLnNldCghMCkpO1xufSk7XG5mdW5jdGlvbiBmcihlLCB0KSB7XG4gIChlICE9PSBsbigpIHx8IHQpICYmIChfKCR0LCB7IGFsbG93X3ZlcnRpY2FsX3N3aXBlOiBlIH0pLCB6KFN0LCBlKSwgbG4uc2V0KGUpKTtcbn1cbmZ1bmN0aW9uIFNkKCkge1xuICBMZS5zZXQoITEpO1xufVxuY29uc3QgZG0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBfaXNNb3VudGVkOiBMZSxcbiAgX2lzVmVydGljYWxFbmFibGVkOiBsbixcbiAgZGlzYWJsZVZlcnRpY2FsOiB3ZCxcbiAgZW5hYmxlVmVydGljYWw6IEVkLFxuICBpc01vdW50ZWQ6IGJkLFxuICBpc1N1cHBvcnRlZDogeWQsXG4gIGlzVmVydGljYWxFbmFibGVkOiBnZCxcbiAgbW91bnQ6ICRkLFxuICB1bm1vdW50OiBTZFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgYmUgPSBcInZpZXdwb3J0XCIsIG1yID0gXCJmdWxsc2NyZWVuX2NoYW5nZWRcIiwgaHIgPSBcInNhZmVfYXJlYV9jaGFuZ2VkXCIsIF9yID0gXCJjb250ZW50X3NhZmVfYXJlYV9jaGFuZ2VkXCIsIGJyID0gXCJ2aWV3cG9ydF9jaGFuZ2VkXCIsIGJhID0gbGUoYmUpLCBLciA9IHsgbGVmdDogMCwgdG9wOiAwLCBib3R0b206IDAsIHJpZ2h0OiAwIH07XG5mdW5jdGlvbiBEdChlKSB7XG4gIHJldHVybiBNYXRoLm1heChlLCAwKTtcbn1cbmNvbnN0IFtOdCwgeWFdID0gLyogQF9fUFVSRV9fICovIGIoe1xuICBjb250ZW50U2FmZUFyZWFJbnNldHM6IEtyLFxuICBoZWlnaHQ6IDAsXG4gIGlzRXhwYW5kZWQ6ICExLFxuICBpc0Z1bGxzY3JlZW46ICExLFxuICBzYWZlQXJlYUluc2V0czogS3IsXG4gIHN0YWJsZUhlaWdodDogMCxcbiAgd2lkdGg6IDBcbn0pO1xuZnVuY3Rpb24geWUoZSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGgoKCkgPT4geWEoKVtlXSk7XG59XG5jb25zdCB5ciA9IHllKFwiaGVpZ2h0XCIpLCBnciA9IHllKFwic3RhYmxlSGVpZ2h0XCIpLCBnYSA9IHllKFwid2lkdGhcIiksIENkID0geWUoXCJpc0V4cGFuZGVkXCIpLCBBZCA9IC8qIEBfX1BVUkVfXyAqLyBoKCgpID0+IHlyKCkgPT09IGdyKCkpO1xuZnVuY3Rpb24gUGUoZSkge1xuICBjb25zdCB7IGhlaWdodDogdCwgc3RhYmxlSGVpZ2h0OiBuLCB3aWR0aDogciB9ID0gZTtcbiAgTnQuc2V0KHtcbiAgICAuLi5OdCgpLFxuICAgIC4uLkxuKHtcbiAgICAgIC4uLmUsXG4gICAgICBoZWlnaHQ6IHQgPyBEdCh0KSA6IHZvaWQgMCxcbiAgICAgIHdpZHRoOiByID8gRHQocikgOiB2b2lkIDAsXG4gICAgICBzdGFibGVIZWlnaHQ6IG4gPyBEdChuKSA6IHZvaWQgMFxuICAgIH0pXG4gIH0pLCB6KGJlLCBOdCgpKTtcbn1cbmZ1bmN0aW9uIGtkKCkge1xuICByZXR1cm4gTihiZSk7XG59XG5mdW5jdGlvbiBDdChlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiB2cigpW2VdKTtcbn1cbmNvbnN0IHZyID0geWUoXCJjb250ZW50U2FmZUFyZWFJbnNldHNcIiksIHZhID0gQ3QoXCJib3R0b21cIiksIHdhID0gQ3QoXCJsZWZ0XCIpLCBFYSA9IEN0KFwicmlnaHRcIiksICRhID0gQ3QoXCJ0b3BcIik7XG5mdW5jdGlvbiBBdChlKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaCgoKSA9PiB3cigpW2VdKTtcbn1cbmNvbnN0IHdyID0geWUoXCJzYWZlQXJlYUluc2V0c1wiKSwgU2EgPSBBdChcImJvdHRvbVwiKSwgQ2EgPSBBdChcImxlZnRcIiksIEFhID0gQXQoXCJyaWdodFwiKSwga2EgPSBBdChcInRvcFwiKSwgTWEgPSBcIndlYl9hcHBfcmVxdWVzdF9zYWZlX2FyZWFcIiwgUGEgPSBMKGJlLCBNYSksIFlyID0gUGEoXG4gIFwicmVxdWVzdENvbnRlbnRTYWZlQXJlYUluc2V0c1wiLFxuICAoZSkgPT4gQyhcIndlYl9hcHBfcmVxdWVzdF9jb250ZW50X3NhZmVfYXJlYVwiLCBfciwgZSlcbik7XG5mdW5jdGlvbiBNZChlKSB7XG4gIHJldHVybiBDKFwid2ViX2FwcF9yZXF1ZXN0X3ZpZXdwb3J0XCIsIGJyLCBlKTtcbn1cbmNvbnN0IFpyID0gUGEoXG4gIFwicmVxdWVzdFNhZmVBcmVhSW5zZXRzXCIsXG4gIChlKSA9PiBDKE1hLCBociwgZSlcbiksIHhhID0gKGUpID0+IHtcbiAgY29uc3QgeyBoZWlnaHQ6IHQgfSA9IGU7XG4gIFBlKHtcbiAgICBpc0V4cGFuZGVkOiBlLmlzX2V4cGFuZGVkLFxuICAgIGhlaWdodDogdCxcbiAgICB3aWR0aDogZS53aWR0aCxcbiAgICBzdGFibGVIZWlnaHQ6IGUuaXNfc3RhdGVfc3RhYmxlID8gdCA6IHZvaWQgMFxuICB9KTtcbn0sIFRhID0gKGUpID0+IHtcbiAgUGUoeyBpc0Z1bGxzY3JlZW46IGUuaXNfZnVsbHNjcmVlbiB9KTtcbn0sIEJhID0gKGUpID0+IHtcbiAgUGUoeyBzYWZlQXJlYUluc2V0czogZSB9KTtcbn0sIE9hID0gKGUpID0+IHtcbiAgUGUoeyBjb250ZW50U2FmZUFyZWFJbnNldHM6IGUgfSk7XG59LCBbXG4gIFBkLFxuICB4ZCxcbiAgVGQsXG4gIEJkXG5dID0gLyogQF9fUFVSRV9fICovIEhlKFxuICBiZSxcbiAgKGUpID0+IHtcbiAgICBjb25zdCB0ID0gVigpICYmIGtkKCk7XG4gICAgcmV0dXJuIHQgPyB4LnJlc29sdmUodCkgOiB4LmZuKGFzeW5jIChuKSA9PiB7XG4gICAgICBjb25zdCByID0gYXdhaXQgeC5hbGwoW1xuICAgICAgICBaci5pc0F2YWlsYWJsZSgpID8gWnIobikgOiB3cigpLFxuICAgICAgICBZci5pc0F2YWlsYWJsZSgpID8gWXIobikgOiB2cigpXG4gICAgICBdKSwgcyA9IFJlKCksIG8gPSB7XG4gICAgICAgIGNvbnRlbnRTYWZlQXJlYUluc2V0czogclsxXSxcbiAgICAgICAgaXNGdWxsc2NyZWVuOiAhIXMudGdXZWJBcHBGdWxsc2NyZWVuLFxuICAgICAgICBzYWZlQXJlYUluc2V0czogclswXVxuICAgICAgfTtcbiAgICAgIGlmIChbXCJtYWNvc1wiLCBcInRkZXNrdG9wXCIsIFwidW5pZ3JhbVwiLCBcIndlYmtcIiwgXCJ3ZWJhXCIsIFwid2ViXCJdLmluY2x1ZGVzKHMudGdXZWJBcHBQbGF0Zm9ybSkpIHtcbiAgICAgICAgY29uc3QgYSA9IHdpbmRvdztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5vLFxuICAgICAgICAgIGhlaWdodDogYS5pbm5lckhlaWdodCxcbiAgICAgICAgICBpc0V4cGFuZGVkOiAhMCxcbiAgICAgICAgICBzdGFibGVIZWlnaHQ6IGEuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGEuaW5uZXJXaWR0aFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1kKG4pLnRoZW4oKGEpID0+ICh7XG4gICAgICAgIC4uLm8sXG4gICAgICAgIGhlaWdodDogYS5oZWlnaHQsXG4gICAgICAgIGlzRXhwYW5kZWQ6IGEuaXNfZXhwYW5kZWQsXG4gICAgICAgIHN0YWJsZUhlaWdodDogYS5pc19zdGF0ZV9zdGFibGUgPyBhLmhlaWdodCA6IDAsXG4gICAgICAgIHdpZHRoOiBhLndpZHRoXG4gICAgICB9KSk7XG4gICAgfSwgZSk7XG4gIH0sXG4gIChlKSA9PiB7XG4gICAgUyhiciwgeGEpLCBTKG1yLCBUYSksIFMoaHIsIEJhKSwgUyhfciwgT2EpLCBQZShlKTtcbiAgfVxuKSwgT2QgPSBiYShcIm1vdW50XCIsIFBkKSwgWywgSWEsIElkXSA9IHhkLCBbLCBqZF0gPSBUZCwgW0VyLCBxZF0gPSBCZDtcbmZ1bmN0aW9uIERkKCkge1xuICBNZShJYSksIEIoYnIsIHhhKSwgQihtciwgVGEpLCBCKGhyLCBCYSksIEIoX3IsIE9hKSwgRXIuc2V0KCExKTtcbn1cbmNvbnN0IE5kID0gbHQoYmUsIEVyKSwgW1Z0LCBWZF0gPSAvKiBAX19QVVJFX18gKi8gYighMSksIExkID0gTmQoXG4gIFwiYmluZENzc1ZhcnNcIixcbiAgKGUpID0+IHtcbiAgICBpZiAoVnQoKSlcbiAgICAgIHRocm93IG5ldyBDbigpO1xuICAgIGUgfHwgKGUgPSAobikgPT4gYC0tdGctdmlld3BvcnQtJHtOcyhuKX1gKTtcbiAgICBjb25zdCB0ID0gW1xuICAgICAgW1wiaGVpZ2h0XCIsIHlyXSxcbiAgICAgIFtcInN0YWJsZUhlaWdodFwiLCBncl0sXG4gICAgICBbXCJ3aWR0aFwiLCBnYV0sXG4gICAgICBbXCJzYWZlQXJlYUluc2V0VG9wXCIsIGthXSxcbiAgICAgIFtcInNhZmVBcmVhSW5zZXRCb3R0b21cIiwgU2FdLFxuICAgICAgW1wic2FmZUFyZWFJbnNldExlZnRcIiwgQ2FdLFxuICAgICAgW1wic2FmZUFyZWFJbnNldFJpZ2h0XCIsIEFhXSxcbiAgICAgIFtcImNvbnRlbnRTYWZlQXJlYUluc2V0VG9wXCIsICRhXSxcbiAgICAgIFtcImNvbnRlbnRTYWZlQXJlYUluc2V0Qm90dG9tXCIsIHZhXSxcbiAgICAgIFtcImNvbnRlbnRTYWZlQXJlYUluc2V0TGVmdFwiLCB3YV0sXG4gICAgICBbXCJjb250ZW50U2FmZUFyZWFJbnNldFJpZ2h0XCIsIEVhXVxuICAgIF0ucmVkdWNlKChuLCBbciwgc10pID0+IHtcbiAgICAgIGNvbnN0IG8gPSBlKHIpO1xuICAgICAgaWYgKG8pIHtcbiAgICAgICAgY29uc3QgYSA9ICgpID0+IHtcbiAgICAgICAgICBRbihvLCBgJHtzKCl9cHhgKTtcbiAgICAgICAgfTtcbiAgICAgICAgbi5wdXNoKFthLCBzLnN1YihhKSwgb10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB0LmZvckVhY2goKG4pID0+IHtcbiAgICAgIG5bMF0oKTtcbiAgICB9KSwgVnQuc2V0KCEwKSwgKCkgPT4ge1xuICAgICAgdC5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIG5bMV0oKSwgSm4oblsyXSk7XG4gICAgICB9KSwgVnQuc2V0KCExKTtcbiAgICB9O1xuICB9XG4pLCBSZCA9IGJhKFwiZXhwYW5kXCIsICgpID0+IHtcbiAgXyhcIndlYl9hcHBfZXhwYW5kXCIpO1xufSksIGphID0gXCJ3ZWJfYXBwX3JlcXVlc3RfZnVsbHNjcmVlblwiLCBIZCA9IGNlKGJlLCBFciwgamEpLCBxYSA9IHllKFwiaXNGdWxsc2NyZWVuXCIpLCBbXG4gIEZkLFxuICBXZFxuXSA9IC8qIEBfX1BVUkVfXyAqLyBiKCksIFtcbiAgVWQsXG4gIHpkXG5dID0gLyogQF9fUFVSRV9fICovIGIoKTtcbmZ1bmN0aW9uIERhKGUsIHQpIHtcbiAgcmV0dXJuIEhkKFxuICAgIGUsXG4gICAgTyhcbiAgICAgIChuKSA9PiBDKFxuICAgICAgICB0ID8gamEgOiBcIndlYl9hcHBfZXhpdF9mdWxsc2NyZWVuXCIsXG4gICAgICAgIFttciwgXCJmdWxsc2NyZWVuX2ZhaWxlZFwiXSxcbiAgICAgICAgblxuICAgICAgKS50aGVuKChyKSA9PiB7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gciAmJiByLmVycm9yICE9PSBcIkFMUkVBRFlfRlVMTFNDUkVFTlwiKVxuICAgICAgICAgIHRocm93IG5ldyBhdShyLmVycm9yKTtcbiAgICAgICAgY29uc3QgcyA9IFwiaXNfZnVsbHNjcmVlblwiIGluIHIgPyByLmlzX2Z1bGxzY3JlZW4gOiAhMDtcbiAgICAgICAgcyAhPT0gcWEoKSAmJiBQZSh7IGlzRnVsbHNjcmVlbjogcyB9KTtcbiAgICAgIH0pLFxuICAgICAgXCJGdWxsc2NyZWVuIG1vZGUgY2hhbmdlIGlzIGFscmVhZHkgYmVpbmcgcmVxdWVzdGVkXCIsXG4gICAgICB7XG4gICAgICAgIHByb21pc2U6IEZkLFxuICAgICAgICBlcnJvcjogVWRcbiAgICAgIH1cbiAgICApWzBdXG4gICk7XG59XG5jb25zdCBHZCA9IERhKFwicmVxdWVzdEZ1bGxzY3JlZW5cIiwgITApLCBRZCA9IERhKFwiZXhpdEZ1bGxzY3JlZW5cIiksIGZtID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmluZENzc1ZhcnM6IExkLFxuICBjaGFuZ2VGdWxsc2NyZWVuRXJyb3I6IHpkLFxuICBjaGFuZ2VGdWxsc2NyZWVuUHJvbWlzZTogV2QsXG4gIGNvbnRlbnRTYWZlQXJlYUluc2V0Qm90dG9tOiB2YSxcbiAgY29udGVudFNhZmVBcmVhSW5zZXRMZWZ0OiB3YSxcbiAgY29udGVudFNhZmVBcmVhSW5zZXRSaWdodDogRWEsXG4gIGNvbnRlbnRTYWZlQXJlYUluc2V0VG9wOiAkYSxcbiAgY29udGVudFNhZmVBcmVhSW5zZXRzOiB2cixcbiAgZXhpdEZ1bGxzY3JlZW46IFFkLFxuICBleHBhbmQ6IFJkLFxuICBoZWlnaHQ6IHlyLFxuICBpc0Nzc1ZhcnNCb3VuZDogVmQsXG4gIGlzRXhwYW5kZWQ6IENkLFxuICBpc0Z1bGxzY3JlZW46IHFhLFxuICBpc01vdW50ZWQ6IHFkLFxuICBpc01vdW50aW5nOiBJZCxcbiAgaXNTdGFibGU6IEFkLFxuICBtb3VudDogT2QsXG4gIG1vdW50RXJyb3I6IGpkLFxuICBtb3VudFByb21pc2U6IElhLFxuICByZXF1ZXN0RnVsbHNjcmVlbjogR2QsXG4gIHNhZmVBcmVhSW5zZXRCb3R0b206IFNhLFxuICBzYWZlQXJlYUluc2V0TGVmdDogQ2EsXG4gIHNhZmVBcmVhSW5zZXRSaWdodDogQWEsXG4gIHNhZmVBcmVhSW5zZXRUb3A6IGthLFxuICBzYWZlQXJlYUluc2V0czogd3IsXG4gIHN0YWJsZUhlaWdodDogZ3IsXG4gIHN0YXRlOiB5YSxcbiAgdW5tb3VudDogRGQsXG4gIHdpZHRoOiBnYVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgTmEgPSBcIndlYl9hcHBfcmVxdWVzdF9lbW9qaV9zdGF0dXNfYWNjZXNzXCIsIFtcbiAgSmQsXG4gIEtkLFxuICBZZFxuXSA9IE8oKGUpID0+IEMoTmEsIFwiZW1vamlfc3RhdHVzX2FjY2Vzc19yZXF1ZXN0ZWRcIiwgZSkudGhlbigodCkgPT4gdC5zdGF0dXMpLCBcIkVtb2ppIHN0YXR1cyBhY2Nlc3MgcmVxdWVzdCBpcyBhbHJlYWR5IGluIHByb2dyZXNzXCIpLCBtbSA9IC8qIEBfX1BVUkVfXyAqLyBBKFxuICBcInJlcXVlc3RFbW9qaVN0YXR1c0FjY2Vzc1wiLFxuICBKZCxcbiAgeyBpc1N1cHBvcnRlZDogTmEgfVxuKSwgWywgaG0sIF9tXSA9IEtkLCBbLCBibV0gPSBZZCwgVmEgPSBcIndlYl9hcHBfc2V0X2Vtb2ppX3N0YXR1c1wiLCBbXG4gIFpkLFxuICBYZCxcbiAgZWZcbl0gPSBPKFxuICAoZSwgdCkgPT4gQyhWYSwgW1wiZW1vamlfc3RhdHVzX3NldFwiLCBcImVtb2ppX3N0YXR1c19mYWlsZWRcIl0sIHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIGN1c3RvbV9lbW9qaV9pZDogZSxcbiAgICAgIGR1cmF0aW9uOiAodCB8fCB7fSkuZHVyYXRpb25cbiAgICB9LFxuICAgIC4uLnRcbiAgfSkudGhlbigobikgPT4ge1xuICAgIGlmIChuICYmIFwiZXJyb3JcIiBpbiBuKVxuICAgICAgdGhyb3cgbmV3IG91KG4uZXJyb3IpO1xuICB9KSxcbiAgXCJFbW9qaSBzdGF0dXMgc2V0IHJlcXVlc3QgaXMgY3VycmVudGx5IGluIHByb2dyZXNzXCJcbiksIHltID0gLyogQF9fUFVSRV9fICovIEEoXCJzZXRFbW9qaVN0YXR1c1wiLCBaZCwge1xuICBpc1N1cHBvcnRlZDogVmFcbn0pLCBbLCBnbSwgdm1dID0gWGQsIFssIHdtXSA9IGVmLCB0ZiA9IHsgaXNTdXBwb3J0ZWQ6IFwid2ViX2FwcF9hZGRfdG9faG9tZV9zY3JlZW5cIiB9LCBMYSA9IFwiaG9tZV9zY3JlZW5fZmFpbGVkXCIsIEVtID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwib25BZGRUb0hvbWVTY3JlZW5GYWlsZWRcIixcbiAgKGUsIHQpID0+IFMoTGEsIGUsIHQpLFxuICB7IGlzU3VwcG9ydGVkOiBcIndlYl9hcHBfYWRkX3RvX2hvbWVfc2NyZWVuXCIgfVxuKSwgJG0gPSAvKiBAX19QVVJFX18gKi8gQShcbiAgXCJvZmZBZGRUb0hvbWVTY3JlZW5GYWlsZWRcIixcbiAgKGUpID0+IHtcbiAgICBCKExhLCBlKTtcbiAgfSxcbiAgdGZcbiksIFJhID0geyBpc1N1cHBvcnRlZDogXCJ3ZWJfYXBwX2FkZF90b19ob21lX3NjcmVlblwiIH0sIEhhID0gXCJob21lX3NjcmVlbl9hZGRlZFwiLCBTbSA9IC8qIEBfX1BVUkVfXyAqLyBBKFxuICBcIm9uQWRkZWRUb0hvbWVTY3JlZW5cIixcbiAgKGUsIHQpID0+IFMoSGEsIGUsIHQpLFxuICBSYVxuKSwgQ20gPSAvKiBAX19QVVJFX18gKi8gQShcbiAgXCJvZmZBZGRlZFRvSG9tZVNjcmVlblwiLFxuICAoZSkgPT4ge1xuICAgIEIoSGEsIGUpO1xuICB9LFxuICBSYVxuKSwgWHIgPSBcIndlYl9hcHBfYWRkX3RvX2hvbWVfc2NyZWVuXCIsIEFtID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwiYWRkVG9Ib21lU2NyZWVuXCIsXG4gICgpID0+IHtcbiAgICBfKFhyKTtcbiAgfSxcbiAgeyBpc1N1cHBvcnRlZDogWHIgfVxuKSwgRmEgPSBcIndlYl9hcHBfY2hlY2tfaG9tZV9zY3JlZW5cIiwgW1xuICBuZixcbiAgcmYsXG4gIHNmXG5dID0gTygoZSkgPT4gQyhGYSwgXCJob21lX3NjcmVlbl9jaGVja2VkXCIsIGUpLnRoZW4oKHQpID0+IHQuc3RhdHVzIHx8IFwidW5rbm93blwiKSwgXCJDaGVjayBob21lIHNjcmVlbiBzdGF0dXMgcmVxdWVzdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3NcIiksIGttID0gLyogQF9fUFVSRV9fICovIEEoXCJjaGVja0hvbWVTY3JlZW5TdGF0dXNcIiwgbmYsIHtcbiAgaXNTdXBwb3J0ZWQ6IEZhXG59KSwgWywgTW0sIFBtXSA9IHJmLCBbLCB4bV0gPSBzZiwgb2YgPSBsZSgpLCBUbSA9IG9mKFxuICBcIm9wZW5MaW5rXCIsXG4gIChlLCB0KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgICB0cnkge1xuICAgICAgICBlID0gbmV3IFVSTChlKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEooYFwiJHtlLnRvU3RyaW5nKCl9XCIgaXMgaW52YWxpZCBVUkxgLCBuKTtcbiAgICAgIH1cbiAgICB0IHx8ICh0ID0ge30pLCBfKFwid2ViX2FwcF9vcGVuX2xpbmtcIiwge1xuICAgICAgdXJsOiBlLnRvU3RyaW5nKCksXG4gICAgICB0cnlfYnJvd3NlcjogdC50cnlCcm93c2VyLFxuICAgICAgdHJ5X2luc3RhbnRfdmlldzogdC50cnlJbnN0YW50Vmlld1xuICAgIH0pO1xuICB9XG4pLCBlcyA9IFwid2ViX2FwcF9vcGVuX3RnX2xpbmtcIiwgYWYgPSBsZSgpLCB1ZiA9IGFmKFxuICBcIm9wZW5UZWxlZ3JhbUxpbmtcIixcbiAgKGUpID0+IHtcbiAgICBjb25zdCB0ID0gZS50b1N0cmluZygpO1xuICAgIGlmICghdC5tYXRjaCgvXmh0dHBzOlxcL1xcL3QubWVcXC8uKy8pKVxuICAgICAgdGhyb3cgbmV3IEooYFwiJHt0fVwiIGlzIGludmFsaWQgVVJMYCk7XG4gICAgaWYgKCFmZShlcywgc2UoKSkpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA9IG5ldyBVUkwoZSksIF8oZXMsIHsgcGF0aF9mdWxsOiBlLnBhdGhuYW1lICsgZS5zZWFyY2ggfSk7XG4gIH1cbiksIGNmID0gbGUoKSwgQm0gPSBjZihcbiAgXCJzaGFyZVVSTFwiLFxuICAoZSwgdCkgPT4ge1xuICAgIHVmKFxuICAgICAgXCJodHRwczovL3QubWUvc2hhcmUvdXJsP1wiICsgbmV3IFVSTFNlYXJjaFBhcmFtcyh7IHVybDogZSwgdGV4dDogdCB8fCBcIlwiIH0pLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwrL2csIFwiJTIwXCIpXG4gICAgKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIGxmKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyB4KHsgYWJvcnRTaWduYWw6IHQsIHRpbWVvdXQ6IGUgfSkuY2F0Y2goKCkgPT4ge1xuICB9KTtcbn1cbmNvbnN0IFdhID0gXCJ3ZWJfYXBwX3JlcXVlc3RfcGhvbmVcIiwgW1xuICBwZixcbiAgZGYsXG4gIGZmXG5dID0gTygoZSkgPT4gQyhXYSwgXCJwaG9uZV9yZXF1ZXN0ZWRcIiwgZSkudGhlbigodCkgPT4gdC5zdGF0dXMpLCBcIlBob25lIGFjY2VzcyByZXF1ZXN0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzc1wiKSwgbWYgPSAvKiBAX19QVVJFX18gKi8gQShcInJlcXVlc3RQaG9uZUFjY2Vzc1wiLCBwZiwge1xuICBpc1N1cHBvcnRlZDogV2Fcbn0pLCBbLCBPbSwgSW1dID0gZGYsIFssIGptXSA9IGZmO1xuYXN5bmMgZnVuY3Rpb24gdHMoZSkge1xuICBjb25zdCB0ID0gYXdhaXQga2UoXCJnZXRSZXF1ZXN0ZWRDb250YWN0XCIsIHt9LCB7XG4gICAgLi4uZSxcbiAgICB0aW1lb3V0OiAoZSB8fCB7fSkudGltZW91dCB8fCA1ZTNcbiAgfSk7XG4gIHJldHVybiBkdChcbiAgICAvKiBAX19QVVJFX18gKi8gUWUoXG4gICAgICAvLyB0b2RvOiBVbmlvbiBpcyB1bm5lY2Vzc2FyeSBoZXJlLCBidXQgd2UgdXNlIGl0IHRvIGNvbXBseSBUeXBlU2NyaXB0IGNoZWNrZXIuXG4gICAgICAvKiBAX19QVVJFX18gKi8gaG8oWy8qIEBfX1BVUkVfXyAqLyBXKCksIC8qIEBfX1BVUkVfXyAqLyBwbyhVUkxTZWFyY2hQYXJhbXMpXSksXG4gICAgICBEbyhcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHRuKHtcbiAgICAgICAgICBjb250YWN0OiAvKiBAX19QVVJFX18gKi8gUWUoXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gVygpLFxuICAgICAgICAgICAgcW8oKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB0bih7XG4gICAgICAgICAgICAgIHVzZXJfaWQ6IC8qIEBfX1BVUkVfXyAqLyBqbigpLFxuICAgICAgICAgICAgICBwaG9uZV9udW1iZXI6IC8qIEBfX1BVUkVfXyAqLyBXKCksXG4gICAgICAgICAgICAgIGZpcnN0X25hbWU6IC8qIEBfX1BVUkVfXyAqLyBXKCksXG4gICAgICAgICAgICAgIGxhc3RfbmFtZTogLyogQF9fUFVSRV9fICovIGZvKC8qIEBfX1BVUkVfXyAqLyBXKCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgYXV0aF9kYXRlOiAvKiBAX19QVVJFX18gKi8gUWUoXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gVygpLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIE9uKChuKSA9PiBuZXcgRGF0ZShOdW1iZXIobikgKiAxZTMpKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBJbigpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBoYXNoOiAvKiBAX19QVVJFX18gKi8gVygpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKSxcbiAgICB0XG4gICk7XG59XG5jb25zdCBbXG4gIGhmLFxuICBfZixcbiAgYmZcbl0gPSBPKFxuICAoZSkgPT4gbmV3IHgoYXN5bmMgKHQsIG4sIHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHQoYXdhaXQgdHMocikpO1xuICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgIGlmIChhIGluc3RhbmNlb2YgZW4pXG4gICAgICAgIHRocm93IGE7XG4gICAgfVxuICAgIGlmIChhd2FpdCBtZihyKSAhPT0gXCJzZW50XCIpXG4gICAgICB0aHJvdyBuZXcgVXMoXCJVc2VyIGRlbmllZCBhY2Nlc3NcIik7XG4gICAgbGV0IG8gPSA1MDtcbiAgICBmb3IgKDsgIXIuaXNBYm9ydGVkKCk7ICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHQoYXdhaXQgdHMocikpO1xuICAgICAgfSBjYXRjaCAoYSkge1xuICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGVuKVxuICAgICAgICAgIHRocm93IGE7XG4gICAgICB9XG4gICAgICBhd2FpdCBsZihvKSwgbyArPSA1MDtcbiAgICB9XG4gIH0sIGUpLFxuICBcIkNvbnRhY3QgaXMgYWxyZWFkeSBiZWluZyByZXF1ZXN0ZWRcIlxuKSwgcW0gPSAvKiBAX19QVVJFX18gKi8gQShcInJlcXVlc3RDb250YWN0XCIsIGhmLCB7XG4gIGlzU3VwcG9ydGVkOiBcIndlYl9hcHBfcmVxdWVzdF9waG9uZVwiXG59KSwgWywgRG0sIE5tXSA9IF9mLCBbLCBWbV0gPSBiZiwgVWEgPSBcIndlYl9hcHBfcmVxdWVzdF93cml0ZV9hY2Nlc3NcIiwgW1xuICB5ZixcbiAgZ2YsXG4gIHZmXG5dID0gTyhcbiAgKGUpID0+IEMoVWEsIFwid3JpdGVfYWNjZXNzX3JlcXVlc3RlZFwiLCBlKS50aGVuKCh0KSA9PiB0LnN0YXR1cyksXG4gIFwiV3JpdGUgYWNjZXNzIHJlcXVlc3QgaXMgY3VycmVudGx5IGluIHByb2dyZXNzXCJcbiksIExtID0gLyogQF9fUFVSRV9fICovIEEoXCJyZXF1ZXN0V3JpdGVBY2Nlc3NcIiwgeWYsIHtcbiAgaXNTdXBwb3J0ZWQ6IFVhXG59KSwgWywgUm0sIEhtXSA9IGdmLCBbLCBGbV0gPSB2ZjtcbmZ1bmN0aW9uIHdmKGUpIHtcbiAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgdC52YWx1ZSA9IGUsIHQuc3R5bGUudG9wID0gXCIwXCIsIHQuc3R5bGUubGVmdCA9IFwiMFwiLCB0LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLCB0LmZvY3VzKCksIHQuc2VsZWN0KCk7XG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICB9IGZpbmFsbHkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIFdtKGUpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNsaXBib2FyZDogdCB9ID0gbmF2aWdhdG9yO1xuICAgIGlmICh0KVxuICAgICAgcmV0dXJuIGF3YWl0IHQud3JpdGVUZXh0KGUpO1xuICB9IGNhdGNoIHtcbiAgfVxuICB3ZihlKTtcbn1cbmNvbnN0IG5zID0gXCJ3ZWJfYXBwX3JlcXVlc3RfZmlsZV9kb3dubG9hZFwiLCBVbSA9IC8qIEBfX1BVUkVfXyAqLyBBKFxuICBcImRvd25sb2FkRmlsZVwiLFxuICAoZSwgdCwgbikgPT4gQyhcbiAgICBucyxcbiAgICBcImZpbGVfZG93bmxvYWRfcmVxdWVzdGVkXCIsXG4gICAgeyAuLi5uLCBwYXJhbXM6IHsgdXJsOiBlLCBmaWxlX25hbWU6IHQgfSB9XG4gICkudGhlbigocikgPT4ge1xuICAgIGlmIChyLnN0YXR1cyAhPT0gXCJkb3dubG9hZGluZ1wiKVxuICAgICAgdGhyb3cgbmV3IFVzKFwiVXNlciBkZW5pZWQgdGhlIGFjdGlvblwiKTtcbiAgfSksXG4gIHsgaXNTdXBwb3J0ZWQ6IG5zIH1cbiksIHptID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwiZ2V0Q3VycmVudFRpbWVcIixcbiAgKGUpID0+IGtlKFwiZ2V0Q3VycmVudFRpbWVcIiwge30sIGUpLnRoZW4oKHQpID0+IGR0KFxuICAgIC8qIEBfX1BVUkVfXyAqLyBRZSgvKiBAX19QVVJFX18gKi8gam4oKSwgLyogQF9fUFVSRV9fICovIHVvKCksIC8qIEBfX1BVUkVfXyAqLyBPbigobikgPT4gbmV3IERhdGUobiAqIDFlMykpLCAvKiBAX19QVVJFX18gKi8gSW4oKSksXG4gICAgdFxuICApKSxcbiAgeyBpc1N1cHBvcnRlZDogXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCIgfVxuKSwgcnMgPSBcIndlYl9hcHBfcmVhZF90ZXh0X2Zyb21fY2xpcGJvYXJkXCIsIEdtID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwicmVhZFRleHRGcm9tQ2xpcGJvYXJkXCIsXG4gIChlKSA9PiB7XG4gICAgY29uc3QgdCA9IEZzKCk7XG4gICAgcmV0dXJuIEMocnMsIFwiY2xpcGJvYXJkX3RleHRfcmVjZWl2ZWRcIiwge1xuICAgICAgLi4uZSxcbiAgICAgIHBhcmFtczogeyByZXFfaWQ6IHQgfSxcbiAgICAgIGNhcHR1cmU6IERzKHQpXG4gICAgfSkudGhlbigoeyBkYXRhOiBuID0gbnVsbCB9KSA9PiBuKTtcbiAgfSxcbiAgeyBpc1N1cHBvcnRlZDogcnMgfVxuKSwgc3MgPSBcIndlYl9hcHBfZGF0YV9zZW5kXCIsIFFtID0gLyogQF9fUFVSRV9fICovIEEoXG4gIFwic2VuZERhdGFcIixcbiAgKGUpID0+IHtcbiAgICBjb25zdCB7IHNpemU6IHQgfSA9IG5ldyBCbG9iKFtlXSk7XG4gICAgaWYgKCF0IHx8IHQgPiA0MDk2KVxuICAgICAgdGhyb3cgbmV3IEoodCA/IFwiTWF4aW11bSBzaXplIG9mIGRhdGEgdG8gc2VuZCBpcyA0MDk2IGJ5dGVzXCIgOiBcIkF0dGVtcHRlZCB0byBzZW5kIGVtcHR5IGRhdGFcIik7XG4gICAgXyhzcywgeyBkYXRhOiBlIH0pO1xuICB9LFxuICB7IGlzU3VwcG9ydGVkOiBzcyB9XG4pLCBvcyA9IFwid2ViX2FwcF9zZW5kX3ByZXBhcmVkX21lc3NhZ2VcIiwgSm0gPSAvKiBAX19QVVJFX18gKi8gQShcbiAgXCJzaGFyZU1lc3NhZ2VcIixcbiAgKGUsIHQpID0+IEMob3MsIFtcInByZXBhcmVkX21lc3NhZ2VfZmFpbGVkXCIsIFwicHJlcGFyZWRfbWVzc2FnZV9zZW50XCJdLCB7XG4gICAgLi4udCxcbiAgICBwYXJhbXM6IHsgaWQ6IGUgfVxuICB9KS50aGVuKChuKSA9PiB7XG4gICAgaWYgKG4gJiYgXCJlcnJvclwiIGluIG4pXG4gICAgICB0aHJvdyBuZXcgaXUobi5lcnJvcik7XG4gIH0pLFxuICB7IGlzU3VwcG9ydGVkOiBvcyB9XG4pLCBhcyA9IFwid2ViX2FwcF9zaGFyZV90b19zdG9yeVwiLCBLbSA9IC8qIEBfX1BVUkVfXyAqLyBBKFxuICBcInNoYXJlU3RvcnlcIixcbiAgKGUsIHQpID0+IHtcbiAgICB0IHx8ICh0ID0ge30pLCBfKGFzLCB7XG4gICAgICB0ZXh0OiB0LnRleHQsXG4gICAgICBtZWRpYV91cmw6IGUsXG4gICAgICB3aWRnZXRfbGluazogdC53aWRnZXRMaW5rXG4gICAgfSk7XG4gIH0sXG4gIHsgaXNTdXBwb3J0ZWQ6IGFzIH1cbiksIEVmID0gXCJ3ZWJfYXBwX3N3aXRjaF9pbmxpbmVfcXVlcnlcIiwgWW0gPSAvKiBAX19QVVJFX18gKi8gQShcbiAgXCJzd2l0Y2hJbmxpbmVRdWVyeVwiLFxuICAoZSwgdCkgPT4ge1xuICAgIF8oRWYsIHtcbiAgICAgIHF1ZXJ5OiBlLFxuICAgICAgY2hhdF90eXBlczogdCB8fCBbXVxuICAgIH0pO1xuICB9LFxuICB7XG4gICAgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICByZXR1cm4gUmUoKS50Z1dlYkFwcEJvdElubGluZSA/IHZvaWQgMCA6IFwiVGhlIGFwcGxpY2F0aW9uIG11c3QgYmUgbGF1bmNoZWQgaW4gdGhlIGlubGluZSBtb2RlXCI7XG4gICAgfVxuICB9XG4pO1xuZnVuY3Rpb24gWm0oZSkge1xuICB0cnkge1xuICAgIHJldHVybiBbITAsIGUoKV07XG4gIH0gY2F0Y2ggKHQpIHtcbiAgICByZXR1cm4gWyExLCB0XTtcbiAgfVxufVxuZnVuY3Rpb24gWG0oZSkge1xuICBudShlKTtcbiAgY29uc3QgW3QsIG5dID0gU24oXG4gICAgUyhcInJlbG9hZF9pZnJhbWVcIiwgKCkgPT4ge1xuICAgICAgSnQoITEsIFwiUmVjZWl2ZWQgYSByZXF1ZXN0IHRvIHJlbG9hZCB0aGUgcGFnZVwiKSwgXyhcImlmcmFtZV93aWxsX3JlbG9hZFwiKSwgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0pXG4gICksIHsgYWNjZXB0Q3VzdG9tU3R5bGVzOiByID0gITAgfSA9IGUgfHwge307XG4gIGlmIChyKSB7XG4gICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBzLmlkID0gXCJ0ZWxlZ3JhbS1jdXN0b20tc3R5bGVzXCIsIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyksIHQoXG4gICAgICBTKFwic2V0X2N1c3RvbV9zdHlsZVwiLCAobykgPT4ge1xuICAgICAgICBzLmlubmVySFRNTCA9IG87XG4gICAgICB9KSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiBfKFwiaWZyYW1lX3JlYWR5XCIsIHsgcmVsb2FkX3N1cHBvcnRlZDogITAgfSksIEp0KCExLCBcIlRoZSBwYWNrYWdlIHdhcyBpbml0aWFsaXplZFwiKSwgbjtcbn1cbmV4cG9ydCB7XG4gIGZuIGFzIEFib3J0YWJsZVByb21pc2UsXG4gIFVzIGFzIEFjY2Vzc0RlbmllZEVycm9yLFxuICBDbiBhcyBDU1NWYXJzQm91bmRFcnJvcixcbiAgWGEgYXMgQ2FuY2VsbGVkRXJyb3IsXG4gIHN1IGFzIENvbmN1cnJlbnRDYWxsRXJyb3IsXG4gIGF1IGFzIEZ1bGxzY3JlZW5GYWlsZWRFcnJvcixcbiAgeGUgYXMgRnVuY3Rpb25VbmF2YWlsYWJsZUVycm9yLFxuICBKIGFzIEludmFsaWRBcmd1bWVudHNFcnJvcixcbiAgTmYgYXMgSW52YWxpZEVudkVycm9yLFxuICBWaSBhcyBJbnZhbGlkTGF1bmNoUGFyYW1zRXJyb3IsXG4gIFJpIGFzIEludm9rZUN1c3RvbU1ldGhvZEVycm9yLFxuICBOaSBhcyBMYXVuY2hQYXJhbXNSZXRyaWV2ZUVycm9yLFxuICBDZiBhcyBNYW51YWxQcm9taXNlLFxuICBEaSBhcyBNZXRob2RQYXJhbWV0ZXJVbnN1cHBvcnRlZEVycm9yLFxuICBxaSBhcyBNZXRob2RVbnN1cHBvcnRlZEVycm9yLFxuICBXcyBhcyBOb3RBdmFpbGFibGVFcnJvcixcbiAgb3UgYXMgU2V0RW1vamlTdGF0dXNFcnJvcixcbiAgaXUgYXMgU2hhcmVNZXNzYWdlRXJyb3IsXG4gIGVpIGFzIFRpbWVvdXRFcnJvcixcbiAgTGkgYXMgVW5rbm93bkVudkVycm9yLFxuICBBbSBhcyBhZGRUb0hvbWVTY3JlZW4sXG4gIEx1IGFzIGF1dGhlbnRpY2F0ZUJpb21ldHJ5LFxuICBHZiBhcyBiYWNrQnV0dG9uLFxuICBicCBhcyBiaW5kTWluaUFwcENzc1ZhcnMsXG4gIHJwIGFzIGJpbmRUaGVtZVBhcmFtc0Nzc1ZhcnMsXG4gIExkIGFzIGJpbmRWaWV3cG9ydENzc1ZhcnMsXG4gIEpmIGFzIGJpb21ldHJ5LFxuICBIdSBhcyBiaW9tZXRyeUF1dGhFcnJvcixcbiAgbm8gYXMgYmlvbWV0cnlBdXRoUHJvbWlzZSxcbiAgSXUgYXMgYmlvbWV0cnlNb3VudEVycm9yLFxuICBDdSBhcyBiaW9tZXRyeVN0YXRlLFxuICB6ZCBhcyBjaGFuZ2VGdWxsc2NyZWVuRXJyb3IsXG4gIFdkIGFzIGNoYW5nZUZ1bGxzY3JlZW5Qcm9taXNlLFxuICBrbSBhcyBjaGVja0hvbWVTY3JlZW5TdGF0dXMsXG4gIHhtIGFzIGNoZWNrSG9tZVNjcmVlblN0YXR1c0Vycm9yLFxuICBNbSBhcyBjaGVja0hvbWVTY3JlZW5TdGF0dXNQcm9taXNlLFxuICB5cCBhcyBjbG9zZU1pbmlBcHAsXG4gIE5wIGFzIGNsb3NlUXJTY2FubmVyLFxuICBLZiBhcyBjbG9zaW5nQmVoYXZpb3IsXG4gIFlmIGFzIGNsb3VkU3RvcmFnZSxcbiAgbnUgYXMgY29uZmlndXJlLFxuICBXbSBhcyBjb3B5VGV4dFRvQ2xpcGJvYXJkLFxuICBRaSBhcyBjcmVhdGVQb3N0RXZlbnQsXG4gIEZzIGFzIGNyZWF0ZVJlcXVlc3RJZCxcbiAgYm8gYXMgZGVsZXRlQ2xvdWRTdG9yYWdlSXRlbSxcbiAgZWMgYXMgZGlzYWJsZUNsb3NpbmdDb25maXJtYXRpb24sXG4gIHdkIGFzIGRpc2FibGVWZXJ0aWNhbFN3aXBlcyxcbiAgVW0gYXMgZG93bmxvYWRGaWxlLFxuICBQciBhcyBlbWl0RXZlbnQsXG4gIHRjIGFzIGVuYWJsZUNsb3NpbmdDb25maXJtYXRpb24sXG4gIEVkIGFzIGVuYWJsZVZlcnRpY2FsU3dpcGVzLFxuICBRZCBhcyBleGl0RnVsbHNjcmVlbixcbiAgUmQgYXMgZXhwYW5kVmlld3BvcnQsXG4gIHBjIGFzIGdldENsb3VkU3RvcmFnZUl0ZW0sXG4gIHlvIGFzIGdldENsb3VkU3RvcmFnZUtleXMsXG4gIHptIGFzIGdldEN1cnJlbnRUaW1lLFxuICBaZiBhcyBoYXB0aWNGZWVkYmFjayxcbiAgaGMgYXMgaGFwdGljRmVlZGJhY2tJbXBhY3RPY2N1cnJlZCxcbiAgX2MgYXMgaGFwdGljRmVlZGJhY2tOb3RpZmljYXRpb25PY2N1cnJlZCxcbiAgYmMgYXMgaGFwdGljRmVlZGJhY2tTZWxlY3Rpb25DaGFuZ2VkLFxuICBwdSBhcyBoaWRlQmFja0J1dHRvbixcbiAgcGQgYXMgaGlkZVNldHRpbmdzQnV0dG9uLFxuICBLcyBhcyBpZ25vcmVDYW5jZWxlZCxcbiAgWG0gYXMgaW5pdCxcbiAgWGYgYXMgaW5pdERhdGEsXG4gIHZvIGFzIGluaXREYXRhQXV0aERhdGUsXG4gIHdvIGFzIGluaXREYXRhQ2FuU2VuZEFmdGVyLFxuICBnYyBhcyBpbml0RGF0YUNhblNlbmRBZnRlckRhdGUsXG4gIHZjIGFzIGluaXREYXRhQ2hhdCxcbiAgRWMgYXMgaW5pdERhdGFDaGF0SW5zdGFuY2UsXG4gIHdjIGFzIGluaXREYXRhQ2hhdFR5cGUsXG4gICRjIGFzIGluaXREYXRhSGFzaCxcbiAgU2MgYXMgaW5pdERhdGFRdWVyeUlkLFxuICBBYyBhcyBpbml0RGF0YVJhdyxcbiAga2MgYXMgaW5pdERhdGFSZWNlaXZlcixcbiAgUGMgYXMgaW5pdERhdGFTdGFydFBhcmFtLFxuICB5YyBhcyBpbml0RGF0YVN0YXRlLFxuICB4YyBhcyBpbml0RGF0YVVzZXIsXG4gIGVtIGFzIGludm9pY2UsXG4gIGtlIGFzIGludm9rZUN1c3RvbU1ldGhvZCxcbiAgV2YgYXMgaXNBY2Nlc3NEZW5pZWRFcnJvcixcbiAgUnUgYXMgaXNBdXRoZW50aWNhdGluZ0Jpb21ldHJ5LFxuICBjdSBhcyBpc0JhY2tCdXR0b25Nb3VudGVkLFxuICBsdSBhcyBpc0JhY2tCdXR0b25TdXBwb3J0ZWQsXG4gIHV1IGFzIGlzQmFja0J1dHRvblZpc2libGUsXG4gIEF1IGFzIGlzQmlvbWV0cnlBdmFpbGFibGUsXG4gIHF1IGFzIGlzQmlvbWV0cnlNb3VudGVkLFxuICBPdSBhcyBpc0Jpb21ldHJ5TW91bnRpbmcsXG4gIE11IGFzIGlzQmlvbWV0cnlTdXBwb3J0ZWQsXG4gIHFmIGFzIGlzQ1NTVmFyc0JvdW5kRXJyb3IsXG4gICRmIGFzIGlzQ2FuY2VsbGVkRXJyb3IsXG4gIFBtIGFzIGlzQ2hlY2tpbmdIb21lU2NyZWVuU3RhdHVzLFxuICBzbyBhcyBpc0Nsb3NpbmdCZWhhdmlvck1vdW50ZWQsXG4gIFp1IGFzIGlzQ2xvc2luZ0NvbmZpcm1hdGlvbkVuYWJsZWQsXG4gIGNjIGFzIGlzQ2xvdWRTdG9yYWdlU3VwcG9ydGVkLFxuICBSbyBhcyBpc0NvbG9yRGFyayxcbiAgSGYgYXMgaXNDb25jdXJyZW50Q2FsbEVycm9yLFxuICBxYSBhcyBpc0Z1bGxzY3JlZW4sXG4gIFVmIGFzIGlzRnVsbHNjcmVlbkZhaWxlZEVycm9yLFxuICBMZiBhcyBpc0Z1bmN0aW9uTm90QXZhaWxhYmxlRXJyb3IsXG4gIG1jIGFzIGlzSGFwdGljRmVlZGJhY2tTdXBwb3J0ZWQsXG4gIFJmIGFzIGlzSW52YWxpZEFyZ3VtZW50cyxcbiAgVmYgYXMgaXNJbnZhbGlkRW52RXJyb3IsXG4gIHhmIGFzIGlzSW52YWxpZExhdW5jaFBhcmFtc0Vycm9yLFxuICBWYyBhcyBpc0ludm9pY2VPcGVuZWQsXG4gIEJjIGFzIGlzSW52b2ljZVN1cHBvcnRlZCxcbiAgQmYgYXMgaXNJbnZva2VDdXN0b21NZXRob2RFcnJvcixcbiAgUGYgYXMgaXNMYXVuY2hQYXJhbXNSZXRyaWV2ZUVycm9yLFxuICBGYyBhcyBpc0xvY2F0aW9uTWFuYWdlckFjY2Vzc0dyYW50ZWQsXG4gIFdjIGFzIGlzTG9jYXRpb25NYW5hZ2VyQWNjZXNzUmVxdWVzdGVkLFxuICBIYyBhcyBpc0xvY2F0aW9uTWFuYWdlckF2YWlsYWJsZSxcbiAgdGwgYXMgaXNMb2NhdGlvbk1hbmFnZXJNb3VudGVkLFxuICBaYyBhcyBpc0xvY2F0aW9uTWFuYWdlck1vdW50aW5nLFxuICBSYyBhcyBpc0xvY2F0aW9uTWFuYWdlclN1cHBvcnRlZCxcbiAgSGwgYXMgaXNNYWluQnV0dG9uRW5hYmxlZCxcbiAgRmwgYXMgaXNNYWluQnV0dG9uTG9hZGVyVmlzaWJsZSxcbiAgV28gYXMgaXNNYWluQnV0dG9uTW91bnRlZCxcbiAgV2wgYXMgaXNNYWluQnV0dG9uVmlzaWJsZSxcbiAgTWYgYXMgaXNNZXRob2RNZXRob2RQYXJhbWV0ZXJVbnN1cHBvcnRlZEVycm9yLFxuICBrZiBhcyBpc01ldGhvZFVuc3VwcG9ydGVkRXJyb3IsXG4gIGZwIGFzIGlzTWluaUFwcEFjdGl2ZSxcbiAgcHAgYXMgaXNNaW5pQXBwQ3NzVmFyc0JvdW5kLFxuICBkcCBhcyBpc01pbmlBcHBEYXJrLFxuICBFcCBhcyBpc01pbmlBcHBNb3VudGVkLFxuICB2cCBhcyBpc01pbmlBcHBNb3VudGluZyxcbiAgbXAgYXMgaXNNaW5pQXBwU3VwcG9ydGVkLFxuICBEZiBhcyBpc05vdEF2YWlsYWJsZUVycm9yLFxuICB4cCBhcyBpc1BvcHVwT3BlbmVkLFxuICBJcCBhcyBpc1BvcHVwU2hvd24sXG4gIGtwIGFzIGlzUG9wdXBTdXBwb3J0ZWQsXG4gIFVwIGFzIGlzUXJTY2FubmVyT3BlbmVkLFxuICBWcCBhcyBpc1FyU2Nhbm5lclN1cHBvcnRlZCxcbiAgRWUgYXMgaXNSR0IsXG4gIHdsIGFzIGlzUkdCU2hvcnQsXG4gIFF1IGFzIGlzUmVxdWVzdGluZ0Jpb21ldHJ5QWNjZXNzLFxuICBObSBhcyBpc1JlcXVlc3RpbmdDb250YWN0LFxuICBfbSBhcyBpc1JlcXVlc3RpbmdFbW9qaVN0YXR1c0FjY2VzcyxcbiAgYWwgYXMgaXNSZXF1ZXN0aW5nTG9jYXRpb24sXG4gIEltIGFzIGlzUmVxdWVzdGluZ1Bob25lQWNjZXNzLFxuICBIbSBhcyBpc1JlcXVlc3RpbmdXcml0ZUFjY2VzcyxcbiAgRHIgYXMgaXNTU1IsXG4gIEpwIGFzIGlzU2Vjb25kYXJ5QnV0dG9uRW5hYmxlZCxcbiAgS3AgYXMgaXNTZWNvbmRhcnlCdXR0b25Mb2FkZXJWaXNpYmxlLFxuICBkYSBhcyBpc1NlY29uZGFyeUJ1dHRvbk1vdW50ZWQsXG4gIG5kIGFzIGlzU2Vjb25kYXJ5QnV0dG9uU3VwcG9ydGVkLFxuICBZcCBhcyBpc1NlY29uZGFyeUJ1dHRvblZpc2libGUsXG4gIEZmIGFzIGlzU2V0RW1vamlTdGF0dXNFcnJvcixcbiAgdm0gYXMgaXNTZXR0aW5nRW1vamlTdGF0dXMsXG4gIGNkIGFzIGlzU2V0dGluZ3NCdXR0b25Nb3VudGVkLFxuICBsZCBhcyBpc1NldHRpbmdzQnV0dG9uU3VwcG9ydGVkLFxuICB1ZCBhcyBpc1NldHRpbmdzQnV0dG9uVmlzaWJsZSxcbiAgemYgYXMgaXNTaGFyZU1lc3NhZ2VFcnJvcixcbiAgYmQgYXMgaXNTd2lwZUJlaGF2aW9yTW91bnRlZCxcbiAgeWQgYXMgaXNTd2lwZUJlaGF2aW9yU3VwcG9ydGVkLFxuICBJciBhcyBpc1RNQSxcbiAga2wgYXMgaXNUaGVtZVBhcmFtc0Nzc1ZhcnNCb3VuZCxcbiAgT2wgYXMgaXNUaGVtZVBhcmFtc0RhcmssXG4gIGFwIGFzIGlzVGhlbWVQYXJhbXNNb3VudGVkLFxuICBzcCBhcyBpc1RoZW1lUGFyYW1zTW91bnRpbmcsXG4gIFNmIGFzIGlzVGltZW91dEVycm9yLFxuICBUZiBhcyBpc1Vua25vd25FbnZFcnJvcixcbiAgZ2QgYXMgaXNWZXJ0aWNhbFN3aXBlc0VuYWJsZWQsXG4gIFZkIGFzIGlzVmlld3BvcnRDc3NWYXJzQm91bmQsXG4gIENkIGFzIGlzVmlld3BvcnRFeHBhbmRlZCxcbiAgcWQgYXMgaXNWaWV3cG9ydE1vdW50ZWQsXG4gIElkIGFzIGlzVmlld3BvcnRNb3VudGluZyxcbiAgQWQgYXMgaXNWaWV3cG9ydFN0YWJsZSxcbiAgdG0gYXMgbG9jYXRpb25NYW5hZ2VyLFxuICBYYyBhcyBsb2NhdGlvbk1hbmFnZXJNb3VudEVycm9yLFxuICBZYyBhcyBsb2NhdGlvbk1hbmFnZXJNb3VudFByb21pc2UsXG4gIG9tIGFzIG1haW5CdXR0b24sXG4gIExsIGFzIG1haW5CdXR0b25CYWNrZ3JvdW5kQ29sb3IsXG4gIFJsIGFzIG1haW5CdXR0b25IYXNTaGluZUVmZmVjdCxcbiAgem4gYXMgbWFpbkJ1dHRvblN0YXRlLFxuICBVbCBhcyBtYWluQnV0dG9uVGV4dCxcbiAgemwgYXMgbWFpbkJ1dHRvblRleHRDb2xvcixcbiAgaW0gYXMgbWluaUFwcCxcbiAgdXAgYXMgbWluaUFwcEJhY2tncm91bmRDb2xvcixcbiAgWm4gYXMgbWluaUFwcEJhY2tncm91bmRDb2xvclJHQixcbiAgY3AgYXMgbWluaUFwcEJvdHRvbUJhckNvbG9yLFxuICBYbiBhcyBtaW5pQXBwQm90dG9tQmFyQ29sb3JSR0IsXG4gIGxwIGFzIG1pbmlBcHBIZWFkZXJDb2xvcixcbiAgWG8gYXMgbWluaUFwcEhlYWRlckNvbG9yUkdCLFxuICB3cCBhcyBtaW5pQXBwTW91bnRFcnJvcixcbiAgb2EgYXMgbWluaUFwcE1vdW50UHJvbWlzZSxcbiAgU3AgYXMgbWluaUFwcFJlYWR5LFxuICBlYSBhcyBtaW5pQXBwU3RhdGUsXG4gIE9mIGFzIG1vY2tUZWxlZ3JhbUVudixcbiAgZHUgYXMgbW91bnRCYWNrQnV0dG9uLFxuICBCdSBhcyBtb3VudEJpb21ldHJ5LFxuICB0byBhcyBtb3VudEJpb21ldHJ5UHJvbWlzZSxcbiAgbmMgYXMgbW91bnRDbG9zaW5nQmVoYXZpb3IsXG4gIEtjIGFzIG1vdW50TG9jYXRpb25NYW5hZ2VyLFxuICBKbCBhcyBtb3VudE1haW5CdXR0b24sXG4gIGdwIGFzIG1vdW50TWluaUFwcCxcbiAgJHAgYXMgbW91bnRNaW5pQXBwU3luYyxcbiAgcmQgYXMgbW91bnRTZWNvbmRhcnlCdXR0b24sXG4gIGRkIGFzIG1vdW50U2V0dGluZ3NCdXR0b24sXG4gICRkIGFzIG1vdW50U3dpcGVCZWhhdmlvcixcbiAgSm8gYXMgbW91bnRUaGVtZVBhcmFtcyxcbiAgWW8gYXMgbW91bnRUaGVtZVBhcmFtc1N5bmMsXG4gIE9kIGFzIG1vdW50Vmlld3BvcnQsXG4gIEIgYXMgb2ZmLFxuICAkbSBhcyBvZmZBZGRUb0hvbWVTY3JlZW5GYWlsZWQsXG4gIENtIGFzIG9mZkFkZGVkVG9Ib21lU2NyZWVuLFxuICBtdSBhcyBvZmZCYWNrQnV0dG9uQ2xpY2ssXG4gIFlsIGFzIG9mZk1haW5CdXR0b25DbGljayxcbiAgb2QgYXMgb2ZmU2Vjb25kYXJ5QnV0dG9uQ2xpY2ssXG4gIG1kIGFzIG9mZlNldHRpbmdzQnV0dG9uQ2xpY2ssXG4gIFMgYXMgb24sXG4gIEVtIGFzIG9uQWRkVG9Ib21lU2NyZWVuRmFpbGVkLFxuICBTbSBhcyBvbkFkZGVkVG9Ib21lU2NyZWVuLFxuICBmdSBhcyBvbkJhY2tCdXR0b25DbGljayxcbiAgS2wgYXMgb25NYWluQnV0dG9uQ2xpY2ssXG4gIHNkIGFzIG9uU2Vjb25kYXJ5QnV0dG9uQ2xpY2ssXG4gIGZkIGFzIG9uU2V0dGluZ3NCdXR0b25DbGljayxcbiAgRnUgYXMgb3BlbkJpb21ldHJ5U2V0dGluZ3MsXG4gIERjIGFzIG9wZW5JbnZvaWNlLFxuICBMYyBhcyBvcGVuSW52b2ljZUVycm9yLFxuICBOYyBhcyBvcGVuSW52b2ljZVByb21pc2UsXG4gIFRtIGFzIG9wZW5MaW5rLFxuICB1bCBhcyBvcGVuTG9jYXRpb25NYW5hZ2VyU2V0dGluZ3MsXG4gIE1wIGFzIG9wZW5Qb3B1cCxcbiAgVHAgYXMgb3BlblBvcHVwRXJyb3IsXG4gIFBwIGFzIG9wZW5Qb3B1cFByb21pc2UsXG4gIFdwIGFzIG9wZW5RclNjYW5uZXIsXG4gIHpwIGFzIG9wZW5RclNjYW5uZXJFcnJvcixcbiAgcGEgYXMgb3BlblFyU2Nhbm5lclByb21pc2UsXG4gIHVmIGFzIG9wZW5UZWxlZ3JhbUxpbmssXG4gIG5tIGFzIHBhcnNlSW5pdERhdGFRdWVyeSxcbiAgcm0gYXMgcGFyc2VMYXVuY2hQYXJhbXNRdWVyeSxcbiAgdW0gYXMgcG9wdXAsXG4gIF8gYXMgcG9zdEV2ZW50LFxuICBXaSBhcyBwb3N0TWVzc2FnZSxcbiAgR2UgYXMgcG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbixcbiAgY20gYXMgcXJTY2FubmVyLFxuICBHbSBhcyByZWFkVGV4dEZyb21DbGlwYm9hcmQsXG4gIEMgYXMgcmVxdWVzdCxcbiAga3UgYXMgcmVxdWVzdEJpb21ldHJ5LFxuICBHdSBhcyByZXF1ZXN0QmlvbWV0cnlBY2Nlc3MsXG4gIEp1IGFzIHJlcXVlc3RCaW9tZXRyeUFjY2Vzc0Vycm9yLFxuICBybyBhcyByZXF1ZXN0QmlvbWV0cnlBY2Nlc3NQcm9taXNlLFxuICBxbSBhcyByZXF1ZXN0Q29udGFjdCxcbiAgVm0gYXMgcmVxdWVzdENvbnRhY3RFcnJvcixcbiAgRG0gYXMgcmVxdWVzdENvbnRhY3RQcm9taXNlLFxuICBZciBhcyByZXF1ZXN0Q29udGVudFNhZmVBcmVhSW5zZXRzLFxuICBtbSBhcyByZXF1ZXN0RW1vamlTdGF0dXNBY2Nlc3MsXG4gIGJtIGFzIHJlcXVlc3RFbW9qaVN0YXR1c0FjY2Vzc0Vycm9yLFxuICBobSBhcyByZXF1ZXN0RW1vamlTdGF0dXNBY2Nlc3NQcm9taXNlLFxuICBHZCBhcyByZXF1ZXN0RnVsbHNjcmVlbixcbiAgb2wgYXMgcmVxdWVzdExvY2F0aW9uLFxuICBpbCBhcyByZXF1ZXN0TG9jYXRpb25FcnJvcixcbiAgU28gYXMgcmVxdWVzdExvY2F0aW9uUHJvbWlzZSxcbiAgbWYgYXMgcmVxdWVzdFBob25lQWNjZXNzLFxuICBqbSBhcyByZXF1ZXN0UGhvbmVBY2Nlc3NFcnJvcixcbiAgT20gYXMgcmVxdWVzdFBob25lQWNjZXNzUHJvbWlzZSxcbiAgWnIgYXMgcmVxdWVzdFNhZmVBcmVhSW5zZXRzLFxuICBNZCBhcyByZXF1ZXN0Vmlld3BvcnQsXG4gIExtIGFzIHJlcXVlc3RXcml0ZUFjY2VzcyxcbiAgRm0gYXMgcmVxdWVzdFdyaXRlQWNjZXNzRXJyb3IsXG4gIFJtIGFzIHJlcXVlc3RXcml0ZUFjY2Vzc1Byb21pc2UsXG4gIE1jIGFzIHJlc3RvcmVJbml0RGF0YSxcbiAgJG4gYXMgcmV0cmlldmVMYXVuY2hQYXJhbXMsXG4gIHppIGFzIHJldHJpZXZlUmF3SW5pdERhdGEsXG4gIHFzIGFzIHJldHJpZXZlUmF3TGF1bmNoUGFyYW1zLFxuICBabSBhcyBzYWZlQ2FsbCxcbiAgbG0gYXMgc2Vjb25kYXJ5QnV0dG9uLFxuICBHcCBhcyBzZWNvbmRhcnlCdXR0b25CYWNrZ3JvdW5kQ29sb3IsXG4gIFFwIGFzIHNlY29uZGFyeUJ1dHRvbkhhc1NoaW5lRWZmZWN0LFxuICBacCBhcyBzZWNvbmRhcnlCdXR0b25Qb3NpdGlvbixcbiAgY3IgYXMgc2Vjb25kYXJ5QnV0dG9uU3RhdGUsXG4gIFhwIGFzIHNlY29uZGFyeUJ1dHRvblRleHQsXG4gIGVkIGFzIHNlY29uZGFyeUJ1dHRvblRleHRDb2xvcixcbiAgUW0gYXMgc2VuZERhdGEsXG4gIEFsIGFzIHNlcmlhbGl6ZUluaXREYXRhUXVlcnksXG4gIHNtIGFzIHNlcmlhbGl6ZUxhdW5jaFBhcmFtc1F1ZXJ5LFxuICBMbyBhcyBzZXJpYWxpemVUb1F1ZXJ5LFxuICBkYyBhcyBzZXRDbG91ZFN0b3JhZ2VJdGVtLFxuICBqZiBhcyBzZXREZWJ1ZyxcbiAgeW0gYXMgc2V0RW1vamlTdGF0dXMsXG4gIHdtIGFzIHNldEVtb2ppU3RhdHVzRXJyb3IsXG4gIGdtIGFzIHNldEVtb2ppU3RhdHVzUHJvbWlzZSxcbiAgWmwgYXMgc2V0TWFpbkJ1dHRvblBhcmFtcyxcbiAgcnIgYXMgc2V0TWluaUFwcEJhY2tncm91bmRDb2xvcixcbiAgc3IgYXMgc2V0TWluaUFwcEJvdHRvbUJhckNvbG9yLFxuICBvciBhcyBzZXRNaW5pQXBwSGVhZGVyQ29sb3IsXG4gIGFkIGFzIHNldFNlY29uZGFyeUJ1dHRvblBhcmFtcyxcbiAgcG0gYXMgc2V0dGluZ3NCdXR0b24sXG4gIEptIGFzIHNoYXJlTWVzc2FnZSxcbiAgS20gYXMgc2hhcmVTdG9yeSxcbiAgQm0gYXMgc2hhcmVVUkwsXG4gIGh1IGFzIHNob3dCYWNrQnV0dG9uLFxuICBCcCBhcyBzaG93UG9wdXAsXG4gIGpwIGFzIHNob3dQb3B1cEVycm9yLFxuICBPcCBhcyBzaG93UG9wdXBQcm9taXNlLFxuICBoZCBhcyBzaG93U2V0dGluZ3NCdXR0b24sXG4gIGZlIGFzIHN1cHBvcnRzLFxuICBkbSBhcyBzd2lwZUJlaGF2aW9yLFxuICBZbSBhcyBzd2l0Y2hJbmxpbmVRdWVyeSxcbiAgVWkgYXMgdGFyZ2V0T3JpZ2luLFxuICBhbSBhcyB0aGVtZVBhcmFtcyxcbiAgUGwgYXMgdGhlbWVQYXJhbXNBY2NlbnRUZXh0Q29sb3IsXG4gIG10IGFzIHRoZW1lUGFyYW1zQmFja2dyb3VuZENvbG9yLFxuICBGbyBhcyB0aGVtZVBhcmFtc0JvdHRvbUJhckJnQ29sb3IsXG4gIFVuIGFzIHRoZW1lUGFyYW1zQnV0dG9uQ29sb3IsXG4gIEhvIGFzIHRoZW1lUGFyYW1zQnV0dG9uVGV4dENvbG9yLFxuICB4bCBhcyB0aGVtZVBhcmFtc0Rlc3RydWN0aXZlVGV4dENvbG9yLFxuICBUbCBhcyB0aGVtZVBhcmFtc0hlYWRlckJhY2tncm91bmRDb2xvcixcbiAgQmwgYXMgdGhlbWVQYXJhbXNIaW50Q29sb3IsXG4gIElsIGFzIHRoZW1lUGFyYW1zTGlua0NvbG9yLFxuICBvcCBhcyB0aGVtZVBhcmFtc01vdW50RXJyb3IsXG4gIEtvIGFzIHRoZW1lUGFyYW1zTW91bnRQcm9taXNlLFxuICBaZSBhcyB0aGVtZVBhcmFtc1NlY29uZGFyeUJhY2tncm91bmRDb2xvcixcbiAgamwgYXMgdGhlbWVQYXJhbXNTZWN0aW9uQmFja2dyb3VuZENvbG9yLFxuICBxbCBhcyB0aGVtZVBhcmFtc1NlY3Rpb25IZWFkZXJUZXh0Q29sb3IsXG4gIERsIGFzIHRoZW1lUGFyYW1zU2VjdGlvblNlcGFyYXRvckNvbG9yLFxuICBNbCBhcyB0aGVtZVBhcmFtc1N0YXRlLFxuICBObCBhcyB0aGVtZVBhcmFtc1N1YnRpdGxlVGV4dENvbG9yLFxuICBWbCBhcyB0aGVtZVBhcmFtc1RleHRDb2xvcixcbiAgRWwgYXMgdG9SR0IsXG4gIERvIGFzIHRyYW5zZm9ybVF1ZXJ5VXNpbmcsXG4gIF91IGFzIHVubW91bnRCYWNrQnV0dG9uLFxuICBLdSBhcyB1bm1vdW50QmlvbWV0cnksXG4gIHJjIGFzIHVubW91bnRDbG9zaW5nQmVoYXZpb3IsXG4gIGNsIGFzIHVubW91bnRMb2NhdGlvbk1hbmFnZXIsXG4gIFhsIGFzIHVubW91bnRNYWluQnV0dG9uLFxuICBDcCBhcyB1bm1vdW50TWluaUFwcCxcbiAgaWQgYXMgdW5tb3VudFNlY29uZGFyeUJ1dHRvbixcbiAgX2QgYXMgdW5tb3VudFNldHRpbmdzQnV0dG9uLFxuICBTZCBhcyB1bm1vdW50U3dpcGVCZWhhdmlvcixcbiAgaXAgYXMgdW5tb3VudFRoZW1lUGFyYW1zLFxuICBEZCBhcyB1bm1vdW50Vmlld3BvcnQsXG4gIFl1IGFzIHVwZGF0ZUJpb21ldHJ5VG9rZW4sXG4gIGZtIGFzIHZpZXdwb3J0LFxuICB2YSBhcyB2aWV3cG9ydENvbnRlbnRTYWZlQXJlYUluc2V0Qm90dG9tLFxuICB3YSBhcyB2aWV3cG9ydENvbnRlbnRTYWZlQXJlYUluc2V0TGVmdCxcbiAgRWEgYXMgdmlld3BvcnRDb250ZW50U2FmZUFyZWFJbnNldFJpZ2h0LFxuICAkYSBhcyB2aWV3cG9ydENvbnRlbnRTYWZlQXJlYUluc2V0VG9wLFxuICB2ciBhcyB2aWV3cG9ydENvbnRlbnRTYWZlQXJlYUluc2V0cyxcbiAgeXIgYXMgdmlld3BvcnRIZWlnaHQsXG4gIGpkIGFzIHZpZXdwb3J0TW91bnRFcnJvcixcbiAgSWEgYXMgdmlld3BvcnRNb3VudFByb21pc2UsXG4gIFNhIGFzIHZpZXdwb3J0U2FmZUFyZWFJbnNldEJvdHRvbSxcbiAgQ2EgYXMgdmlld3BvcnRTYWZlQXJlYUluc2V0TGVmdCxcbiAgQWEgYXMgdmlld3BvcnRTYWZlQXJlYUluc2V0UmlnaHQsXG4gIGthIGFzIHZpZXdwb3J0U2FmZUFyZWFJbnNldFRvcCxcbiAgd3IgYXMgdmlld3BvcnRTYWZlQXJlYUluc2V0cyxcbiAgZ3IgYXMgdmlld3BvcnRTdGFibGVIZWlnaHQsXG4gIHlhIGFzIHZpZXdwb3J0U3RhdGUsXG4gIGdhIGFzIHZpZXdwb3J0V2lkdGgsXG4gIEEgYXMgd3JhcFNhZmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@telegram-apps/sdk/dist/index.js\n");

/***/ })

};
;